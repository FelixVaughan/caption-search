/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={486:function(t,e,i){var n;t=i.nmd(t),function(){var s,o="Expected a function",r="__lodash_hash_undefined__",a="__lodash_placeholder__",c=32,l=128,u=1/0,h=9007199254740991,d=NaN,p=4294967295,f=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],v="[object Arguments]",m="[object Array]",_="[object Boolean]",g="[object Date]",y="[object Error]",b="[object Function]",w="[object GeneratorFunction]",x="[object Map]",S="[object Number]",T="[object Object]",I="[object Promise]",C="[object RegExp]",k="[object Set]",E="[object String]",R="[object Symbol]",A="[object WeakMap]",M="[object ArrayBuffer]",P="[object DataView]",O="[object Float32Array]",D="[object Float64Array]",N="[object Int8Array]",L="[object Int16Array]",B="[object Int32Array]",V="[object Uint8Array]",U="[object Uint8ClampedArray]",j="[object Uint16Array]",W="[object Uint32Array]",F=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,$=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,K=RegExp(G.source),z=RegExp(Y.source),q=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,Q=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,it=RegExp(et.source),nt=/^\s+/,st=/\s/,ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,rt=/\{\n\/\* \[wrapped with (.+)\] \*/,at=/,? & /,ct=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lt=/[()=,{}\[\]\/\s]/,ut=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dt=/\w*$/,pt=/^[-+]0x[0-9a-f]+$/i,ft=/^0b[01]+$/i,vt=/^\[object .+?Constructor\]$/,mt=/^0o[0-7]+$/i,_t=/^(?:0|[1-9]\d*)$/,gt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yt=/($^)/,bt=/['\n\r\u2028\u2029\\]/g,wt="\\ud800-\\udfff",xt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",St="\\u2700-\\u27bf",Tt="a-z\\xdf-\\xf6\\xf8-\\xff",It="A-Z\\xc0-\\xd6\\xd8-\\xde",Ct="\\ufe0e\\ufe0f",kt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Et="["+wt+"]",Rt="["+kt+"]",At="["+xt+"]",Mt="\\d+",Pt="["+St+"]",Ot="["+Tt+"]",Dt="[^"+wt+kt+Mt+St+Tt+It+"]",Nt="\\ud83c[\\udffb-\\udfff]",Lt="[^"+wt+"]",Bt="(?:\\ud83c[\\udde6-\\uddff]){2}",Vt="[\\ud800-\\udbff][\\udc00-\\udfff]",Ut="["+It+"]",jt="\\u200d",Wt="(?:"+Ot+"|"+Dt+")",Ft="(?:"+Ut+"|"+Dt+")",Ht="(?:['’](?:d|ll|m|re|s|t|ve))?",$t="(?:['’](?:D|LL|M|RE|S|T|VE))?",Gt="(?:"+At+"|"+Nt+")?",Yt="["+Ct+"]?",Kt=Yt+Gt+"(?:"+jt+"(?:"+[Lt,Bt,Vt].join("|")+")"+Yt+Gt+")*",zt="(?:"+[Pt,Bt,Vt].join("|")+")"+Kt,qt="(?:"+[Lt+At+"?",At,Bt,Vt,Et].join("|")+")",Xt=RegExp("['’]","g"),Qt=RegExp(At,"g"),Jt=RegExp(Nt+"(?="+Nt+")|"+qt+Kt,"g"),Zt=RegExp([Ut+"?"+Ot+"+"+Ht+"(?="+[Rt,Ut,"$"].join("|")+")",Ft+"+"+$t+"(?="+[Rt,Ut+Wt,"$"].join("|")+")",Ut+"?"+Wt+"+"+Ht,Ut+"+"+$t,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Mt,zt].join("|"),"g"),te=RegExp("["+jt+wt+xt+Ct+"]"),ee=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ie=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ne=-1,se={};se[O]=se[D]=se[N]=se[L]=se[B]=se[V]=se[U]=se[j]=se[W]=!0,se[v]=se[m]=se[M]=se[_]=se[P]=se[g]=se[y]=se[b]=se[x]=se[S]=se[T]=se[C]=se[k]=se[E]=se[A]=!1;var oe={};oe[v]=oe[m]=oe[M]=oe[P]=oe[_]=oe[g]=oe[O]=oe[D]=oe[N]=oe[L]=oe[B]=oe[x]=oe[S]=oe[T]=oe[C]=oe[k]=oe[E]=oe[R]=oe[V]=oe[U]=oe[j]=oe[W]=!0,oe[y]=oe[b]=oe[A]=!1;var re={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ae=parseFloat,ce=parseInt,le="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,ue="object"==typeof self&&self&&self.Object===Object&&self,he=le||ue||Function("return this")(),de=e&&!e.nodeType&&e,pe=de&&t&&!t.nodeType&&t,fe=pe&&pe.exports===de,ve=fe&&le.process,me=function(){try{return pe&&pe.require&&pe.require("util").types||ve&&ve.binding&&ve.binding("util")}catch(t){}}(),_e=me&&me.isArrayBuffer,ge=me&&me.isDate,ye=me&&me.isMap,be=me&&me.isRegExp,we=me&&me.isSet,xe=me&&me.isTypedArray;function Se(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function Te(t,e,i,n){for(var s=-1,o=null==t?0:t.length;++s<o;){var r=t[s];e(n,r,i(r),t)}return n}function Ie(t,e){for(var i=-1,n=null==t?0:t.length;++i<n&&!1!==e(t[i],i,t););return t}function Ce(t,e){for(var i=null==t?0:t.length;i--&&!1!==e(t[i],i,t););return t}function ke(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(!e(t[i],i,t))return!1;return!0}function Ee(t,e){for(var i=-1,n=null==t?0:t.length,s=0,o=[];++i<n;){var r=t[i];e(r,i,t)&&(o[s++]=r)}return o}function Re(t,e){return!(null==t||!t.length)&&Ue(t,e,0)>-1}function Ae(t,e,i){for(var n=-1,s=null==t?0:t.length;++n<s;)if(i(e,t[n]))return!0;return!1}function Me(t,e){for(var i=-1,n=null==t?0:t.length,s=Array(n);++i<n;)s[i]=e(t[i],i,t);return s}function Pe(t,e){for(var i=-1,n=e.length,s=t.length;++i<n;)t[s+i]=e[i];return t}function Oe(t,e,i,n){var s=-1,o=null==t?0:t.length;for(n&&o&&(i=t[++s]);++s<o;)i=e(i,t[s],s,t);return i}function De(t,e,i,n){var s=null==t?0:t.length;for(n&&s&&(i=t[--s]);s--;)i=e(i,t[s],s,t);return i}function Ne(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}var Le=He("length");function Be(t,e,i){var n;return i(t,(function(t,i,s){if(e(t,i,s))return n=i,!1})),n}function Ve(t,e,i,n){for(var s=t.length,o=i+(n?1:-1);n?o--:++o<s;)if(e(t[o],o,t))return o;return-1}function Ue(t,e,i){return e==e?function(t,e,i){for(var n=i-1,s=t.length;++n<s;)if(t[n]===e)return n;return-1}(t,e,i):Ve(t,We,i)}function je(t,e,i,n){for(var s=i-1,o=t.length;++s<o;)if(n(t[s],e))return s;return-1}function We(t){return t!=t}function Fe(t,e){var i=null==t?0:t.length;return i?Ye(t,e)/i:d}function He(t){return function(e){return null==e?s:e[t]}}function $e(t){return function(e){return null==t?s:t[e]}}function Ge(t,e,i,n,s){return s(t,(function(t,s,o){i=n?(n=!1,t):e(i,t,s,o)})),i}function Ye(t,e){for(var i,n=-1,o=t.length;++n<o;){var r=e(t[n]);r!==s&&(i=i===s?r:i+r)}return i}function Ke(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}function ze(t){return t?t.slice(0,hi(t)+1).replace(nt,""):t}function qe(t){return function(e){return t(e)}}function Xe(t,e){return Me(e,(function(e){return t[e]}))}function Qe(t,e){return t.has(e)}function Je(t,e){for(var i=-1,n=t.length;++i<n&&Ue(e,t[i],0)>-1;);return i}function Ze(t,e){for(var i=t.length;i--&&Ue(e,t[i],0)>-1;);return i}var ti=$e({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),ei=$e({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ii(t){return"\\"+re[t]}function ni(t){return te.test(t)}function si(t){var e=-1,i=Array(t.size);return t.forEach((function(t,n){i[++e]=[n,t]})),i}function oi(t,e){return function(i){return t(e(i))}}function ri(t,e){for(var i=-1,n=t.length,s=0,o=[];++i<n;){var r=t[i];r!==e&&r!==a||(t[i]=a,o[s++]=i)}return o}function ai(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}function ci(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=[t,t]})),i}function li(t){return ni(t)?function(t){for(var e=Jt.lastIndex=0;Jt.test(t);)++e;return e}(t):Le(t)}function ui(t){return ni(t)?function(t){return t.match(Jt)||[]}(t):function(t){return t.split("")}(t)}function hi(t){for(var e=t.length;e--&&st.test(t.charAt(e)););return e}var di=$e({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),pi=function t(e){var i,n=(e=null==e?he:pi.defaults(he.Object(),e,pi.pick(he,ie))).Array,st=e.Date,wt=e.Error,xt=e.Function,St=e.Math,Tt=e.Object,It=e.RegExp,Ct=e.String,kt=e.TypeError,Et=n.prototype,Rt=xt.prototype,At=Tt.prototype,Mt=e["__core-js_shared__"],Pt=Rt.toString,Ot=At.hasOwnProperty,Dt=0,Nt=(i=/[^.]+$/.exec(Mt&&Mt.keys&&Mt.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",Lt=At.toString,Bt=Pt.call(Tt),Vt=he._,Ut=It("^"+Pt.call(Ot).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jt=fe?e.Buffer:s,Wt=e.Symbol,Ft=e.Uint8Array,Ht=jt?jt.allocUnsafe:s,$t=oi(Tt.getPrototypeOf,Tt),Gt=Tt.create,Yt=At.propertyIsEnumerable,Kt=Et.splice,zt=Wt?Wt.isConcatSpreadable:s,qt=Wt?Wt.iterator:s,Jt=Wt?Wt.toStringTag:s,te=function(){try{var t=co(Tt,"defineProperty");return t({},"",{}),t}catch(t){}}(),re=e.clearTimeout!==he.clearTimeout&&e.clearTimeout,le=st&&st.now!==he.Date.now&&st.now,ue=e.setTimeout!==he.setTimeout&&e.setTimeout,de=St.ceil,pe=St.floor,ve=Tt.getOwnPropertySymbols,me=jt?jt.isBuffer:s,Le=e.isFinite,$e=Et.join,fi=oi(Tt.keys,Tt),vi=St.max,mi=St.min,_i=st.now,gi=e.parseInt,yi=St.random,bi=Et.reverse,wi=co(e,"DataView"),xi=co(e,"Map"),Si=co(e,"Promise"),Ti=co(e,"Set"),Ii=co(e,"WeakMap"),Ci=co(Tt,"create"),ki=Ii&&new Ii,Ei={},Ri=Bo(wi),Ai=Bo(xi),Mi=Bo(Si),Pi=Bo(Ti),Oi=Bo(Ii),Di=Wt?Wt.prototype:s,Ni=Di?Di.valueOf:s,Li=Di?Di.toString:s;function Bi(t){if(ta(t)&&!Hr(t)&&!(t instanceof Wi)){if(t instanceof ji)return t;if(Ot.call(t,"__wrapped__"))return Vo(t)}return new ji(t)}var Vi=function(){function t(){}return function(e){if(!Zr(e))return{};if(Gt)return Gt(e);t.prototype=e;var i=new t;return t.prototype=s,i}}();function Ui(){}function ji(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=s}function Wi(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function Fi(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Hi(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function $i(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Gi(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new $i;++e<i;)this.add(t[e])}function Yi(t){var e=this.__data__=new Hi(t);this.size=e.size}function Ki(t,e){var i=Hr(t),n=!i&&Fr(t),s=!i&&!n&&Kr(t),o=!i&&!n&&!s&&ca(t),r=i||n||s||o,a=r?Ke(t.length,Ct):[],c=a.length;for(var l in t)!e&&!Ot.call(t,l)||r&&("length"==l||s&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||mo(l,c))||a.push(l);return a}function zi(t){var e=t.length;return e?t[Gn(0,e-1)]:s}function qi(t,e){return Po(Cs(t),on(e,0,t.length))}function Xi(t){return Po(Cs(t))}function Qi(t,e,i){(i!==s&&!Ur(t[e],i)||i===s&&!(e in t))&&nn(t,e,i)}function Ji(t,e,i){var n=t[e];Ot.call(t,e)&&Ur(n,i)&&(i!==s||e in t)||nn(t,e,i)}function Zi(t,e){for(var i=t.length;i--;)if(Ur(t[i][0],e))return i;return-1}function tn(t,e,i,n){return un(t,(function(t,s,o){e(n,t,i(t),o)})),n}function en(t,e){return t&&ks(e,Aa(e),t)}function nn(t,e,i){"__proto__"==e&&te?te(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function sn(t,e){for(var i=-1,o=e.length,r=n(o),a=null==t;++i<o;)r[i]=a?s:Ia(t,e[i]);return r}function on(t,e,i){return t==t&&(i!==s&&(t=t<=i?t:i),e!==s&&(t=t>=e?t:e)),t}function rn(t,e,i,n,o,r){var a,c=1&e,l=2&e,u=4&e;if(i&&(a=o?i(t,n,o,r):i(t)),a!==s)return a;if(!Zr(t))return t;var h=Hr(t);if(h){if(a=function(t){var e=t.length,i=new t.constructor(e);return e&&"string"==typeof t[0]&&Ot.call(t,"index")&&(i.index=t.index,i.input=t.input),i}(t),!c)return Cs(t,a)}else{var d=ho(t),p=d==b||d==w;if(Kr(t))return bs(t,c);if(d==T||d==v||p&&!o){if(a=l||p?{}:fo(t),!c)return l?function(t,e){return ks(t,uo(t),e)}(t,function(t,e){return t&&ks(e,Ma(e),t)}(a,t)):function(t,e){return ks(t,lo(t),e)}(t,en(a,t))}else{if(!oe[d])return o?t:{};a=function(t,e,i){var n,s=t.constructor;switch(e){case M:return ws(t);case _:case g:return new s(+t);case P:return function(t,e){var i=e?ws(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}(t,i);case O:case D:case N:case L:case B:case V:case U:case j:case W:return xs(t,i);case x:return new s;case S:case E:return new s(t);case C:return function(t){var e=new t.constructor(t.source,dt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case k:return new s;case R:return n=t,Ni?Tt(Ni.call(n)):{}}}(t,d,c)}}r||(r=new Yi);var f=r.get(t);if(f)return f;r.set(t,a),oa(t)?t.forEach((function(n){a.add(rn(n,e,i,n,t,r))})):ea(t)&&t.forEach((function(n,s){a.set(s,rn(n,e,i,s,t,r))}));var m=h?s:(u?l?eo:to:l?Ma:Aa)(t);return Ie(m||t,(function(n,s){m&&(n=t[s=n]),Ji(a,s,rn(n,e,i,s,t,r))})),a}function an(t,e,i){var n=i.length;if(null==t)return!n;for(t=Tt(t);n--;){var o=i[n],r=e[o],a=t[o];if(a===s&&!(o in t)||!r(a))return!1}return!0}function cn(t,e,i){if("function"!=typeof t)throw new kt(o);return Eo((function(){t.apply(s,i)}),e)}function ln(t,e,i,n){var s=-1,o=Re,r=!0,a=t.length,c=[],l=e.length;if(!a)return c;i&&(e=Me(e,qe(i))),n?(o=Ae,r=!1):e.length>=200&&(o=Qe,r=!1,e=new Gi(e));t:for(;++s<a;){var u=t[s],h=null==i?u:i(u);if(u=n||0!==u?u:0,r&&h==h){for(var d=l;d--;)if(e[d]===h)continue t;c.push(u)}else o(e,h,n)||c.push(u)}return c}Bi.templateSettings={escape:q,evaluate:X,interpolate:Q,variable:"",imports:{_:Bi}},Bi.prototype=Ui.prototype,Bi.prototype.constructor=Bi,ji.prototype=Vi(Ui.prototype),ji.prototype.constructor=ji,Wi.prototype=Vi(Ui.prototype),Wi.prototype.constructor=Wi,Fi.prototype.clear=function(){this.__data__=Ci?Ci(null):{},this.size=0},Fi.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Fi.prototype.get=function(t){var e=this.__data__;if(Ci){var i=e[t];return i===r?s:i}return Ot.call(e,t)?e[t]:s},Fi.prototype.has=function(t){var e=this.__data__;return Ci?e[t]!==s:Ot.call(e,t)},Fi.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Ci&&e===s?r:e,this},Hi.prototype.clear=function(){this.__data__=[],this.size=0},Hi.prototype.delete=function(t){var e=this.__data__,i=Zi(e,t);return!(i<0||(i==e.length-1?e.pop():Kt.call(e,i,1),--this.size,0))},Hi.prototype.get=function(t){var e=this.__data__,i=Zi(e,t);return i<0?s:e[i][1]},Hi.prototype.has=function(t){return Zi(this.__data__,t)>-1},Hi.prototype.set=function(t,e){var i=this.__data__,n=Zi(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this},$i.prototype.clear=function(){this.size=0,this.__data__={hash:new Fi,map:new(xi||Hi),string:new Fi}},$i.prototype.delete=function(t){var e=ro(this,t).delete(t);return this.size-=e?1:0,e},$i.prototype.get=function(t){return ro(this,t).get(t)},$i.prototype.has=function(t){return ro(this,t).has(t)},$i.prototype.set=function(t,e){var i=ro(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this},Gi.prototype.add=Gi.prototype.push=function(t){return this.__data__.set(t,r),this},Gi.prototype.has=function(t){return this.__data__.has(t)},Yi.prototype.clear=function(){this.__data__=new Hi,this.size=0},Yi.prototype.delete=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i},Yi.prototype.get=function(t){return this.__data__.get(t)},Yi.prototype.has=function(t){return this.__data__.has(t)},Yi.prototype.set=function(t,e){var i=this.__data__;if(i instanceof Hi){var n=i.__data__;if(!xi||n.length<199)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new $i(n)}return i.set(t,e),this.size=i.size,this};var un=As(gn),hn=As(yn,!0);function dn(t,e){var i=!0;return un(t,(function(t,n,s){return i=!!e(t,n,s)})),i}function pn(t,e,i){for(var n=-1,o=t.length;++n<o;){var r=t[n],a=e(r);if(null!=a&&(c===s?a==a&&!aa(a):i(a,c)))var c=a,l=r}return l}function fn(t,e){var i=[];return un(t,(function(t,n,s){e(t,n,s)&&i.push(t)})),i}function vn(t,e,i,n,s){var o=-1,r=t.length;for(i||(i=vo),s||(s=[]);++o<r;){var a=t[o];e>0&&i(a)?e>1?vn(a,e-1,i,n,s):Pe(s,a):n||(s[s.length]=a)}return s}var mn=Ms(),_n=Ms(!0);function gn(t,e){return t&&mn(t,e,Aa)}function yn(t,e){return t&&_n(t,e,Aa)}function bn(t,e){return Ee(e,(function(e){return Xr(t[e])}))}function wn(t,e){for(var i=0,n=(e=ms(e,t)).length;null!=t&&i<n;)t=t[Lo(e[i++])];return i&&i==n?t:s}function xn(t,e,i){var n=e(t);return Hr(t)?n:Pe(n,i(t))}function Sn(t){return null==t?t===s?"[object Undefined]":"[object Null]":Jt&&Jt in Tt(t)?function(t){var e=Ot.call(t,Jt),i=t[Jt];try{t[Jt]=s;var n=!0}catch(t){}var o=Lt.call(t);return n&&(e?t[Jt]=i:delete t[Jt]),o}(t):function(t){return Lt.call(t)}(t)}function Tn(t,e){return t>e}function In(t,e){return null!=t&&Ot.call(t,e)}function Cn(t,e){return null!=t&&e in Tt(t)}function kn(t,e,i){for(var o=i?Ae:Re,r=t[0].length,a=t.length,c=a,l=n(a),u=1/0,h=[];c--;){var d=t[c];c&&e&&(d=Me(d,qe(e))),u=mi(d.length,u),l[c]=!i&&(e||r>=120&&d.length>=120)?new Gi(c&&d):s}d=t[0];var p=-1,f=l[0];t:for(;++p<r&&h.length<u;){var v=d[p],m=e?e(v):v;if(v=i||0!==v?v:0,!(f?Qe(f,m):o(h,m,i))){for(c=a;--c;){var _=l[c];if(!(_?Qe(_,m):o(t[c],m,i)))continue t}f&&f.push(m),h.push(v)}}return h}function En(t,e,i){var n=null==(t=Io(t,e=ms(e,t)))?t:t[Lo(qo(e))];return null==n?s:Se(n,t,i)}function Rn(t){return ta(t)&&Sn(t)==v}function An(t,e,i,n,o){return t===e||(null==t||null==e||!ta(t)&&!ta(e)?t!=t&&e!=e:function(t,e,i,n,o,r){var a=Hr(t),c=Hr(e),l=a?m:ho(t),u=c?m:ho(e),h=(l=l==v?T:l)==T,d=(u=u==v?T:u)==T,p=l==u;if(p&&Kr(t)){if(!Kr(e))return!1;a=!0,h=!1}if(p&&!h)return r||(r=new Yi),a||ca(t)?Js(t,e,i,n,o,r):function(t,e,i,n,s,o,r){switch(i){case P:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case M:return!(t.byteLength!=e.byteLength||!o(new Ft(t),new Ft(e)));case _:case g:case S:return Ur(+t,+e);case y:return t.name==e.name&&t.message==e.message;case C:case E:return t==e+"";case x:var a=si;case k:var c=1&n;if(a||(a=ai),t.size!=e.size&&!c)return!1;var l=r.get(t);if(l)return l==e;n|=2,r.set(t,e);var u=Js(a(t),a(e),n,s,o,r);return r.delete(t),u;case R:if(Ni)return Ni.call(t)==Ni.call(e)}return!1}(t,e,l,i,n,o,r);if(!(1&i)){var f=h&&Ot.call(t,"__wrapped__"),b=d&&Ot.call(e,"__wrapped__");if(f||b){var w=f?t.value():t,I=b?e.value():e;return r||(r=new Yi),o(w,I,i,n,r)}}return!!p&&(r||(r=new Yi),function(t,e,i,n,o,r){var a=1&i,c=to(t),l=c.length;if(l!=to(e).length&&!a)return!1;for(var u=l;u--;){var h=c[u];if(!(a?h in e:Ot.call(e,h)))return!1}var d=r.get(t),p=r.get(e);if(d&&p)return d==e&&p==t;var f=!0;r.set(t,e),r.set(e,t);for(var v=a;++u<l;){var m=t[h=c[u]],_=e[h];if(n)var g=a?n(_,m,h,e,t,r):n(m,_,h,t,e,r);if(!(g===s?m===_||o(m,_,i,n,r):g)){f=!1;break}v||(v="constructor"==h)}if(f&&!v){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return r.delete(t),r.delete(e),f}(t,e,i,n,o,r))}(t,e,i,n,An,o))}function Mn(t,e,i,n){var o=i.length,r=o,a=!n;if(null==t)return!r;for(t=Tt(t);o--;){var c=i[o];if(a&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++o<r;){var l=(c=i[o])[0],u=t[l],h=c[1];if(a&&c[2]){if(u===s&&!(l in t))return!1}else{var d=new Yi;if(n)var p=n(u,h,l,t,e,d);if(!(p===s?An(h,u,3,n,d):p))return!1}}return!0}function Pn(t){return!(!Zr(t)||(e=t,Nt&&Nt in e))&&(Xr(t)?Ut:vt).test(Bo(t));var e}function On(t){return"function"==typeof t?t:null==t?ic:"object"==typeof t?Hr(t)?Vn(t[0],t[1]):Bn(t):hc(t)}function Dn(t){if(!wo(t))return fi(t);var e=[];for(var i in Tt(t))Ot.call(t,i)&&"constructor"!=i&&e.push(i);return e}function Nn(t,e){return t<e}function Ln(t,e){var i=-1,s=Gr(t)?n(t.length):[];return un(t,(function(t,n,o){s[++i]=e(t,n,o)})),s}function Bn(t){var e=ao(t);return 1==e.length&&e[0][2]?So(e[0][0],e[0][1]):function(i){return i===t||Mn(i,t,e)}}function Vn(t,e){return go(t)&&xo(e)?So(Lo(t),e):function(i){var n=Ia(i,t);return n===s&&n===e?Ca(i,t):An(e,n,3)}}function Un(t,e,i,n,o){t!==e&&mn(e,(function(r,a){if(o||(o=new Yi),Zr(r))!function(t,e,i,n,o,r,a){var c=Co(t,i),l=Co(e,i),u=a.get(l);if(u)Qi(t,i,u);else{var h=r?r(c,l,i+"",t,e,a):s,d=h===s;if(d){var p=Hr(l),f=!p&&Kr(l),v=!p&&!f&&ca(l);h=l,p||f||v?Hr(c)?h=c:Yr(c)?h=Cs(c):f?(d=!1,h=bs(l,!0)):v?(d=!1,h=xs(l,!0)):h=[]:na(l)||Fr(l)?(h=c,Fr(c)?h=ma(c):Zr(c)&&!Xr(c)||(h=fo(l))):d=!1}d&&(a.set(l,h),o(h,l,n,r,a),a.delete(l)),Qi(t,i,h)}}(t,e,a,i,Un,n,o);else{var c=n?n(Co(t,a),r,a+"",t,e,o):s;c===s&&(c=r),Qi(t,a,c)}}),Ma)}function jn(t,e){var i=t.length;if(i)return mo(e+=e<0?i:0,i)?t[e]:s}function Wn(t,e,i){e=e.length?Me(e,(function(t){return Hr(t)?function(e){return wn(e,1===t.length?t[0]:t)}:t})):[ic];var n=-1;e=Me(e,qe(oo()));var s=Ln(t,(function(t,i,s){var o=Me(e,(function(e){return e(t)}));return{criteria:o,index:++n,value:t}}));return function(t,e){var n=t.length;for(t.sort((function(t,e){return function(t,e,i){for(var n=-1,s=t.criteria,o=e.criteria,r=s.length,a=i.length;++n<r;){var c=Ss(s[n],o[n]);if(c)return n>=a?c:c*("desc"==i[n]?-1:1)}return t.index-e.index}(t,e,i)}));n--;)t[n]=t[n].value;return t}(s)}function Fn(t,e,i){for(var n=-1,s=e.length,o={};++n<s;){var r=e[n],a=wn(t,r);i(a,r)&&Xn(o,ms(r,t),a)}return o}function Hn(t,e,i,n){var s=n?je:Ue,o=-1,r=e.length,a=t;for(t===e&&(e=Cs(e)),i&&(a=Me(t,qe(i)));++o<r;)for(var c=0,l=e[o],u=i?i(l):l;(c=s(a,u,c,n))>-1;)a!==t&&Kt.call(a,c,1),Kt.call(t,c,1);return t}function $n(t,e){for(var i=t?e.length:0,n=i-1;i--;){var s=e[i];if(i==n||s!==o){var o=s;mo(s)?Kt.call(t,s,1):cs(t,s)}}return t}function Gn(t,e){return t+pe(yi()*(e-t+1))}function Yn(t,e){var i="";if(!t||e<1||e>h)return i;do{e%2&&(i+=t),(e=pe(e/2))&&(t+=t)}while(e);return i}function Kn(t,e){return Ro(To(t,e,ic),t+"")}function zn(t){return zi(Ua(t))}function qn(t,e){var i=Ua(t);return Po(i,on(e,0,i.length))}function Xn(t,e,i,n){if(!Zr(t))return t;for(var o=-1,r=(e=ms(e,t)).length,a=r-1,c=t;null!=c&&++o<r;){var l=Lo(e[o]),u=i;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(o!=a){var h=c[l];(u=n?n(h,l,c):s)===s&&(u=Zr(h)?h:mo(e[o+1])?[]:{})}Ji(c,l,u),c=c[l]}return t}var Qn=ki?function(t,e){return ki.set(t,e),t}:ic,Jn=te?function(t,e){return te(t,"toString",{configurable:!0,enumerable:!1,value:Za(e),writable:!0})}:ic;function Zn(t){return Po(Ua(t))}function ts(t,e,i){var s=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(i=i>o?o:i)<0&&(i+=o),o=e>i?0:i-e>>>0,e>>>=0;for(var r=n(o);++s<o;)r[s]=t[s+e];return r}function es(t,e){var i;return un(t,(function(t,n,s){return!(i=e(t,n,s))})),!!i}function is(t,e,i){var n=0,s=null==t?n:t.length;if("number"==typeof e&&e==e&&s<=2147483647){for(;n<s;){var o=n+s>>>1,r=t[o];null!==r&&!aa(r)&&(i?r<=e:r<e)?n=o+1:s=o}return s}return ns(t,e,ic,i)}function ns(t,e,i,n){var o=0,r=null==t?0:t.length;if(0===r)return 0;for(var a=(e=i(e))!=e,c=null===e,l=aa(e),u=e===s;o<r;){var h=pe((o+r)/2),d=i(t[h]),p=d!==s,f=null===d,v=d==d,m=aa(d);if(a)var _=n||v;else _=u?v&&(n||p):c?v&&p&&(n||!f):l?v&&p&&!f&&(n||!m):!f&&!m&&(n?d<=e:d<e);_?o=h+1:r=h}return mi(r,4294967294)}function ss(t,e){for(var i=-1,n=t.length,s=0,o=[];++i<n;){var r=t[i],a=e?e(r):r;if(!i||!Ur(a,c)){var c=a;o[s++]=0===r?0:r}}return o}function os(t){return"number"==typeof t?t:aa(t)?d:+t}function rs(t){if("string"==typeof t)return t;if(Hr(t))return Me(t,rs)+"";if(aa(t))return Li?Li.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function as(t,e,i){var n=-1,s=Re,o=t.length,r=!0,a=[],c=a;if(i)r=!1,s=Ae;else if(o>=200){var l=e?null:Ys(t);if(l)return ai(l);r=!1,s=Qe,c=new Gi}else c=e?[]:a;t:for(;++n<o;){var u=t[n],h=e?e(u):u;if(u=i||0!==u?u:0,r&&h==h){for(var d=c.length;d--;)if(c[d]===h)continue t;e&&c.push(h),a.push(u)}else s(c,h,i)||(c!==a&&c.push(h),a.push(u))}return a}function cs(t,e){return null==(t=Io(t,e=ms(e,t)))||delete t[Lo(qo(e))]}function ls(t,e,i,n){return Xn(t,e,i(wn(t,e)),n)}function us(t,e,i,n){for(var s=t.length,o=n?s:-1;(n?o--:++o<s)&&e(t[o],o,t););return i?ts(t,n?0:o,n?o+1:s):ts(t,n?o+1:0,n?s:o)}function hs(t,e){var i=t;return i instanceof Wi&&(i=i.value()),Oe(e,(function(t,e){return e.func.apply(e.thisArg,Pe([t],e.args))}),i)}function ds(t,e,i){var s=t.length;if(s<2)return s?as(t[0]):[];for(var o=-1,r=n(s);++o<s;)for(var a=t[o],c=-1;++c<s;)c!=o&&(r[o]=ln(r[o]||a,t[c],e,i));return as(vn(r,1),e,i)}function ps(t,e,i){for(var n=-1,o=t.length,r=e.length,a={};++n<o;){var c=n<r?e[n]:s;i(a,t[n],c)}return a}function fs(t){return Yr(t)?t:[]}function vs(t){return"function"==typeof t?t:ic}function ms(t,e){return Hr(t)?t:go(t,e)?[t]:No(_a(t))}var _s=Kn;function gs(t,e,i){var n=t.length;return i=i===s?n:i,!e&&i>=n?t:ts(t,e,i)}var ys=re||function(t){return he.clearTimeout(t)};function bs(t,e){if(e)return t.slice();var i=t.length,n=Ht?Ht(i):new t.constructor(i);return t.copy(n),n}function ws(t){var e=new t.constructor(t.byteLength);return new Ft(e).set(new Ft(t)),e}function xs(t,e){var i=e?ws(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function Ss(t,e){if(t!==e){var i=t!==s,n=null===t,o=t==t,r=aa(t),a=e!==s,c=null===e,l=e==e,u=aa(e);if(!c&&!u&&!r&&t>e||r&&a&&l&&!c&&!u||n&&a&&l||!i&&l||!o)return 1;if(!n&&!r&&!u&&t<e||u&&i&&o&&!n&&!r||c&&i&&o||!a&&o||!l)return-1}return 0}function Ts(t,e,i,s){for(var o=-1,r=t.length,a=i.length,c=-1,l=e.length,u=vi(r-a,0),h=n(l+u),d=!s;++c<l;)h[c]=e[c];for(;++o<a;)(d||o<r)&&(h[i[o]]=t[o]);for(;u--;)h[c++]=t[o++];return h}function Is(t,e,i,s){for(var o=-1,r=t.length,a=-1,c=i.length,l=-1,u=e.length,h=vi(r-c,0),d=n(h+u),p=!s;++o<h;)d[o]=t[o];for(var f=o;++l<u;)d[f+l]=e[l];for(;++a<c;)(p||o<r)&&(d[f+i[a]]=t[o++]);return d}function Cs(t,e){var i=-1,s=t.length;for(e||(e=n(s));++i<s;)e[i]=t[i];return e}function ks(t,e,i,n){var o=!i;i||(i={});for(var r=-1,a=e.length;++r<a;){var c=e[r],l=n?n(i[c],t[c],c,i,t):s;l===s&&(l=t[c]),o?nn(i,c,l):Ji(i,c,l)}return i}function Es(t,e){return function(i,n){var s=Hr(i)?Te:tn,o=e?e():{};return s(i,t,oo(n,2),o)}}function Rs(t){return Kn((function(e,i){var n=-1,o=i.length,r=o>1?i[o-1]:s,a=o>2?i[2]:s;for(r=t.length>3&&"function"==typeof r?(o--,r):s,a&&_o(i[0],i[1],a)&&(r=o<3?s:r,o=1),e=Tt(e);++n<o;){var c=i[n];c&&t(e,c,n,r)}return e}))}function As(t,e){return function(i,n){if(null==i)return i;if(!Gr(i))return t(i,n);for(var s=i.length,o=e?s:-1,r=Tt(i);(e?o--:++o<s)&&!1!==n(r[o],o,r););return i}}function Ms(t){return function(e,i,n){for(var s=-1,o=Tt(e),r=n(e),a=r.length;a--;){var c=r[t?a:++s];if(!1===i(o[c],c,o))break}return e}}function Ps(t){return function(e){var i=ni(e=_a(e))?ui(e):s,n=i?i[0]:e.charAt(0),o=i?gs(i,1).join(""):e.slice(1);return n[t]()+o}}function Os(t){return function(e){return Oe(Xa(Fa(e).replace(Xt,"")),t,"")}}function Ds(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=Vi(t.prototype),n=t.apply(i,e);return Zr(n)?n:i}}function Ns(t){return function(e,i,n){var o=Tt(e);if(!Gr(e)){var r=oo(i,3);e=Aa(e),i=function(t){return r(o[t],t,o)}}var a=t(e,i,n);return a>-1?o[r?e[a]:a]:s}}function Ls(t){return Zs((function(e){var i=e.length,n=i,r=ji.prototype.thru;for(t&&e.reverse();n--;){var a=e[n];if("function"!=typeof a)throw new kt(o);if(r&&!c&&"wrapper"==no(a))var c=new ji([],!0)}for(n=c?n:i;++n<i;){var l=no(a=e[n]),u="wrapper"==l?io(a):s;c=u&&yo(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?c[no(u[0])].apply(c,u[3]):1==a.length&&yo(a)?c[l]():c.thru(a)}return function(){var t=arguments,n=t[0];if(c&&1==t.length&&Hr(n))return c.plant(n).value();for(var s=0,o=i?e[s].apply(this,t):n;++s<i;)o=e[s].call(this,o);return o}}))}function Bs(t,e,i,o,r,a,c,u,h,d){var p=e&l,f=1&e,v=2&e,m=24&e,_=512&e,g=v?s:Ds(t);return function l(){for(var y=arguments.length,b=n(y),w=y;w--;)b[w]=arguments[w];if(m)var x=so(l),S=function(t,e){for(var i=t.length,n=0;i--;)t[i]===e&&++n;return n}(b,x);if(o&&(b=Ts(b,o,r,m)),a&&(b=Is(b,a,c,m)),y-=S,m&&y<d){var T=ri(b,x);return $s(t,e,Bs,l.placeholder,i,b,T,u,h,d-y)}var I=f?i:this,C=v?I[t]:t;return y=b.length,u?b=function(t,e){for(var i=t.length,n=mi(e.length,i),o=Cs(t);n--;){var r=e[n];t[n]=mo(r,i)?o[r]:s}return t}(b,u):_&&y>1&&b.reverse(),p&&h<y&&(b.length=h),this&&this!==he&&this instanceof l&&(C=g||Ds(C)),C.apply(I,b)}}function Vs(t,e){return function(i,n){return function(t,e,i,n){return gn(t,(function(t,s,o){e(n,i(t),s,o)})),n}(i,t,e(n),{})}}function Us(t,e){return function(i,n){var o;if(i===s&&n===s)return e;if(i!==s&&(o=i),n!==s){if(o===s)return n;"string"==typeof i||"string"==typeof n?(i=rs(i),n=rs(n)):(i=os(i),n=os(n)),o=t(i,n)}return o}}function js(t){return Zs((function(e){return e=Me(e,qe(oo())),Kn((function(i){var n=this;return t(e,(function(t){return Se(t,n,i)}))}))}))}function Ws(t,e){var i=(e=e===s?" ":rs(e)).length;if(i<2)return i?Yn(e,t):e;var n=Yn(e,de(t/li(e)));return ni(e)?gs(ui(n),0,t).join(""):n.slice(0,t)}function Fs(t){return function(e,i,o){return o&&"number"!=typeof o&&_o(e,i,o)&&(i=o=s),e=da(e),i===s?(i=e,e=0):i=da(i),function(t,e,i,s){for(var o=-1,r=vi(de((e-t)/(i||1)),0),a=n(r);r--;)a[s?r:++o]=t,t+=i;return a}(e,i,o=o===s?e<i?1:-1:da(o),t)}}function Hs(t){return function(e,i){return"string"==typeof e&&"string"==typeof i||(e=va(e),i=va(i)),t(e,i)}}function $s(t,e,i,n,o,r,a,l,u,h){var d=8&e;e|=d?c:64,4&(e&=~(d?64:c))||(e&=-4);var p=[t,e,o,d?r:s,d?a:s,d?s:r,d?s:a,l,u,h],f=i.apply(s,p);return yo(t)&&ko(f,p),f.placeholder=n,Ao(f,t,e)}function Gs(t){var e=St[t];return function(t,i){if(t=va(t),(i=null==i?0:mi(pa(i),292))&&Le(t)){var n=(_a(t)+"e").split("e");return+((n=(_a(e(n[0]+"e"+(+n[1]+i)))+"e").split("e"))[0]+"e"+(+n[1]-i))}return e(t)}}var Ys=Ti&&1/ai(new Ti([,-0]))[1]==u?function(t){return new Ti(t)}:ac;function Ks(t){return function(e){var i=ho(e);return i==x?si(e):i==k?ci(e):function(t,e){return Me(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function zs(t,e,i,r,u,h,d,p){var f=2&e;if(!f&&"function"!=typeof t)throw new kt(o);var v=r?r.length:0;if(v||(e&=-97,r=u=s),d=d===s?d:vi(pa(d),0),p=p===s?p:pa(p),v-=u?u.length:0,64&e){var m=r,_=u;r=u=s}var g=f?s:io(t),y=[t,e,i,r,u,m,_,h,d,p];if(g&&function(t,e){var i=t[1],n=e[1],s=i|n,o=s<131,r=n==l&&8==i||n==l&&256==i&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==i;if(!o&&!r)return t;1&n&&(t[2]=e[2],s|=1&i?0:4);var c=e[3];if(c){var u=t[3];t[3]=u?Ts(u,c,e[4]):c,t[4]=u?ri(t[3],a):e[4]}(c=e[5])&&(u=t[5],t[5]=u?Is(u,c,e[6]):c,t[6]=u?ri(t[5],a):e[6]),(c=e[7])&&(t[7]=c),n&l&&(t[8]=null==t[8]?e[8]:mi(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=s}(y,g),t=y[0],e=y[1],i=y[2],r=y[3],u=y[4],!(p=y[9]=y[9]===s?f?0:t.length:vi(y[9]-v,0))&&24&e&&(e&=-25),e&&1!=e)b=8==e||16==e?function(t,e,i){var o=Ds(t);return function r(){for(var a=arguments.length,c=n(a),l=a,u=so(r);l--;)c[l]=arguments[l];var h=a<3&&c[0]!==u&&c[a-1]!==u?[]:ri(c,u);return(a-=h.length)<i?$s(t,e,Bs,r.placeholder,s,c,h,s,s,i-a):Se(this&&this!==he&&this instanceof r?o:t,this,c)}}(t,e,p):e!=c&&33!=e||u.length?Bs.apply(s,y):function(t,e,i,s){var o=1&e,r=Ds(t);return function e(){for(var a=-1,c=arguments.length,l=-1,u=s.length,h=n(u+c),d=this&&this!==he&&this instanceof e?r:t;++l<u;)h[l]=s[l];for(;c--;)h[l++]=arguments[++a];return Se(d,o?i:this,h)}}(t,e,i,r);else var b=function(t,e,i){var n=1&e,s=Ds(t);return function e(){return(this&&this!==he&&this instanceof e?s:t).apply(n?i:this,arguments)}}(t,e,i);return Ao((g?Qn:ko)(b,y),t,e)}function qs(t,e,i,n){return t===s||Ur(t,At[i])&&!Ot.call(n,i)?e:t}function Xs(t,e,i,n,o,r){return Zr(t)&&Zr(e)&&(r.set(e,t),Un(t,e,s,Xs,r),r.delete(e)),t}function Qs(t){return na(t)?s:t}function Js(t,e,i,n,o,r){var a=1&i,c=t.length,l=e.length;if(c!=l&&!(a&&l>c))return!1;var u=r.get(t),h=r.get(e);if(u&&h)return u==e&&h==t;var d=-1,p=!0,f=2&i?new Gi:s;for(r.set(t,e),r.set(e,t);++d<c;){var v=t[d],m=e[d];if(n)var _=a?n(m,v,d,e,t,r):n(v,m,d,t,e,r);if(_!==s){if(_)continue;p=!1;break}if(f){if(!Ne(e,(function(t,e){if(!Qe(f,e)&&(v===t||o(v,t,i,n,r)))return f.push(e)}))){p=!1;break}}else if(v!==m&&!o(v,m,i,n,r)){p=!1;break}}return r.delete(t),r.delete(e),p}function Zs(t){return Ro(To(t,s,$o),t+"")}function to(t){return xn(t,Aa,lo)}function eo(t){return xn(t,Ma,uo)}var io=ki?function(t){return ki.get(t)}:ac;function no(t){for(var e=t.name+"",i=Ei[e],n=Ot.call(Ei,e)?i.length:0;n--;){var s=i[n],o=s.func;if(null==o||o==t)return s.name}return e}function so(t){return(Ot.call(Bi,"placeholder")?Bi:t).placeholder}function oo(){var t=Bi.iteratee||nc;return t=t===nc?On:t,arguments.length?t(arguments[0],arguments[1]):t}function ro(t,e){var i,n,s=t.__data__;return("string"==(n=typeof(i=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?s["string"==typeof e?"string":"hash"]:s.map}function ao(t){for(var e=Aa(t),i=e.length;i--;){var n=e[i],s=t[n];e[i]=[n,s,xo(s)]}return e}function co(t,e){var i=function(t,e){return null==t?s:t[e]}(t,e);return Pn(i)?i:s}var lo=ve?function(t){return null==t?[]:(t=Tt(t),Ee(ve(t),(function(e){return Yt.call(t,e)})))}:fc,uo=ve?function(t){for(var e=[];t;)Pe(e,lo(t)),t=$t(t);return e}:fc,ho=Sn;function po(t,e,i){for(var n=-1,s=(e=ms(e,t)).length,o=!1;++n<s;){var r=Lo(e[n]);if(!(o=null!=t&&i(t,r)))break;t=t[r]}return o||++n!=s?o:!!(s=null==t?0:t.length)&&Jr(s)&&mo(r,s)&&(Hr(t)||Fr(t))}function fo(t){return"function"!=typeof t.constructor||wo(t)?{}:Vi($t(t))}function vo(t){return Hr(t)||Fr(t)||!!(zt&&t&&t[zt])}function mo(t,e){var i=typeof t;return!!(e=null==e?h:e)&&("number"==i||"symbol"!=i&&_t.test(t))&&t>-1&&t%1==0&&t<e}function _o(t,e,i){if(!Zr(i))return!1;var n=typeof e;return!!("number"==n?Gr(i)&&mo(e,i.length):"string"==n&&e in i)&&Ur(i[e],t)}function go(t,e){if(Hr(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!aa(t))||Z.test(t)||!J.test(t)||null!=e&&t in Tt(e)}function yo(t){var e=no(t),i=Bi[e];if("function"!=typeof i||!(e in Wi.prototype))return!1;if(t===i)return!0;var n=io(i);return!!n&&t===n[0]}(wi&&ho(new wi(new ArrayBuffer(1)))!=P||xi&&ho(new xi)!=x||Si&&ho(Si.resolve())!=I||Ti&&ho(new Ti)!=k||Ii&&ho(new Ii)!=A)&&(ho=function(t){var e=Sn(t),i=e==T?t.constructor:s,n=i?Bo(i):"";if(n)switch(n){case Ri:return P;case Ai:return x;case Mi:return I;case Pi:return k;case Oi:return A}return e});var bo=Mt?Xr:vc;function wo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||At)}function xo(t){return t==t&&!Zr(t)}function So(t,e){return function(i){return null!=i&&i[t]===e&&(e!==s||t in Tt(i))}}function To(t,e,i){return e=vi(e===s?t.length-1:e,0),function(){for(var s=arguments,o=-1,r=vi(s.length-e,0),a=n(r);++o<r;)a[o]=s[e+o];o=-1;for(var c=n(e+1);++o<e;)c[o]=s[o];return c[e]=i(a),Se(t,this,c)}}function Io(t,e){return e.length<2?t:wn(t,ts(e,0,-1))}function Co(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var ko=Mo(Qn),Eo=ue||function(t,e){return he.setTimeout(t,e)},Ro=Mo(Jn);function Ao(t,e,i){var n=e+"";return Ro(t,function(t,e){var i=e.length;if(!i)return t;var n=i-1;return e[n]=(i>1?"& ":"")+e[n],e=e.join(i>2?", ":" "),t.replace(ot,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return Ie(f,(function(i){var n="_."+i[0];e&i[1]&&!Re(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(rt);return e?e[1].split(at):[]}(n),i)))}function Mo(t){var e=0,i=0;return function(){var n=_i(),o=16-(n-i);if(i=n,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(s,arguments)}}function Po(t,e){var i=-1,n=t.length,o=n-1;for(e=e===s?n:e;++i<e;){var r=Gn(i,o),a=t[r];t[r]=t[i],t[i]=a}return t.length=e,t}var Oo,Do,No=(Oo=Or((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,(function(t,i,n,s){e.push(n?s.replace(ut,"$1"):i||t)})),e}),(function(t){return 500===Do.size&&Do.clear(),t})),Do=Oo.cache,Oo);function Lo(t){if("string"==typeof t||aa(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Bo(t){if(null!=t){try{return Pt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Vo(t){if(t instanceof Wi)return t.clone();var e=new ji(t.__wrapped__,t.__chain__);return e.__actions__=Cs(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Uo=Kn((function(t,e){return Yr(t)?ln(t,vn(e,1,Yr,!0)):[]})),jo=Kn((function(t,e){var i=qo(e);return Yr(i)&&(i=s),Yr(t)?ln(t,vn(e,1,Yr,!0),oo(i,2)):[]})),Wo=Kn((function(t,e){var i=qo(e);return Yr(i)&&(i=s),Yr(t)?ln(t,vn(e,1,Yr,!0),s,i):[]}));function Fo(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var s=null==i?0:pa(i);return s<0&&(s=vi(n+s,0)),Ve(t,oo(e,3),s)}function Ho(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var o=n-1;return i!==s&&(o=pa(i),o=i<0?vi(n+o,0):mi(o,n-1)),Ve(t,oo(e,3),o,!0)}function $o(t){return null!=t&&t.length?vn(t,1):[]}function Go(t){return t&&t.length?t[0]:s}var Yo=Kn((function(t){var e=Me(t,fs);return e.length&&e[0]===t[0]?kn(e):[]})),Ko=Kn((function(t){var e=qo(t),i=Me(t,fs);return e===qo(i)?e=s:i.pop(),i.length&&i[0]===t[0]?kn(i,oo(e,2)):[]})),zo=Kn((function(t){var e=qo(t),i=Me(t,fs);return(e="function"==typeof e?e:s)&&i.pop(),i.length&&i[0]===t[0]?kn(i,s,e):[]}));function qo(t){var e=null==t?0:t.length;return e?t[e-1]:s}var Xo=Kn(Qo);function Qo(t,e){return t&&t.length&&e&&e.length?Hn(t,e):t}var Jo=Zs((function(t,e){var i=null==t?0:t.length,n=sn(t,e);return $n(t,Me(e,(function(t){return mo(t,i)?+t:t})).sort(Ss)),n}));function Zo(t){return null==t?t:bi.call(t)}var tr=Kn((function(t){return as(vn(t,1,Yr,!0))})),er=Kn((function(t){var e=qo(t);return Yr(e)&&(e=s),as(vn(t,1,Yr,!0),oo(e,2))})),ir=Kn((function(t){var e=qo(t);return e="function"==typeof e?e:s,as(vn(t,1,Yr,!0),s,e)}));function nr(t){if(!t||!t.length)return[];var e=0;return t=Ee(t,(function(t){if(Yr(t))return e=vi(t.length,e),!0})),Ke(e,(function(e){return Me(t,He(e))}))}function sr(t,e){if(!t||!t.length)return[];var i=nr(t);return null==e?i:Me(i,(function(t){return Se(e,s,t)}))}var or=Kn((function(t,e){return Yr(t)?ln(t,e):[]})),rr=Kn((function(t){return ds(Ee(t,Yr))})),ar=Kn((function(t){var e=qo(t);return Yr(e)&&(e=s),ds(Ee(t,Yr),oo(e,2))})),cr=Kn((function(t){var e=qo(t);return e="function"==typeof e?e:s,ds(Ee(t,Yr),s,e)})),lr=Kn(nr),ur=Kn((function(t){var e=t.length,i=e>1?t[e-1]:s;return i="function"==typeof i?(t.pop(),i):s,sr(t,i)}));function hr(t){var e=Bi(t);return e.__chain__=!0,e}function dr(t,e){return e(t)}var pr=Zs((function(t){var e=t.length,i=e?t[0]:0,n=this.__wrapped__,o=function(e){return sn(e,t)};return!(e>1||this.__actions__.length)&&n instanceof Wi&&mo(i)?((n=n.slice(i,+i+(e?1:0))).__actions__.push({func:dr,args:[o],thisArg:s}),new ji(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(s),t}))):this.thru(o)})),fr=Es((function(t,e,i){Ot.call(t,i)?++t[i]:nn(t,i,1)})),vr=Ns(Fo),mr=Ns(Ho);function _r(t,e){return(Hr(t)?Ie:un)(t,oo(e,3))}function gr(t,e){return(Hr(t)?Ce:hn)(t,oo(e,3))}var yr=Es((function(t,e,i){Ot.call(t,i)?t[i].push(e):nn(t,i,[e])})),br=Kn((function(t,e,i){var s=-1,o="function"==typeof e,r=Gr(t)?n(t.length):[];return un(t,(function(t){r[++s]=o?Se(e,t,i):En(t,e,i)})),r})),wr=Es((function(t,e,i){nn(t,i,e)}));function xr(t,e){return(Hr(t)?Me:Ln)(t,oo(e,3))}var Sr=Es((function(t,e,i){t[i?0:1].push(e)}),(function(){return[[],[]]})),Tr=Kn((function(t,e){if(null==t)return[];var i=e.length;return i>1&&_o(t,e[0],e[1])?e=[]:i>2&&_o(e[0],e[1],e[2])&&(e=[e[0]]),Wn(t,vn(e,1),[])})),Ir=le||function(){return he.Date.now()};function Cr(t,e,i){return e=i?s:e,e=t&&null==e?t.length:e,zs(t,l,s,s,s,s,e)}function kr(t,e){var i;if("function"!=typeof e)throw new kt(o);return t=pa(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=s),i}}var Er=Kn((function(t,e,i){var n=1;if(i.length){var s=ri(i,so(Er));n|=c}return zs(t,n,e,i,s)})),Rr=Kn((function(t,e,i){var n=3;if(i.length){var s=ri(i,so(Rr));n|=c}return zs(e,n,t,i,s)}));function Ar(t,e,i){var n,r,a,c,l,u,h=0,d=!1,p=!1,f=!0;if("function"!=typeof t)throw new kt(o);function v(e){var i=n,o=r;return n=r=s,h=e,c=t.apply(o,i)}function m(t){var i=t-u;return u===s||i>=e||i<0||p&&t-h>=a}function _(){var t=Ir();if(m(t))return g(t);l=Eo(_,function(t){var i=e-(t-u);return p?mi(i,a-(t-h)):i}(t))}function g(t){return l=s,f&&n?v(t):(n=r=s,c)}function y(){var t=Ir(),i=m(t);if(n=arguments,r=this,u=t,i){if(l===s)return function(t){return h=t,l=Eo(_,e),d?v(t):c}(u);if(p)return ys(l),l=Eo(_,e),v(u)}return l===s&&(l=Eo(_,e)),c}return e=va(e)||0,Zr(i)&&(d=!!i.leading,a=(p="maxWait"in i)?vi(va(i.maxWait)||0,e):a,f="trailing"in i?!!i.trailing:f),y.cancel=function(){l!==s&&ys(l),h=0,n=u=r=l=s},y.flush=function(){return l===s?c:g(Ir())},y}var Mr=Kn((function(t,e){return cn(t,1,e)})),Pr=Kn((function(t,e,i){return cn(t,va(e)||0,i)}));function Or(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new kt(o);var i=function(){var n=arguments,s=e?e.apply(this,n):n[0],o=i.cache;if(o.has(s))return o.get(s);var r=t.apply(this,n);return i.cache=o.set(s,r)||o,r};return i.cache=new(Or.Cache||$i),i}function Dr(t){if("function"!=typeof t)throw new kt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Or.Cache=$i;var Nr=_s((function(t,e){var i=(e=1==e.length&&Hr(e[0])?Me(e[0],qe(oo())):Me(vn(e,1),qe(oo()))).length;return Kn((function(n){for(var s=-1,o=mi(n.length,i);++s<o;)n[s]=e[s].call(this,n[s]);return Se(t,this,n)}))})),Lr=Kn((function(t,e){var i=ri(e,so(Lr));return zs(t,c,s,e,i)})),Br=Kn((function(t,e){var i=ri(e,so(Br));return zs(t,64,s,e,i)})),Vr=Zs((function(t,e){return zs(t,256,s,s,s,e)}));function Ur(t,e){return t===e||t!=t&&e!=e}var jr=Hs(Tn),Wr=Hs((function(t,e){return t>=e})),Fr=Rn(function(){return arguments}())?Rn:function(t){return ta(t)&&Ot.call(t,"callee")&&!Yt.call(t,"callee")},Hr=n.isArray,$r=_e?qe(_e):function(t){return ta(t)&&Sn(t)==M};function Gr(t){return null!=t&&Jr(t.length)&&!Xr(t)}function Yr(t){return ta(t)&&Gr(t)}var Kr=me||vc,zr=ge?qe(ge):function(t){return ta(t)&&Sn(t)==g};function qr(t){if(!ta(t))return!1;var e=Sn(t);return e==y||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!na(t)}function Xr(t){if(!Zr(t))return!1;var e=Sn(t);return e==b||e==w||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Qr(t){return"number"==typeof t&&t==pa(t)}function Jr(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}function Zr(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ta(t){return null!=t&&"object"==typeof t}var ea=ye?qe(ye):function(t){return ta(t)&&ho(t)==x};function ia(t){return"number"==typeof t||ta(t)&&Sn(t)==S}function na(t){if(!ta(t)||Sn(t)!=T)return!1;var e=$t(t);if(null===e)return!0;var i=Ot.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&Pt.call(i)==Bt}var sa=be?qe(be):function(t){return ta(t)&&Sn(t)==C},oa=we?qe(we):function(t){return ta(t)&&ho(t)==k};function ra(t){return"string"==typeof t||!Hr(t)&&ta(t)&&Sn(t)==E}function aa(t){return"symbol"==typeof t||ta(t)&&Sn(t)==R}var ca=xe?qe(xe):function(t){return ta(t)&&Jr(t.length)&&!!se[Sn(t)]},la=Hs(Nn),ua=Hs((function(t,e){return t<=e}));function ha(t){if(!t)return[];if(Gr(t))return ra(t)?ui(t):Cs(t);if(qt&&t[qt])return function(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i}(t[qt]());var e=ho(t);return(e==x?si:e==k?ai:Ua)(t)}function da(t){return t?(t=va(t))===u||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function pa(t){var e=da(t),i=e%1;return e==e?i?e-i:e:0}function fa(t){return t?on(pa(t),0,p):0}function va(t){if("number"==typeof t)return t;if(aa(t))return d;if(Zr(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Zr(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=ze(t);var i=ft.test(t);return i||mt.test(t)?ce(t.slice(2),i?2:8):pt.test(t)?d:+t}function ma(t){return ks(t,Ma(t))}function _a(t){return null==t?"":rs(t)}var ga=Rs((function(t,e){if(wo(e)||Gr(e))ks(e,Aa(e),t);else for(var i in e)Ot.call(e,i)&&Ji(t,i,e[i])})),ya=Rs((function(t,e){ks(e,Ma(e),t)})),ba=Rs((function(t,e,i,n){ks(e,Ma(e),t,n)})),wa=Rs((function(t,e,i,n){ks(e,Aa(e),t,n)})),xa=Zs(sn),Sa=Kn((function(t,e){t=Tt(t);var i=-1,n=e.length,o=n>2?e[2]:s;for(o&&_o(e[0],e[1],o)&&(n=1);++i<n;)for(var r=e[i],a=Ma(r),c=-1,l=a.length;++c<l;){var u=a[c],h=t[u];(h===s||Ur(h,At[u])&&!Ot.call(t,u))&&(t[u]=r[u])}return t})),Ta=Kn((function(t){return t.push(s,Xs),Se(Oa,s,t)}));function Ia(t,e,i){var n=null==t?s:wn(t,e);return n===s?i:n}function Ca(t,e){return null!=t&&po(t,e,Cn)}var ka=Vs((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=Lt.call(e)),t[e]=i}),Za(ic)),Ea=Vs((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=Lt.call(e)),Ot.call(t,e)?t[e].push(i):t[e]=[i]}),oo),Ra=Kn(En);function Aa(t){return Gr(t)?Ki(t):Dn(t)}function Ma(t){return Gr(t)?Ki(t,!0):function(t){if(!Zr(t))return function(t){var e=[];if(null!=t)for(var i in Tt(t))e.push(i);return e}(t);var e=wo(t),i=[];for(var n in t)("constructor"!=n||!e&&Ot.call(t,n))&&i.push(n);return i}(t)}var Pa=Rs((function(t,e,i){Un(t,e,i)})),Oa=Rs((function(t,e,i,n){Un(t,e,i,n)})),Da=Zs((function(t,e){var i={};if(null==t)return i;var n=!1;e=Me(e,(function(e){return e=ms(e,t),n||(n=e.length>1),e})),ks(t,eo(t),i),n&&(i=rn(i,7,Qs));for(var s=e.length;s--;)cs(i,e[s]);return i})),Na=Zs((function(t,e){return null==t?{}:function(t,e){return Fn(t,e,(function(e,i){return Ca(t,i)}))}(t,e)}));function La(t,e){if(null==t)return{};var i=Me(eo(t),(function(t){return[t]}));return e=oo(e),Fn(t,i,(function(t,i){return e(t,i[0])}))}var Ba=Ks(Aa),Va=Ks(Ma);function Ua(t){return null==t?[]:Xe(t,Aa(t))}var ja=Os((function(t,e,i){return e=e.toLowerCase(),t+(i?Wa(e):e)}));function Wa(t){return qa(_a(t).toLowerCase())}function Fa(t){return(t=_a(t))&&t.replace(gt,ti).replace(Qt,"")}var Ha=Os((function(t,e,i){return t+(i?"-":"")+e.toLowerCase()})),$a=Os((function(t,e,i){return t+(i?" ":"")+e.toLowerCase()})),Ga=Ps("toLowerCase"),Ya=Os((function(t,e,i){return t+(i?"_":"")+e.toLowerCase()})),Ka=Os((function(t,e,i){return t+(i?" ":"")+qa(e)})),za=Os((function(t,e,i){return t+(i?" ":"")+e.toUpperCase()})),qa=Ps("toUpperCase");function Xa(t,e,i){return t=_a(t),(e=i?s:e)===s?function(t){return ee.test(t)}(t)?function(t){return t.match(Zt)||[]}(t):function(t){return t.match(ct)||[]}(t):t.match(e)||[]}var Qa=Kn((function(t,e){try{return Se(t,s,e)}catch(t){return qr(t)?t:new wt(t)}})),Ja=Zs((function(t,e){return Ie(e,(function(e){e=Lo(e),nn(t,e,Er(t[e],t))})),t}));function Za(t){return function(){return t}}var tc=Ls(),ec=Ls(!0);function ic(t){return t}function nc(t){return On("function"==typeof t?t:rn(t,1))}var sc=Kn((function(t,e){return function(i){return En(i,t,e)}})),oc=Kn((function(t,e){return function(i){return En(t,i,e)}}));function rc(t,e,i){var n=Aa(e),s=bn(e,n);null!=i||Zr(e)&&(s.length||!n.length)||(i=e,e=t,t=this,s=bn(e,Aa(e)));var o=!(Zr(i)&&"chain"in i&&!i.chain),r=Xr(t);return Ie(s,(function(i){var n=e[i];t[i]=n,r&&(t.prototype[i]=function(){var e=this.__chain__;if(o||e){var i=t(this.__wrapped__);return(i.__actions__=Cs(this.__actions__)).push({func:n,args:arguments,thisArg:t}),i.__chain__=e,i}return n.apply(t,Pe([this.value()],arguments))})})),t}function ac(){}var cc=js(Me),lc=js(ke),uc=js(Ne);function hc(t){return go(t)?He(Lo(t)):function(t){return function(e){return wn(e,t)}}(t)}var dc=Fs(),pc=Fs(!0);function fc(){return[]}function vc(){return!1}var mc,_c=Us((function(t,e){return t+e}),0),gc=Gs("ceil"),yc=Us((function(t,e){return t/e}),1),bc=Gs("floor"),wc=Us((function(t,e){return t*e}),1),xc=Gs("round"),Sc=Us((function(t,e){return t-e}),0);return Bi.after=function(t,e){if("function"!=typeof e)throw new kt(o);return t=pa(t),function(){if(--t<1)return e.apply(this,arguments)}},Bi.ary=Cr,Bi.assign=ga,Bi.assignIn=ya,Bi.assignInWith=ba,Bi.assignWith=wa,Bi.at=xa,Bi.before=kr,Bi.bind=Er,Bi.bindAll=Ja,Bi.bindKey=Rr,Bi.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Hr(t)?t:[t]},Bi.chain=hr,Bi.chunk=function(t,e,i){e=(i?_o(t,e,i):e===s)?1:vi(pa(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var r=0,a=0,c=n(de(o/e));r<o;)c[a++]=ts(t,r,r+=e);return c},Bi.compact=function(t){for(var e=-1,i=null==t?0:t.length,n=0,s=[];++e<i;){var o=t[e];o&&(s[n++]=o)}return s},Bi.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),i=arguments[0],s=t;s--;)e[s-1]=arguments[s];return Pe(Hr(i)?Cs(i):[i],vn(e,1))},Bi.cond=function(t){var e=null==t?0:t.length,i=oo();return t=e?Me(t,(function(t){if("function"!=typeof t[1])throw new kt(o);return[i(t[0]),t[1]]})):[],Kn((function(i){for(var n=-1;++n<e;){var s=t[n];if(Se(s[0],this,i))return Se(s[1],this,i)}}))},Bi.conforms=function(t){return function(t){var e=Aa(t);return function(i){return an(i,t,e)}}(rn(t,1))},Bi.constant=Za,Bi.countBy=fr,Bi.create=function(t,e){var i=Vi(t);return null==e?i:en(i,e)},Bi.curry=function t(e,i,n){var o=zs(e,8,s,s,s,s,s,i=n?s:i);return o.placeholder=t.placeholder,o},Bi.curryRight=function t(e,i,n){var o=zs(e,16,s,s,s,s,s,i=n?s:i);return o.placeholder=t.placeholder,o},Bi.debounce=Ar,Bi.defaults=Sa,Bi.defaultsDeep=Ta,Bi.defer=Mr,Bi.delay=Pr,Bi.difference=Uo,Bi.differenceBy=jo,Bi.differenceWith=Wo,Bi.drop=function(t,e,i){var n=null==t?0:t.length;return n?ts(t,(e=i||e===s?1:pa(e))<0?0:e,n):[]},Bi.dropRight=function(t,e,i){var n=null==t?0:t.length;return n?ts(t,0,(e=n-(e=i||e===s?1:pa(e)))<0?0:e):[]},Bi.dropRightWhile=function(t,e){return t&&t.length?us(t,oo(e,3),!0,!0):[]},Bi.dropWhile=function(t,e){return t&&t.length?us(t,oo(e,3),!0):[]},Bi.fill=function(t,e,i,n){var o=null==t?0:t.length;return o?(i&&"number"!=typeof i&&_o(t,e,i)&&(i=0,n=o),function(t,e,i,n){var o=t.length;for((i=pa(i))<0&&(i=-i>o?0:o+i),(n=n===s||n>o?o:pa(n))<0&&(n+=o),n=i>n?0:fa(n);i<n;)t[i++]=e;return t}(t,e,i,n)):[]},Bi.filter=function(t,e){return(Hr(t)?Ee:fn)(t,oo(e,3))},Bi.flatMap=function(t,e){return vn(xr(t,e),1)},Bi.flatMapDeep=function(t,e){return vn(xr(t,e),u)},Bi.flatMapDepth=function(t,e,i){return i=i===s?1:pa(i),vn(xr(t,e),i)},Bi.flatten=$o,Bi.flattenDeep=function(t){return null!=t&&t.length?vn(t,u):[]},Bi.flattenDepth=function(t,e){return null!=t&&t.length?vn(t,e=e===s?1:pa(e)):[]},Bi.flip=function(t){return zs(t,512)},Bi.flow=tc,Bi.flowRight=ec,Bi.fromPairs=function(t){for(var e=-1,i=null==t?0:t.length,n={};++e<i;){var s=t[e];n[s[0]]=s[1]}return n},Bi.functions=function(t){return null==t?[]:bn(t,Aa(t))},Bi.functionsIn=function(t){return null==t?[]:bn(t,Ma(t))},Bi.groupBy=yr,Bi.initial=function(t){return null!=t&&t.length?ts(t,0,-1):[]},Bi.intersection=Yo,Bi.intersectionBy=Ko,Bi.intersectionWith=zo,Bi.invert=ka,Bi.invertBy=Ea,Bi.invokeMap=br,Bi.iteratee=nc,Bi.keyBy=wr,Bi.keys=Aa,Bi.keysIn=Ma,Bi.map=xr,Bi.mapKeys=function(t,e){var i={};return e=oo(e,3),gn(t,(function(t,n,s){nn(i,e(t,n,s),t)})),i},Bi.mapValues=function(t,e){var i={};return e=oo(e,3),gn(t,(function(t,n,s){nn(i,n,e(t,n,s))})),i},Bi.matches=function(t){return Bn(rn(t,1))},Bi.matchesProperty=function(t,e){return Vn(t,rn(e,1))},Bi.memoize=Or,Bi.merge=Pa,Bi.mergeWith=Oa,Bi.method=sc,Bi.methodOf=oc,Bi.mixin=rc,Bi.negate=Dr,Bi.nthArg=function(t){return t=pa(t),Kn((function(e){return jn(e,t)}))},Bi.omit=Da,Bi.omitBy=function(t,e){return La(t,Dr(oo(e)))},Bi.once=function(t){return kr(2,t)},Bi.orderBy=function(t,e,i,n){return null==t?[]:(Hr(e)||(e=null==e?[]:[e]),Hr(i=n?s:i)||(i=null==i?[]:[i]),Wn(t,e,i))},Bi.over=cc,Bi.overArgs=Nr,Bi.overEvery=lc,Bi.overSome=uc,Bi.partial=Lr,Bi.partialRight=Br,Bi.partition=Sr,Bi.pick=Na,Bi.pickBy=La,Bi.property=hc,Bi.propertyOf=function(t){return function(e){return null==t?s:wn(t,e)}},Bi.pull=Xo,Bi.pullAll=Qo,Bi.pullAllBy=function(t,e,i){return t&&t.length&&e&&e.length?Hn(t,e,oo(i,2)):t},Bi.pullAllWith=function(t,e,i){return t&&t.length&&e&&e.length?Hn(t,e,s,i):t},Bi.pullAt=Jo,Bi.range=dc,Bi.rangeRight=pc,Bi.rearg=Vr,Bi.reject=function(t,e){return(Hr(t)?Ee:fn)(t,Dr(oo(e,3)))},Bi.remove=function(t,e){var i=[];if(!t||!t.length)return i;var n=-1,s=[],o=t.length;for(e=oo(e,3);++n<o;){var r=t[n];e(r,n,t)&&(i.push(r),s.push(n))}return $n(t,s),i},Bi.rest=function(t,e){if("function"!=typeof t)throw new kt(o);return Kn(t,e=e===s?e:pa(e))},Bi.reverse=Zo,Bi.sampleSize=function(t,e,i){return e=(i?_o(t,e,i):e===s)?1:pa(e),(Hr(t)?qi:qn)(t,e)},Bi.set=function(t,e,i){return null==t?t:Xn(t,e,i)},Bi.setWith=function(t,e,i,n){return n="function"==typeof n?n:s,null==t?t:Xn(t,e,i,n)},Bi.shuffle=function(t){return(Hr(t)?Xi:Zn)(t)},Bi.slice=function(t,e,i){var n=null==t?0:t.length;return n?(i&&"number"!=typeof i&&_o(t,e,i)?(e=0,i=n):(e=null==e?0:pa(e),i=i===s?n:pa(i)),ts(t,e,i)):[]},Bi.sortBy=Tr,Bi.sortedUniq=function(t){return t&&t.length?ss(t):[]},Bi.sortedUniqBy=function(t,e){return t&&t.length?ss(t,oo(e,2)):[]},Bi.split=function(t,e,i){return i&&"number"!=typeof i&&_o(t,e,i)&&(e=i=s),(i=i===s?p:i>>>0)?(t=_a(t))&&("string"==typeof e||null!=e&&!sa(e))&&!(e=rs(e))&&ni(t)?gs(ui(t),0,i):t.split(e,i):[]},Bi.spread=function(t,e){if("function"!=typeof t)throw new kt(o);return e=null==e?0:vi(pa(e),0),Kn((function(i){var n=i[e],s=gs(i,0,e);return n&&Pe(s,n),Se(t,this,s)}))},Bi.tail=function(t){var e=null==t?0:t.length;return e?ts(t,1,e):[]},Bi.take=function(t,e,i){return t&&t.length?ts(t,0,(e=i||e===s?1:pa(e))<0?0:e):[]},Bi.takeRight=function(t,e,i){var n=null==t?0:t.length;return n?ts(t,(e=n-(e=i||e===s?1:pa(e)))<0?0:e,n):[]},Bi.takeRightWhile=function(t,e){return t&&t.length?us(t,oo(e,3),!1,!0):[]},Bi.takeWhile=function(t,e){return t&&t.length?us(t,oo(e,3)):[]},Bi.tap=function(t,e){return e(t),t},Bi.throttle=function(t,e,i){var n=!0,s=!0;if("function"!=typeof t)throw new kt(o);return Zr(i)&&(n="leading"in i?!!i.leading:n,s="trailing"in i?!!i.trailing:s),Ar(t,e,{leading:n,maxWait:e,trailing:s})},Bi.thru=dr,Bi.toArray=ha,Bi.toPairs=Ba,Bi.toPairsIn=Va,Bi.toPath=function(t){return Hr(t)?Me(t,Lo):aa(t)?[t]:Cs(No(_a(t)))},Bi.toPlainObject=ma,Bi.transform=function(t,e,i){var n=Hr(t),s=n||Kr(t)||ca(t);if(e=oo(e,4),null==i){var o=t&&t.constructor;i=s?n?new o:[]:Zr(t)&&Xr(o)?Vi($t(t)):{}}return(s?Ie:gn)(t,(function(t,n,s){return e(i,t,n,s)})),i},Bi.unary=function(t){return Cr(t,1)},Bi.union=tr,Bi.unionBy=er,Bi.unionWith=ir,Bi.uniq=function(t){return t&&t.length?as(t):[]},Bi.uniqBy=function(t,e){return t&&t.length?as(t,oo(e,2)):[]},Bi.uniqWith=function(t,e){return e="function"==typeof e?e:s,t&&t.length?as(t,s,e):[]},Bi.unset=function(t,e){return null==t||cs(t,e)},Bi.unzip=nr,Bi.unzipWith=sr,Bi.update=function(t,e,i){return null==t?t:ls(t,e,vs(i))},Bi.updateWith=function(t,e,i,n){return n="function"==typeof n?n:s,null==t?t:ls(t,e,vs(i),n)},Bi.values=Ua,Bi.valuesIn=function(t){return null==t?[]:Xe(t,Ma(t))},Bi.without=or,Bi.words=Xa,Bi.wrap=function(t,e){return Lr(vs(e),t)},Bi.xor=rr,Bi.xorBy=ar,Bi.xorWith=cr,Bi.zip=lr,Bi.zipObject=function(t,e){return ps(t||[],e||[],Ji)},Bi.zipObjectDeep=function(t,e){return ps(t||[],e||[],Xn)},Bi.zipWith=ur,Bi.entries=Ba,Bi.entriesIn=Va,Bi.extend=ya,Bi.extendWith=ba,rc(Bi,Bi),Bi.add=_c,Bi.attempt=Qa,Bi.camelCase=ja,Bi.capitalize=Wa,Bi.ceil=gc,Bi.clamp=function(t,e,i){return i===s&&(i=e,e=s),i!==s&&(i=(i=va(i))==i?i:0),e!==s&&(e=(e=va(e))==e?e:0),on(va(t),e,i)},Bi.clone=function(t){return rn(t,4)},Bi.cloneDeep=function(t){return rn(t,5)},Bi.cloneDeepWith=function(t,e){return rn(t,5,e="function"==typeof e?e:s)},Bi.cloneWith=function(t,e){return rn(t,4,e="function"==typeof e?e:s)},Bi.conformsTo=function(t,e){return null==e||an(t,e,Aa(e))},Bi.deburr=Fa,Bi.defaultTo=function(t,e){return null==t||t!=t?e:t},Bi.divide=yc,Bi.endsWith=function(t,e,i){t=_a(t),e=rs(e);var n=t.length,o=i=i===s?n:on(pa(i),0,n);return(i-=e.length)>=0&&t.slice(i,o)==e},Bi.eq=Ur,Bi.escape=function(t){return(t=_a(t))&&z.test(t)?t.replace(Y,ei):t},Bi.escapeRegExp=function(t){return(t=_a(t))&&it.test(t)?t.replace(et,"\\$&"):t},Bi.every=function(t,e,i){var n=Hr(t)?ke:dn;return i&&_o(t,e,i)&&(e=s),n(t,oo(e,3))},Bi.find=vr,Bi.findIndex=Fo,Bi.findKey=function(t,e){return Be(t,oo(e,3),gn)},Bi.findLast=mr,Bi.findLastIndex=Ho,Bi.findLastKey=function(t,e){return Be(t,oo(e,3),yn)},Bi.floor=bc,Bi.forEach=_r,Bi.forEachRight=gr,Bi.forIn=function(t,e){return null==t?t:mn(t,oo(e,3),Ma)},Bi.forInRight=function(t,e){return null==t?t:_n(t,oo(e,3),Ma)},Bi.forOwn=function(t,e){return t&&gn(t,oo(e,3))},Bi.forOwnRight=function(t,e){return t&&yn(t,oo(e,3))},Bi.get=Ia,Bi.gt=jr,Bi.gte=Wr,Bi.has=function(t,e){return null!=t&&po(t,e,In)},Bi.hasIn=Ca,Bi.head=Go,Bi.identity=ic,Bi.includes=function(t,e,i,n){t=Gr(t)?t:Ua(t),i=i&&!n?pa(i):0;var s=t.length;return i<0&&(i=vi(s+i,0)),ra(t)?i<=s&&t.indexOf(e,i)>-1:!!s&&Ue(t,e,i)>-1},Bi.indexOf=function(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var s=null==i?0:pa(i);return s<0&&(s=vi(n+s,0)),Ue(t,e,s)},Bi.inRange=function(t,e,i){return e=da(e),i===s?(i=e,e=0):i=da(i),function(t,e,i){return t>=mi(e,i)&&t<vi(e,i)}(t=va(t),e,i)},Bi.invoke=Ra,Bi.isArguments=Fr,Bi.isArray=Hr,Bi.isArrayBuffer=$r,Bi.isArrayLike=Gr,Bi.isArrayLikeObject=Yr,Bi.isBoolean=function(t){return!0===t||!1===t||ta(t)&&Sn(t)==_},Bi.isBuffer=Kr,Bi.isDate=zr,Bi.isElement=function(t){return ta(t)&&1===t.nodeType&&!na(t)},Bi.isEmpty=function(t){if(null==t)return!0;if(Gr(t)&&(Hr(t)||"string"==typeof t||"function"==typeof t.splice||Kr(t)||ca(t)||Fr(t)))return!t.length;var e=ho(t);if(e==x||e==k)return!t.size;if(wo(t))return!Dn(t).length;for(var i in t)if(Ot.call(t,i))return!1;return!0},Bi.isEqual=function(t,e){return An(t,e)},Bi.isEqualWith=function(t,e,i){var n=(i="function"==typeof i?i:s)?i(t,e):s;return n===s?An(t,e,s,i):!!n},Bi.isError=qr,Bi.isFinite=function(t){return"number"==typeof t&&Le(t)},Bi.isFunction=Xr,Bi.isInteger=Qr,Bi.isLength=Jr,Bi.isMap=ea,Bi.isMatch=function(t,e){return t===e||Mn(t,e,ao(e))},Bi.isMatchWith=function(t,e,i){return i="function"==typeof i?i:s,Mn(t,e,ao(e),i)},Bi.isNaN=function(t){return ia(t)&&t!=+t},Bi.isNative=function(t){if(bo(t))throw new wt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Pn(t)},Bi.isNil=function(t){return null==t},Bi.isNull=function(t){return null===t},Bi.isNumber=ia,Bi.isObject=Zr,Bi.isObjectLike=ta,Bi.isPlainObject=na,Bi.isRegExp=sa,Bi.isSafeInteger=function(t){return Qr(t)&&t>=-9007199254740991&&t<=h},Bi.isSet=oa,Bi.isString=ra,Bi.isSymbol=aa,Bi.isTypedArray=ca,Bi.isUndefined=function(t){return t===s},Bi.isWeakMap=function(t){return ta(t)&&ho(t)==A},Bi.isWeakSet=function(t){return ta(t)&&"[object WeakSet]"==Sn(t)},Bi.join=function(t,e){return null==t?"":$e.call(t,e)},Bi.kebabCase=Ha,Bi.last=qo,Bi.lastIndexOf=function(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var o=n;return i!==s&&(o=(o=pa(i))<0?vi(n+o,0):mi(o,n-1)),e==e?function(t,e,i){for(var n=i+1;n--;)if(t[n]===e)return n;return n}(t,e,o):Ve(t,We,o,!0)},Bi.lowerCase=$a,Bi.lowerFirst=Ga,Bi.lt=la,Bi.lte=ua,Bi.max=function(t){return t&&t.length?pn(t,ic,Tn):s},Bi.maxBy=function(t,e){return t&&t.length?pn(t,oo(e,2),Tn):s},Bi.mean=function(t){return Fe(t,ic)},Bi.meanBy=function(t,e){return Fe(t,oo(e,2))},Bi.min=function(t){return t&&t.length?pn(t,ic,Nn):s},Bi.minBy=function(t,e){return t&&t.length?pn(t,oo(e,2),Nn):s},Bi.stubArray=fc,Bi.stubFalse=vc,Bi.stubObject=function(){return{}},Bi.stubString=function(){return""},Bi.stubTrue=function(){return!0},Bi.multiply=wc,Bi.nth=function(t,e){return t&&t.length?jn(t,pa(e)):s},Bi.noConflict=function(){return he._===this&&(he._=Vt),this},Bi.noop=ac,Bi.now=Ir,Bi.pad=function(t,e,i){t=_a(t);var n=(e=pa(e))?li(t):0;if(!e||n>=e)return t;var s=(e-n)/2;return Ws(pe(s),i)+t+Ws(de(s),i)},Bi.padEnd=function(t,e,i){t=_a(t);var n=(e=pa(e))?li(t):0;return e&&n<e?t+Ws(e-n,i):t},Bi.padStart=function(t,e,i){t=_a(t);var n=(e=pa(e))?li(t):0;return e&&n<e?Ws(e-n,i)+t:t},Bi.parseInt=function(t,e,i){return i||null==e?e=0:e&&(e=+e),gi(_a(t).replace(nt,""),e||0)},Bi.random=function(t,e,i){if(i&&"boolean"!=typeof i&&_o(t,e,i)&&(e=i=s),i===s&&("boolean"==typeof e?(i=e,e=s):"boolean"==typeof t&&(i=t,t=s)),t===s&&e===s?(t=0,e=1):(t=da(t),e===s?(e=t,t=0):e=da(e)),t>e){var n=t;t=e,e=n}if(i||t%1||e%1){var o=yi();return mi(t+o*(e-t+ae("1e-"+((o+"").length-1))),e)}return Gn(t,e)},Bi.reduce=function(t,e,i){var n=Hr(t)?Oe:Ge,s=arguments.length<3;return n(t,oo(e,4),i,s,un)},Bi.reduceRight=function(t,e,i){var n=Hr(t)?De:Ge,s=arguments.length<3;return n(t,oo(e,4),i,s,hn)},Bi.repeat=function(t,e,i){return e=(i?_o(t,e,i):e===s)?1:pa(e),Yn(_a(t),e)},Bi.replace=function(){var t=arguments,e=_a(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Bi.result=function(t,e,i){var n=-1,o=(e=ms(e,t)).length;for(o||(o=1,t=s);++n<o;){var r=null==t?s:t[Lo(e[n])];r===s&&(n=o,r=i),t=Xr(r)?r.call(t):r}return t},Bi.round=xc,Bi.runInContext=t,Bi.sample=function(t){return(Hr(t)?zi:zn)(t)},Bi.size=function(t){if(null==t)return 0;if(Gr(t))return ra(t)?li(t):t.length;var e=ho(t);return e==x||e==k?t.size:Dn(t).length},Bi.snakeCase=Ya,Bi.some=function(t,e,i){var n=Hr(t)?Ne:es;return i&&_o(t,e,i)&&(e=s),n(t,oo(e,3))},Bi.sortedIndex=function(t,e){return is(t,e)},Bi.sortedIndexBy=function(t,e,i){return ns(t,e,oo(i,2))},Bi.sortedIndexOf=function(t,e){var i=null==t?0:t.length;if(i){var n=is(t,e);if(n<i&&Ur(t[n],e))return n}return-1},Bi.sortedLastIndex=function(t,e){return is(t,e,!0)},Bi.sortedLastIndexBy=function(t,e,i){return ns(t,e,oo(i,2),!0)},Bi.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var i=is(t,e,!0)-1;if(Ur(t[i],e))return i}return-1},Bi.startCase=Ka,Bi.startsWith=function(t,e,i){return t=_a(t),i=null==i?0:on(pa(i),0,t.length),e=rs(e),t.slice(i,i+e.length)==e},Bi.subtract=Sc,Bi.sum=function(t){return t&&t.length?Ye(t,ic):0},Bi.sumBy=function(t,e){return t&&t.length?Ye(t,oo(e,2)):0},Bi.template=function(t,e,i){var n=Bi.templateSettings;i&&_o(t,e,i)&&(e=s),t=_a(t),e=ba({},e,n,qs);var o,r,a=ba({},e.imports,n.imports,qs),c=Aa(a),l=Xe(a,c),u=0,h=e.interpolate||yt,d="__p += '",p=It((e.escape||yt).source+"|"+h.source+"|"+(h===Q?ht:yt).source+"|"+(e.evaluate||yt).source+"|$","g"),f="//# sourceURL="+(Ot.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ne+"]")+"\n";t.replace(p,(function(e,i,n,s,a,c){return n||(n=s),d+=t.slice(u,c).replace(bt,ii),i&&(o=!0,d+="' +\n__e("+i+") +\n'"),a&&(r=!0,d+="';\n"+a+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=c+e.length,e})),d+="';\n";var v=Ot.call(e,"variable")&&e.variable;if(v){if(lt.test(v))throw new wt("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(r?d.replace(F,""):d).replace(H,"$1").replace($,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(r?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Qa((function(){return xt(c,f+"return "+d).apply(s,l)}));if(m.source=d,qr(m))throw m;return m},Bi.times=function(t,e){if((t=pa(t))<1||t>h)return[];var i=p,n=mi(t,p);e=oo(e),t-=p;for(var s=Ke(n,e);++i<t;)e(i);return s},Bi.toFinite=da,Bi.toInteger=pa,Bi.toLength=fa,Bi.toLower=function(t){return _a(t).toLowerCase()},Bi.toNumber=va,Bi.toSafeInteger=function(t){return t?on(pa(t),-9007199254740991,h):0===t?t:0},Bi.toString=_a,Bi.toUpper=function(t){return _a(t).toUpperCase()},Bi.trim=function(t,e,i){if((t=_a(t))&&(i||e===s))return ze(t);if(!t||!(e=rs(e)))return t;var n=ui(t),o=ui(e);return gs(n,Je(n,o),Ze(n,o)+1).join("")},Bi.trimEnd=function(t,e,i){if((t=_a(t))&&(i||e===s))return t.slice(0,hi(t)+1);if(!t||!(e=rs(e)))return t;var n=ui(t);return gs(n,0,Ze(n,ui(e))+1).join("")},Bi.trimStart=function(t,e,i){if((t=_a(t))&&(i||e===s))return t.replace(nt,"");if(!t||!(e=rs(e)))return t;var n=ui(t);return gs(n,Je(n,ui(e))).join("")},Bi.truncate=function(t,e){var i=30,n="...";if(Zr(e)){var o="separator"in e?e.separator:o;i="length"in e?pa(e.length):i,n="omission"in e?rs(e.omission):n}var r=(t=_a(t)).length;if(ni(t)){var a=ui(t);r=a.length}if(i>=r)return t;var c=i-li(n);if(c<1)return n;var l=a?gs(a,0,c).join(""):t.slice(0,c);if(o===s)return l+n;if(a&&(c+=l.length-c),sa(o)){if(t.slice(c).search(o)){var u,h=l;for(o.global||(o=It(o.source,_a(dt.exec(o))+"g")),o.lastIndex=0;u=o.exec(h);)var d=u.index;l=l.slice(0,d===s?c:d)}}else if(t.indexOf(rs(o),c)!=c){var p=l.lastIndexOf(o);p>-1&&(l=l.slice(0,p))}return l+n},Bi.unescape=function(t){return(t=_a(t))&&K.test(t)?t.replace(G,di):t},Bi.uniqueId=function(t){var e=++Dt;return _a(t)+e},Bi.upperCase=za,Bi.upperFirst=qa,Bi.each=_r,Bi.eachRight=gr,Bi.first=Go,rc(Bi,(mc={},gn(Bi,(function(t,e){Ot.call(Bi.prototype,e)||(mc[e]=t)})),mc),{chain:!1}),Bi.VERSION="4.17.21",Ie(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Bi[t].placeholder=Bi})),Ie(["drop","take"],(function(t,e){Wi.prototype[t]=function(i){i=i===s?1:vi(pa(i),0);var n=this.__filtered__&&!e?new Wi(this):this.clone();return n.__filtered__?n.__takeCount__=mi(i,n.__takeCount__):n.__views__.push({size:mi(i,p),type:t+(n.__dir__<0?"Right":"")}),n},Wi.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Ie(["filter","map","takeWhile"],(function(t,e){var i=e+1,n=1==i||3==i;Wi.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:oo(t,3),type:i}),e.__filtered__=e.__filtered__||n,e}})),Ie(["head","last"],(function(t,e){var i="take"+(e?"Right":"");Wi.prototype[t]=function(){return this[i](1).value()[0]}})),Ie(["initial","tail"],(function(t,e){var i="drop"+(e?"":"Right");Wi.prototype[t]=function(){return this.__filtered__?new Wi(this):this[i](1)}})),Wi.prototype.compact=function(){return this.filter(ic)},Wi.prototype.find=function(t){return this.filter(t).head()},Wi.prototype.findLast=function(t){return this.reverse().find(t)},Wi.prototype.invokeMap=Kn((function(t,e){return"function"==typeof t?new Wi(this):this.map((function(i){return En(i,t,e)}))})),Wi.prototype.reject=function(t){return this.filter(Dr(oo(t)))},Wi.prototype.slice=function(t,e){t=pa(t);var i=this;return i.__filtered__&&(t>0||e<0)?new Wi(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),e!==s&&(i=(e=pa(e))<0?i.dropRight(-e):i.take(e-t)),i)},Wi.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Wi.prototype.toArray=function(){return this.take(p)},gn(Wi.prototype,(function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),o=Bi[n?"take"+("last"==e?"Right":""):e],r=n||/^find/.test(e);o&&(Bi.prototype[e]=function(){var e=this.__wrapped__,a=n?[1]:arguments,c=e instanceof Wi,l=a[0],u=c||Hr(e),h=function(t){var e=o.apply(Bi,Pe([t],a));return n&&d?e[0]:e};u&&i&&"function"==typeof l&&1!=l.length&&(c=u=!1);var d=this.__chain__,p=!!this.__actions__.length,f=r&&!d,v=c&&!p;if(!r&&u){e=v?e:new Wi(this);var m=t.apply(e,a);return m.__actions__.push({func:dr,args:[h],thisArg:s}),new ji(m,d)}return f&&v?t.apply(this,a):(m=this.thru(h),f?n?m.value()[0]:m.value():m)})})),Ie(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Et[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);Bi.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var s=this.value();return e.apply(Hr(s)?s:[],t)}return this[i]((function(i){return e.apply(Hr(i)?i:[],t)}))}})),gn(Wi.prototype,(function(t,e){var i=Bi[e];if(i){var n=i.name+"";Ot.call(Ei,n)||(Ei[n]=[]),Ei[n].push({name:e,func:i})}})),Ei[Bs(s,2).name]=[{name:"wrapper",func:s}],Wi.prototype.clone=function(){var t=new Wi(this.__wrapped__);return t.__actions__=Cs(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Cs(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Cs(this.__views__),t},Wi.prototype.reverse=function(){if(this.__filtered__){var t=new Wi(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Wi.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,i=Hr(t),n=e<0,s=i?t.length:0,o=function(t,e,i){for(var n=-1,s=i.length;++n<s;){var o=i[n],r=o.size;switch(o.type){case"drop":t+=r;break;case"dropRight":e-=r;break;case"take":e=mi(e,t+r);break;case"takeRight":t=vi(t,e-r)}}return{start:t,end:e}}(0,s,this.__views__),r=o.start,a=o.end,c=a-r,l=n?a:r-1,u=this.__iteratees__,h=u.length,d=0,p=mi(c,this.__takeCount__);if(!i||!n&&s==c&&p==c)return hs(t,this.__actions__);var f=[];t:for(;c--&&d<p;){for(var v=-1,m=t[l+=e];++v<h;){var _=u[v],g=_.iteratee,y=_.type,b=g(m);if(2==y)m=b;else if(!b){if(1==y)continue t;break t}}f[d++]=m}return f},Bi.prototype.at=pr,Bi.prototype.chain=function(){return hr(this)},Bi.prototype.commit=function(){return new ji(this.value(),this.__chain__)},Bi.prototype.next=function(){this.__values__===s&&(this.__values__=ha(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?s:this.__values__[this.__index__++]}},Bi.prototype.plant=function(t){for(var e,i=this;i instanceof Ui;){var n=Vo(i);n.__index__=0,n.__values__=s,e?o.__wrapped__=n:e=n;var o=n;i=i.__wrapped__}return o.__wrapped__=t,e},Bi.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Wi){var e=t;return this.__actions__.length&&(e=new Wi(this)),(e=e.reverse()).__actions__.push({func:dr,args:[Zo],thisArg:s}),new ji(e,this.__chain__)}return this.thru(Zo)},Bi.prototype.toJSON=Bi.prototype.valueOf=Bi.prototype.value=function(){return hs(this.__wrapped__,this.__actions__)},Bi.prototype.first=Bi.prototype.head,qt&&(Bi.prototype[qt]=function(){return this}),Bi}();he._=pi,(n=function(){return pi}.call(e,i,e,t))===s||(t.exports=n)}.call(this)}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";var t={};i.r(t),i.d(t,{AccountChannel:()=>Se,AccountItemSection:()=>Ee,AccountItemSectionHeader:()=>Ie,AccountSectionList:()=>Ae,AddBannerToLiveChatCommand:()=>vc,AddChatItemAction:()=>_c,AddLiveChatTickerItemAction:()=>yc,Alert:()=>st,AlertWithButton:()=>rt,AnalyticsMainAppKeyMetrics:()=>ti,AnalyticsRoot:()=>ii,AnalyticsShortsCarouselCard:()=>si,AnalyticsVideo:()=>ri,AnalyticsVodCarouselCard:()=>ci,AnchoredSection:()=>Jv,AppendContinuationItemsAction:()=>Pe,AudioOnlyPlayability:()=>k,AuthorCommentBadge:()=>Mn,AutomixPreviewVideo:()=>fi,BackstageImage:()=>mi,BackstagePost:()=>Ti,BackstagePostThread:()=>Ci,BrowseFeedActions:()=>Ei,BrowserMediaSession:()=>Ai,Button:()=>R,C4TabbedHeader:()=>Wi,CallToActionButton:()=>Hi,Card:()=>Gi,CardCollection:()=>Y,CarouselHeader:()=>Ki,CarouselItem:()=>qi,CarouselLockup:()=>se,Channel:()=>Qi,ChannelAboutFullMetadata:()=>Zi,ChannelAgeGate:()=>en,ChannelFeaturedContent:()=>sn,ChannelHeaderLinks:()=>Oi,ChannelHeaderLinksView:()=>Ni,ChannelMetadata:()=>rn,ChannelMobileHeader:()=>cn,ChannelOptions:()=>un,ChannelSubMenu:()=>dn,ChannelThumbnailWithLink:()=>fn,ChannelVideoPlayer:()=>mn,Chapter:()=>gn,ChildVideo:()=>bn,ChipCloud:()=>Tn,ChipCloudChip:()=>xn,CollaboratorInfoCardContent:()=>Cn,CollageHeroImage:()=>En,Comment:()=>ro,CommentActionButtons:()=>xi,CommentDialog:()=>uo,CommentReplies:()=>po,CommentReplyDialog:()=>On,CommentSimplebox:()=>So,CommentThread:()=>ko,CommentsEntryPointHeader:()=>yo,CommentsEntryPointTeaser:()=>_o,CommentsHeader:()=>wo,CommentsSimplebox:()=>vo,CompactChannel:()=>Ro,CompactLink:()=>Mo,CompactMix:()=>Uo,CompactMovie:()=>Wo,CompactPlaylist:()=>Ho,CompactStation:()=>Go,CompactVideo:()=>ie,ConfirmDialog:()=>Ko,ContentPreviewImageView:()=>qo,ContinuationItem:()=>ct,ConversationBar:()=>Zo,CopyLink:()=>er,CreatePlaylistDialog:()=>N,CreatorHeart:()=>bi,CtaGoToCreatorStudio:()=>ui,DataModelSection:()=>Je,DecoratedPlayerBar:()=>ur,DefaultPromoPanel:()=>dr,DidYouMean:()=>fr,DimChatItemAction:()=>wc,DownloadButton:()=>mr,Dropdown:()=>O,DropdownItem:()=>M,DynamicTextView:()=>gr,Element:()=>xr,EmergencyOnebox:()=>Tr,EmojiPicker:()=>co,EmojiPickerCategory:()=>Cr,EmojiPickerCategoryButton:()=>Er,EmojiPickerUpsellCategory:()=>Ar,EndScreenPlaylist:()=>Dr,EndScreenVideo:()=>Lr,Endscreen:()=>z,EndscreenElement:()=>Pr,EngagementPanelSectionList:()=>me,EngagementPanelTitleHeader:()=>ut,ExpandableMetadata:()=>Pt,ExpandableTab:()=>Vr,ExpandableVideoDescriptionBody:()=>Tt,ExpandedShelfContents:()=>jr,Factoid:()=>$t,FancyDismissibleDialog:()=>Fr,FeedFilterChipBar:()=>$r,FeedTabbedHeader:()=>Yr,GameCard:()=>Et,GameDetails:()=>zr,Grid:()=>Xr,GridChannel:()=>Jr,GridHeader:()=>ta,GridMix:()=>ia,GridMovie:()=>sa,GridPlaylist:()=>ra,GridShow:()=>da,GridVideo:()=>fa,GuideCollapsibleEntry:()=>ga,GuideCollapsibleSectionEntry:()=>ba,GuideDownloadsEntry:()=>xa,GuideEntry:()=>ma,GuideSection:()=>Ta,GuideSubscriptionsSection:()=>Ca,HashtagHeader:()=>Ea,HashtagTile:()=>Aa,HeatMarker:()=>nr,Heatmap:()=>or,HeroPlaylistThumbnail:()=>Pa,HighlightsCarousel:()=>Na,HistorySuggestion:()=>Ua,HorizontalCardList:()=>Ft,HorizontalList:()=>At,HorizontalMovieList:()=>Wa,IconLink:()=>Ha,IncludingResultsFor:()=>Ga,InfoPanelContainer:()=>qa,InfoPanelContent:()=>Ka,InfoRow:()=>te,InteractiveTabbedHeader:()=>Qa,ItemSection:()=>oc,ItemSectionHeader:()=>Za,ItemSectionTab:()=>ec,ItemSectionTabbedHeader:()=>nc,KidsCategoriesHeader:()=>im,KidsCategoryTab:()=>tm,KidsHomeScreen:()=>sm,LikeButton:()=>ac,LiveChat:()=>lc,LiveChatActionPanel:()=>Jc,LiveChatAuthorBadge:()=>Pl,LiveChatAutoModMessage:()=>Sc,LiveChatBanner:()=>pc,LiveChatBannerHeader:()=>hc,LiveChatBannerPoll:()=>Ic,LiveChatDialog:()=>Dl,LiveChatHeader:()=>Ll,LiveChatItemList:()=>Vl,LiveChatMembershipItem:()=>kc,LiveChatMessageInput:()=>jl,LiveChatPaidMessage:()=>Rc,LiveChatPaidSticker:()=>Mc,LiveChatParticipant:()=>Fl,LiveChatParticipantsList:()=>$l,LiveChatPlaceholderItem:()=>Oc,LiveChatProductItem:()=>Nc,LiveChatRestrictedParticipation:()=>Bc,LiveChatTextMessage:()=>jc,LiveChatTickerPaidMessageItem:()=>Fc,LiveChatTickerPaidStickerItem:()=>$c,LiveChatTickerSponsorItem:()=>Yc,LiveChatViewerEngagementMessage:()=>zc,MacroMarkersInfoItem:()=>ft,MacroMarkersList:()=>gt,MacroMarkersListItem:()=>mt,MarkChatItemAsDeletedAction:()=>tl,MarkChatItemsByAuthorAsDeletedAction:()=>il,Menu:()=>dt,MenuNavigationItem:()=>Yl,MenuPopup:()=>Xl,MenuServiceItem:()=>zl,MenuServiceItemDownload:()=>Jl,MerchandiseItem:()=>uu,MerchandiseShelf:()=>du,Message:()=>Qo,MetadataBadge:()=>Dt,MetadataRow:()=>fu,MetadataRowContainer:()=>mu,MetadataRowHeader:()=>gu,MetadataScreen:()=>bu,MicroformatData:()=>xu,Mix:()=>Tu,Movie:()=>Cu,MovingThumbnail:()=>Eu,MultiMarkersPlayerBar:()=>cr,MultiPageMenu:()=>tu,MultiPageMenuNotificationSection:()=>iu,MusicCardShelf:()=>ju,MusicCardShelfHeaderBasic:()=>Au,MusicCarouselShelf:()=>ph,MusicCarouselShelfBasicHeader:()=>Fu,MusicDescriptionShelf:()=>vh,MusicDetailHeader:()=>_h,MusicDownloadStateBadge:()=>yh,MusicEditablePlaylistDetailHeader:()=>wh,MusicElementHeader:()=>Sh,MusicHeader:()=>Ih,MusicImmersiveHeader:()=>kh,MusicInlineBadge:()=>Pu,MusicItemThumbnailOverlay:()=>Lu,MusicLargeCardItemCarousel:()=>Mh,MusicMenuItemDivider:()=>su,MusicMultiRowListItem:()=>$u,MusicMultiSelectMenu:()=>ru,MusicMultiSelectMenuItem:()=>ge,MusicNavigationButton:()=>Yu,MusicPlayButton:()=>Du,MusicPlaylistShelf:()=>Oh,MusicQueue:()=>Wh,MusicResponsiveListItem:()=>lh,MusicResponsiveListItemFixedColumn:()=>zu,MusicResponsiveListItemFlexColumn:()=>Xu,MusicShelf:()=>Hh,MusicSideAlignedItem:()=>Gh,MusicSortFilterButton:()=>Kh,MusicTastebuilderShelf:()=>Qh,MusicTastebuilderShelfThumbnail:()=>qh,MusicThumbnail:()=>Vu,MusicTwoRowItem:()=>hh,MusicVisualHeader:()=>Zh,NavigationEndpoint:()=>U,Notification:()=>ed,OpenPopupAction:()=>B,PageHeader:()=>od,PageHeaderView:()=>nd,PageIntroduction:()=>ad,PdgCommentChip:()=>Nn,PlayerAnnotationsExpanded:()=>X,PlayerCaptionsTracklist:()=>J,PlayerErrorMessage:()=>ld,PlayerLegacyDesktopYpcOffer:()=>hd,PlayerLegacyDesktopYpcTrailer:()=>vd,PlayerLiveStoryboardSpec:()=>tt,PlayerMicroformat:()=>_d,PlayerOverlay:()=>Sd,PlayerOverlayAutoplay:()=>yd,PlayerStoryboardSpec:()=>it,Playlist:()=>Bo,PlaylistCustomThumbnail:()=>Oo,PlaylistHeader:()=>Id,PlaylistInfoCardContent:()=>kd,PlaylistMetadata:()=>Rd,PlaylistPanel:()=>Uh,PlaylistPanelVideo:()=>Nh,PlaylistPanelVideoWrapper:()=>Bh,PlaylistSidebar:()=>Md,PlaylistSidebarPrimaryInfo:()=>Od,PlaylistSidebarSecondaryInfo:()=>Nd,PlaylistVideo:()=>Bd,PlaylistVideoList:()=>Ud,PlaylistVideoThumbnail:()=>No,Poll:()=>Wd,PollHeader:()=>Xc,Post:()=>Hd,PostMultiImage:()=>Gd,ProductList:()=>bt,ProductListHeader:()=>Kd,ProductListItem:()=>qd,ProfileColumn:()=>Qd,ProfileColumnStats:()=>Zd,ProfileColumnStatsEntry:()=>ep,ProfileColumnUserInfo:()=>np,Quiz:()=>op,RecognitionShelf:()=>ap,ReelItem:()=>lp,ReelShelf:()=>hp,RelatedChipCloud:()=>pp,RemoveBannerForLiveChatCommand:()=>sl,RemoveChatItemAction:()=>rl,RemoveChatItemByAuthorAction:()=>cl,ReplaceChatItemAction:()=>ul,ReplayChatItemAction:()=>dl,RichGrid:()=>vp,RichItem:()=>_p,RichListHeader:()=>yp,RichMetadata:()=>wp,RichMetadataRow:()=>Sp,RichSection:()=>Ip,RichShelf:()=>kp,SearchBox:()=>Rp,SearchFilter:()=>Mp,SearchFilterGroup:()=>Op,SearchFilterOptionsDialog:()=>Np,SearchHeader:()=>Bp,SearchRefinementCard:()=>Ct,SearchSubMenu:()=>Up,SearchSuggestion:()=>Ba,SearchSuggestionsSection:()=>Wp,SecondarySearchContainer:()=>Hp,SectionList:()=>xt,SegmentedLikeDislikeButton:()=>Gp,SettingBoolean:()=>Kp,SettingsCheckbox:()=>qp,SettingsOptions:()=>Zp,SettingsSidebar:()=>ef,SettingsSwitch:()=>Qp,SharedPost:()=>sf,Shelf:()=>rf,ShowCustomThumbnail:()=>ca,ShowLiveChatActionPanelAction:()=>fl,ShowLiveChatDialogAction:()=>ml,ShowLiveChatTooltipCommand:()=>gl,ShowingResultsFor:()=>cf,SimpleCardContent:()=>uf,SimpleCardTeaser:()=>df,SimpleMenuHeader:()=>cu,SimpleTextSection:()=>ff,SingleActionEmergencySupport:()=>mf,SingleColumnBrowseResults:()=>bf,SingleColumnMusicWatchNextResults:()=>xf,SingleHeroImage:()=>Tf,SlimOwner:()=>Cf,SlimVideoMetadata:()=>Ef,SortFilterSubMenu:()=>De,SponsorCommentBadge:()=>Bn,StatRow:()=>di,StructuredDescriptionContent:()=>fe,StructuredDescriptionPlaylistLockup:()=>ue,SubFeedOption:()=>Af,SubFeedSelector:()=>Pf,SubscribeButton:()=>Ui,SubscriptionNotificationToggleButton:()=>Bi,Tab:()=>gf,Tabbed:()=>Df,TabbedSearchResults:()=>Lf,TextHeader:()=>Vf,ThumbnailLandscapePortrait:()=>jf,ThumbnailOverlayBottomPanel:()=>ua,ThumbnailOverlayEndorsement:()=>Ff,ThumbnailOverlayHoverText:()=>$f,ThumbnailOverlayInlineUnplayable:()=>Yf,ThumbnailOverlayLoadingPreview:()=>zf,ThumbnailOverlayNowPlaying:()=>Xf,ThumbnailOverlayPinking:()=>Jf,ThumbnailOverlayPlaybackStatus:()=>tv,ThumbnailOverlayResumePlayback:()=>iv,ThumbnailOverlaySidePanel:()=>sv,ThumbnailOverlayTimeStatus:()=>Lt,ThumbnailOverlayToggleButton:()=>rv,TimedMarkerDecoration:()=>cv,TitleAndButtonListHeader:()=>uv,ToggleButton:()=>gi,ToggleMenuServiceItem:()=>dv,Tooltip:()=>fv,TopicChannelDetails:()=>mv,Transcript:()=>ze,TranscriptFooter:()=>Le,TranscriptSearchBox:()=>Ve,TranscriptSearchPanel:()=>Ye,TranscriptSectionHeader:()=>je,TranscriptSegment:()=>Fe,TranscriptSegmentList:()=>$e,TwoColumnBrowseResults:()=>gv,TwoColumnSearchResults:()=>bv,TwoColumnWatchNextResults:()=>Tv,UniversalWatchCard:()=>Cv,UpdateDateTextAction:()=>bl,UpdateDescriptionAction:()=>xl,UpdateEngagementPanelAction:()=>Xe,UpdateLiveChatPollAction:()=>Tl,UpdateTitleAction:()=>Cl,UpdateToggleButtonTextAction:()=>El,UpdateViewershipAction:()=>Al,UploadTimeFactoid:()=>Yt,UpsellDialog:()=>Ev,VerticalList:()=>Av,VerticalWatchCardList:()=>Pv,Video:()=>Vt,VideoCard:()=>jt,VideoDescriptionCourseSection:()=>de,VideoDescriptionHeader:()=>Xt,VideoDescriptionInfocardsSection:()=>Jt,VideoDescriptionMusicSection:()=>re,VideoDescriptionTranscriptSection:()=>ce,VideoInfoCardContent:()=>Dv,VideoOwner:()=>Lv,VideoPrimaryInfo:()=>Vv,VideoSecondaryInfo:()=>jv,ViewCountFactoid:()=>zt,WatchCardCompactVideo:()=>Fv,WatchCardHeroVideo:()=>$v,WatchCardRichHeader:()=>Yv,WatchCardSectionSequence:()=>zv,WatchNextEndScreen:()=>wd,WatchNextTabbedResults:()=>Xv,YpcTrailer:()=>pd});var e={};i.r(e),i.d(e,{addRuntimeParser:()=>Gm,applyMutations:()=>i_,getDynamicParsers:()=>Ym,getParserByName:()=>Hm,hasParser:()=>$m,parse:()=>Xm,parseActions:()=>t_,parseArray:()=>qm,parseC:()=>Qm,parseFormats:()=>e_,parseItem:()=>zm,parseLC:()=>Jm,parseRR:()=>Zm,parseResponse:()=>Km,sanitizeClassName:()=>Fm,setParserErrorHandler:()=>Bm,shouldIgnore:()=>Wm});var n,s,o,r,a,c,l,u={};function h(t,e,i,n){return new(i||(i=Promise))((function(s,o){function r(t){try{c(n.next(t))}catch(t){o(t)}}function a(t){try{c(n.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,a)}c((n=n.apply(t,e||[])).next())}))}function d(t){return this instanceof d?(this.v=t,this):new d(t)}function p(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,i=t[Symbol.asyncIterator];return i?i.call(t):(t=function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(i){e[i]=t[i]&&function(e){return new Promise((function(n,s){!function(t,e,i,n){Promise.resolve(n).then((function(e){t({value:e,done:i})}),e)}(n,s,(e=t[i](e)).done,e.value)}))}}}function f(t,e,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(t):n?n.value:e.get(t)}function v(t,e,i,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?s.call(t,i):s?s.value=i:e.set(t,i),i}i.r(u),i.d(u,{ArrayExpression:()=>Ob,ArrowFunctionExpression:()=>Nb,AssignmentExpression:()=>Lb,BinaryExpression:()=>Bb,BlockStatement:()=>Vb,BreakStatement:()=>Ub,CallExpression:()=>Hb,ConditionalExpression:()=>Gb,ContinueStatement:()=>Yb,ExpressionStatement:()=>Kb,ForOfStatement:()=>zb,ForStatement:()=>qb,FunctionDeclaration:()=>Xb,FunctionExpression:()=>Qb,Identifier:()=>Jb,IfStatement:()=>Zb,Literal:()=>tw,LogicalExpression:()=>ew,MemberExpression:()=>iw,NewExpression:()=>nw,ObjectExpression:()=>sw,Property:()=>uw,ReturnStatement:()=>hw,SequenceExpression:()=>dw,SwitchCase:()=>pw,SwitchStatement:()=>fw,ThisExpression:()=>vw,ThrowStatement:()=>mw,TryStatement:()=>_w,UnaryExpression:()=>gw,UpdateExpression:()=>yw,VariableDeclaration:()=>bw,WhileStatement:()=>ww}),Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;const m=Symbol("ObservedArray.isObserved");class _{constructor(){n.add(this),this.type=this.constructor.type}is(...t){return t.some((t=>f(this,n,"m",s).call(this,t)))}as(...t){if(!this.is(...t))throw new mb(`Cannot cast ${this.type} to one of ${t.map((t=>t.type)).join(", ")}`);return this}hasKey(t){return Reflect.has(this,t)}key(t){if(!this.hasKey(t))throw new mb(`Missing key ${t}`);return new g(this[t])}}n=new WeakSet,s=function(t){return this.type===t.type},_.type="YTNode";class g{constructor(t){o.add(this),r.set(this,void 0),v(this,r,t,"f")}get typeof(){return typeof f(this,r,"f")}string(){return f(this,o,"m",c).call(this,"string")}isString(){return f(this,o,"m",a).call(this,"string")}number(){return f(this,o,"m",c).call(this,"number")}isNumber(){return f(this,o,"m",a).call(this,"number")}bigint(){return f(this,o,"m",c).call(this,"bigint")}isBigint(){return f(this,o,"m",a).call(this,"bigint")}boolean(){return f(this,o,"m",c).call(this,"boolean")}isBoolean(){return f(this,o,"m",a).call(this,"boolean")}symbol(){return f(this,o,"m",c).call(this,"symbol")}isSymbol(){return f(this,o,"m",a).call(this,"symbol")}undefined(){return f(this,o,"m",c).call(this,"undefined")}isUndefined(){return f(this,o,"m",a).call(this,"undefined")}null(){if(null!==f(this,r,"f"))throw new TypeError("Expected null, got "+typeof f(this,r,"f"));return f(this,r,"f")}isNull(){return null===f(this,r,"f")}object(){return f(this,o,"m",c).call(this,"object")}isObject(){return f(this,o,"m",a).call(this,"object")}function(){return f(this,o,"m",c).call(this,"function")}isFunction(){return f(this,o,"m",a).call(this,"function")}array(){if(!Array.isArray(f(this,r,"f")))throw new TypeError("Expected array, got "+typeof f(this,r,"f"));return f(this,r,"f")}arrayOfMaybe(){const t=[];return new Proxy(this.array(),{get:(e,i)=>Reflect.has(t,i)?Reflect.get(e,i):new g(Reflect.get(e,i))})}isArray(){return Array.isArray(f(this,r,"f"))}node(){if(!(f(this,r,"f")instanceof _))throw new TypeError(`Expected YTNode, got ${f(this,r,"f").constructor.name}`);return f(this,r,"f")}isNode(){return f(this,r,"f")instanceof _}nodeOfType(...t){return this.node().as(...t)}isNodeOfType(...t){return this.isNode()&&this.node().is(...t)}observed(){if(!this.isObserved())throw new TypeError("Expected ObservedArray, got "+typeof f(this,r,"f"));return f(this,r,"f")}isObserved(){var t;return null===(t=f(this,r,"f"))||void 0===t?void 0:t[m]}parsed(){if(!(f(this,r,"f")instanceof y))throw new TypeError("Expected SuperParsedResult, got "+typeof f(this,r,"f"));return f(this,r,"f")}isParsed(){return f(this,r,"f")instanceof y}any(){return console.warn("This call is not meant to be used outside of debugging. Please use the specific type getter instead."),f(this,r,"f")}instanceof(t){if(!this.isInstanceof(t))throw new TypeError(`Expected instance of ${t.name}, got ${f(this,r,"f").constructor.name}`);return f(this,r,"f")}isInstanceof(t){return f(this,r,"f")instanceof t}}r=new WeakMap,o=new WeakSet,a=function(t){return typeof f(this,r,"f")===t},c=function(t){if(!f(this,o,"m",a).call(this,t))throw new TypeError(`Expected ${t}, got ${this.typeof}`);return f(this,r,"f")};class y{constructor(t){l.set(this,void 0),v(this,l,t,"f")}get is_null(){return null===f(this,l,"f")}get is_array(){return!this.is_null&&Array.isArray(f(this,l,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return f(this,l,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return f(this,l,"f")}}function b(t){return new Proxy(t,{get:(t,e)=>"get"==e?(e,i)=>t.find(((n,s)=>{const o=xb(e,n);return o&&i&&t.splice(s,1),o})):e==m||("getAll"==e?(e,i)=>t.filter(((n,s)=>{const o=xb(e,n);return o&&i&&t.splice(s,1),o})):"matchCondition"==e?e=>t.find((t=>e(t))):"filterType"==e?(...e)=>b(t.filter((t=>!!t.is(...e)))):"firstOfType"==e?(...e)=>t.find((t=>!!t.is(...e))):"first"==e?()=>t[0]:"as"==e?(...e)=>b(t.map((t=>{if(t.is(...e))return t;throw new mb(`Expected node of any type ${e.map((t=>t.type)).join(", ")}, got ${t.type}`)}))):"remove"==e?e=>t.splice(e,1):Reflect.get(t,e))})}l=new WeakMap;class w extends Map{getType(...t){return b((t=t.flat()).flatMap((t=>this.get(t.type)||[])))}}const x=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),S=Object.freeze({SCOPE:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",GRANT_TYPE:"http://oauth.net/grant_type/device/1.0",MODEL_NAME:"ytlr::",HEADERS:Object.freeze({accept:"*/*",origin:"https://www.youtube.com","user-agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version","content-type":"application/json",referer:"https://www.youtube.com/tv","accept-language":"en-US"}),REGEX:Object.freeze({AUTH_SCRIPT:/<script id="base-js" src="(.*?)" nonce=".*?"><\/script>/,CLIENT_IDENTITY:/var .+?={clientId:"(?<client_id>.+?)",.+?:"(?<client_secret>.+?)".+?}/})}),T=Object.freeze({iOS:{NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME:"WEB",VERSION:"2.20230622.06.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME:"ANDROID",VERSION:"18.06.35",SDK_VERSION:"29",USER_AGENT:"com.google.android.youtube/18.06.35 (Linux; U; Android 10; US)"},YTSTUDIO_ANDROID:{NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV_EMBEDDED:{NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),I=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"});Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"});class C extends _{constructor(t){super(),this.audio_only_availability=t.audioOnlyAvailability}}C.type="AudioOnlyPlayability";const k=C;class E extends _{constructor(t){super(),Reflect.has(t,"text")&&(this.text=new $(t.text).toString()),Reflect.has(t,"accessibility")&&Reflect.has(t.accessibility,"label")&&(this.label=t.accessibility.label),Reflect.has(t,"tooltip")&&(this.tooltip=t.tooltip),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"isDisabled")&&(this.is_disabled=t.isDisabled),this.endpoint=new U(t.navigationEndpoint||t.serviceEndpoint||t.command)}}E.type="Button";const R=E;class A extends _{constructor(t){var e;super(),this.label=new $(t.label).toString(),this.selected=!!t.isSelected,Reflect.has(t,"int32Value")?this.value=t.int32Value:t.stringValue&&(this.value=t.stringValue),Reflect.has(t,"onSelectCommand")&&(this.endpoint=new U(t.onSelectCommand)),Reflect.has(t,"icon")&&(this.icon_type=null===(e=t.icon)||void 0===e?void 0:e.iconType),Reflect.has(t,"descriptionText")&&(this.description=new $(t.descriptionText))}}A.type="DropdownItem";const M=A;class P extends _{constructor(t){super(),this.label=t.label||"",this.entries=cb.parseArray(t.entries,M)}}P.type="Dropdown";const O=P;class D extends _{constructor(t){super(),this.title=new $(t.dialogTitle).toString(),this.title_placeholder=t.titlePlaceholder||"",this.privacy_option=cb.parseItem(t.privacyOption,O),this.create_button=cb.parseItem(t.cancelButton,R),this.cancel_button=cb.parseItem(t.cancelButton,R)}}D.type="CreatePlaylistDialog";const N=D;class L extends _{constructor(t){super(),this.popup=cb.parseItem(t.popup),this.popup_type=t.popupType}}L.type="OpenPopupAction";const B=L;class V extends _{constructor(t){var e,i,n,s,o,r,a,c;super(),Reflect.has(t||{},"innertubeCommand")&&(t=t.innertubeCommand),Reflect.has(t||{},"openPopupAction")&&(this.open_popup=new B(t.openPopupAction));const l=Object.keys(t||{}).find((t=>t.endsWith("Endpoint")||t.endsWith("Command")));this.payload=l?Reflect.get(t,l):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=cb.parseItem(this.payload.dialog||this.payload.content)),(null==t?void 0:t.serviceEndpoint)&&(t=t.serviceEndpoint),this.metadata={},(null===(i=null===(e=null==t?void 0:t.commandMetadata)||void 0===e?void 0:e.webCommandMetadata)||void 0===i?void 0:i.url)&&(this.metadata.url=t.commandMetadata.webCommandMetadata.url),(null===(s=null===(n=null==t?void 0:t.commandMetadata)||void 0===n?void 0:n.webCommandMetadata)||void 0===s?void 0:s.webPageType)&&(this.metadata.page_type=t.commandMetadata.webCommandMetadata.webPageType),(null===(r=null===(o=null==t?void 0:t.commandMetadata)||void 0===o?void 0:o.webCommandMetadata)||void 0===r?void 0:r.apiUrl)?this.metadata.api_url=t.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):l&&(this.metadata.api_url=this.getEndpoint(l)),(null===(c=null===(a=null==t?void 0:t.commandMetadata)||void 0===a?void 0:a.webCommandMetadata)||void 0===c?void 0:c.sendPost)&&(this.metadata.send_post=t.commandMetadata.webCommandMetadata.sendPost),(null==t?void 0:t.createPlaylistEndpoint)&&(null==t?void 0:t.createPlaylistEndpoint.createPlaylistDialog)&&(this.dialog=cb.parseItem(null==t?void 0:t.createPlaylistEndpoint.createPlaylistDialog,N))}getEndpoint(t){switch(t){case"browseEndpoint":return"/browse";case"watchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"live_chat/get_item_context_menu"}}call(t,e){if(!t)throw new Error("An active caller must be provided");if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found, this is a bug.");return t.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),e))}toURL(){if(this.metadata.url&&this.metadata.page_type)return"WEB_PAGE_TYPE_UNKNOWN"===this.metadata.page_type?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}}V.type="NavigationEndpoint";const U=V;class j{constructor(t){this.url=t.url,this.width=t.width,this.height=t.height}static fromResponse(t){return t&&t.thumbnails?t.thumbnails.map((t=>new j(t))).sort(((t,e)=>e.width-t.width)):[]}}class W{constructor(t){var e,i,n,s,o,r;this.text=(null===(e=t.emoji)||void 0===e?void 0:e.emojiId)||(null===(n=null===(i=t.emoji)||void 0===i?void 0:i.shortcuts)||void 0===n?void 0:n[0])||"",this.emoji={emoji_id:t.emoji.emojiId,shortcuts:(null===(s=t.emoji)||void 0===s?void 0:s.shortcuts)||[],search_terms:(null===(o=t.emoji)||void 0===o?void 0:o.searchTerms)||[],image:j.fromResponse(t.emoji.image),is_custom:!!(null===(r=t.emoji)||void 0===r?void 0:r.isCustomEmoji)}}toString(){return this.text}toHTML(){const t=H(this.text);return`<img src="${this.emoji.image[0].url}" alt="${t}" title="${t}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}}class F{constructor(t){this.text=t.text,this.bold=Boolean(t.bold),this.italics=Boolean(t.italics),this.strikethrough=Boolean(t.strikethrough),Reflect.has(t,"navigationEndpoint")&&(this.endpoint=new U(t.navigationEndpoint)),this.attachment=t.attachment}toString(){return this.text}toHTML(){const t=[];this.bold&&t.push("b"),this.italics&&t.push("i"),this.strikethrough&&t.push("s");const e=H(this.text),i=`<span style="white-space: pre-wrap;">${t.map((t=>`<${t}>`)).join("")+e+t.map((t=>`</${t}>`)).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){const{url:t}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){const e=this.endpoint.toURL();if(e)return`<a href="${e}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${t}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${i}</a>`}}if(this.endpoint){const t=this.endpoint.toURL();if(t)return`<a href="${t}">${i}</a>`}return i}}function H(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}class ${constructor(t){var e,i,n,s;"object"==typeof t&&null!==t&&Reflect.has(t,"runs")&&Array.isArray(t.runs)?(this.runs=t.runs.map((t=>t.emoji?new W(t):new F(t))),this.text=this.runs.map((t=>t.text)).join("")):this.text=null==t?void 0:t.simpleText,"object"==typeof t&&null!==t&&Reflect.has(t,"navigationEndpoint")&&(this.endpoint=new U(t.navigationEndpoint)),"object"==typeof t&&null!==t&&Reflect.has(t,"titleNavigationEndpoint")&&(this.endpoint=new U(t.titleNavigationEndpoint)),this.endpoint||(null===(i=null===(e=this.runs)||void 0===e?void 0:e[0])||void 0===i?void 0:i.endpoint)&&(this.endpoint=null===(s=null===(n=this.runs)||void 0===n?void 0:n[0])||void 0===s?void 0:s.endpoint)}static fromAttributed(t){const e=[],i=t.content,n=t.commandRuns;let s=0;if(n){for(const o of n){const n=o.length,r=o.startIndex;if(r>s&&e.push({text:i.slice(s,r)}),Reflect.has(o,"onTap")){let s=null;if(Reflect.has(t,"attachmentRuns")){const e=t.attachmentRuns;for(const t of e)if(t.startIndex-2==r){s=t;break}}s?e.push({text:i.slice(r,r+n),navigationEndpoint:o.onTap,attachment:s}):e.push({text:i.slice(r,r+n),navigationEndpoint:o.onTap})}s=r+n}s<i.length&&e.push({text:i.slice(s)})}else e.push({text:i});return new $({runs:e})}toHTML(){return this.runs?this.runs.map((t=>t.toHTML())).join(""):this.text}isEmpty(){return void 0===this.text}toString(){return this.text||"N/A"}}class G extends _{constructor(t){super(),this.cards=cb.parseArray(t.cards),this.header=new $(t.headerText),this.allow_teaser_dismiss=t.allowTeaserDismiss}}G.type="CardCollection";const Y=G;class K extends _{constructor(t){super(),this.elements=cb.parseArray(t.elements),this.start_ms=t.startMs}}K.type="Endscreen";const z=K;class q extends _{constructor(t){super(),Reflect.has(t,"featuredChannel")&&(this.featured_channel={start_time_ms:t.featuredChannel.startTimeMs,end_time_ms:t.featuredChannel.endTimeMs,watermark:j.fromResponse(t.featuredChannel.watermark),channel_name:t.featuredChannel.channelName,endpoint:new U(t.featuredChannel.navigationEndpoint),subscribe_button:cb.parseItem(t.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=t.allowSwipeDismiss,this.annotation_id=t.annotationId}}q.type="PlayerAnnotationsExpanded";const X=q;class Q extends _{constructor(t){super(),Reflect.has(t,"captionTracks")&&(this.caption_tracks=t.captionTracks.map((t=>({base_url:t.baseUrl,name:new $(t.name),vss_id:t.vssId,language_code:t.languageCode,kind:t.kind,is_translatable:t.isTranslatable})))),Reflect.has(t,"audioTracks")&&(this.audio_tracks=t.audioTracks.map((t=>({audio_track_id:t.audioTrackId,captions_initial_state:t.captionsInitialState,default_caption_track_index:t.defaultCaptionTrackIndex,has_default_track:t.hasDefaultTrack,visibility:t.visibility,caption_track_indices:t.captionTrackIndices})))),Reflect.has(t,"defaultAudioTrackIndex")&&(this.default_audio_track_index=t.defaultAudioTrackIndex),Reflect.has(t,"translationLanguages")&&(this.translation_languages=t.translationLanguages.map((t=>({language_code:t.languageCode,language_name:new $(t.languageName)}))))}}Q.type="PlayerCaptionsTracklist";const J=Q;class Z extends _{constructor(){super()}}Z.type="PlayerLiveStoryboardSpec";const tt=Z;class et extends _{constructor(t){super();const e=t.spec.split("|"),i=new URL(e.shift());this.boards=e.map(((t,e)=>{const[n,s,o,r,a,c,l,u]=t.split("#");i.searchParams.set("sigh",u);const h=Math.ceil(parseInt(o,10)/(parseInt(r,10)*parseInt(a,10)));return{template_url:i.toString().replace("$L",e).replace("$N",l),thumbnail_width:parseInt(n,10),thumbnail_height:parseInt(s,10),thumbnail_count:parseInt(o,10),interval:parseInt(c,10),columns:parseInt(r,10),rows:parseInt(a,10),storyboard_count:h}}))}}et.type="PlayerStoryboardSpec";const it=et;class nt extends _{constructor(t){super(),this.text=new $(t.text),this.alert_type=t.type}}nt.type="Alert";const st=nt;class ot extends _{constructor(t){super(),this.text=new $(t.text),this.alert_type=t.type,this.dismiss_button=zm(t.dismissButton,R)}}ot.type="AlertWithButton";const rt=ot;class at extends _{constructor(t){super(),this.trigger=t.trigger,Reflect.has(t,"button")&&(this.button=cb.parseItem(t.button,R)),this.endpoint=new U(t.continuationEndpoint)}}at.type="ContinuationItem";const ct=at;class lt extends _{constructor(t){super(),this.title=new $(t.title),this.visibility_button=zm(t.visibilityButton,R)}}lt.type="EngagementPanelTitleHeader";const ut=lt;class ht extends _{constructor(t){super(),this.items=cb.parseArray(t.items),this.top_level_buttons=cb.parseArray(t.topLevelButtons),Reflect.has(t,"accessibility")&&Reflect.has(t.accessibility,"accessibilityData")&&(this.label=t.accessibility.accessibilityData.label)}get contents(){return this.items}}ht.type="Menu";const dt=ht;class pt extends _{constructor(t){super(),this.info_text=new $(t.infoText),this.menu=zm(t.menu,dt)}}pt.type="MacroMarkersInfoItem";const ft=pt;class vt extends _{constructor(t){super(),this.title=new $(t.title),this.time_description=new $(t.timeDescription),this.thumbnail=j.fromResponse(t.thumbnail),this.on_tap_endpoint=new U(t.onTap),this.layout=t.layout,this.is_highlighted=!!t.isHighlighted}}vt.type="MacroMarkersListItem";const mt=vt;class _t extends _{constructor(t){super(),this.contents=qm(t.contents,[ft,mt]),this.sync_button_label=new $(t.syncButtonLabel)}}_t.type="MacroMarkersList";const gt=_t;class yt extends _{constructor(t){super(),this.contents=cb.parseArray(t.contents)}}yt.type="ProductList";const bt=yt;class wt extends _{constructor(t){super(),this.contents=cb.parseArray(t.contents),Reflect.has(t,"targetId")&&(this.target_id=t.targetId),Reflect.has(t,"continuations")&&(Reflect.has(t.continuations[0],"nextContinuationData")?this.continuation=t.continuations[0].nextContinuationData.continuation:Reflect.has(t.continuations[0],"reloadContinuationData")&&(this.continuation=t.continuations[0].reloadContinuationData.continuation)),Reflect.has(t,"header")&&(this.header=cb.parseItem(t.header)),Reflect.has(t,"subMenu")&&(this.sub_menu=cb.parseItem(t.subMenu))}}wt.type="SectionList";const xt=wt;class St extends _{constructor(t){var e;super(),this.show_more_text=new $(t.showMoreText),this.show_less_text=new $(t.showLessText),Reflect.has(t,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=null===(e=t.attributedDescriptionBodyText)||void 0===e?void 0:e.content)}}St.type="ExpandableVideoDescriptionBody";const Tt=St;class It extends _{constructor(t){super(),this.thumbnails=j.fromResponse(t.thumbnail),this.endpoint=new U(t.searchEndpoint),this.query=new $(t.query).toString()}}It.type="SearchRefinementCard";const Ct=It;class kt extends _{constructor(t){super(),this.game=cb.parseItem(t.game)}}kt.type="GameCard";const Et=kt;class Rt extends _{constructor(t){super(),this.visible_item_count=t.visibleItemCount,this.items=cb.parseArray(t.items)}get contents(){return this.items}}Rt.type="HorizontalList";const At=Rt;class Mt extends _{constructor(t){super(),Reflect.has(t,"header")&&(this.header={collapsed_title:new $(t.header.collapsedTitle),collapsed_thumbnail:j.fromResponse(t.header.collapsedThumbnail),collapsed_label:new $(t.header.collapsedLabel),expanded_title:new $(t.header.expandedTitle)}),this.expanded_content=cb.parseItem(t.expandedContent,[Ft,At]),this.expand_button=cb.parseItem(t.expandButton,R),this.collapse_button=cb.parseItem(t.collapseButton,R)}}Mt.type="ExpandableMetadata";const Pt=Mt;class Ot extends _{constructor(t){super(),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"style")&&(this.style=t.style),Reflect.has(t,"label")&&(this.label=t.label),(Reflect.has(t,"tooltip")||Reflect.has(t,"iconTooltip"))&&(this.tooltip=t.tooltip||t.iconTooltip)}}Ot.type="MetadataBadge";const Dt=Ot;class Nt extends _{constructor(t){super(),this.text=new $(t.text).toString(),this.style=t.style}}Nt.type="ThumbnailOverlayTimeStatus";const Lt=Nt;class Bt extends _{constructor(t){var e,i,n;super();const s=(null===(e=t.thumbnailOverlays.find((t=>t.thumbnailOverlayTimeStatusRenderer)))||void 0===e?void 0:e.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=t.videoId,this.title=new $(t.title),Reflect.has(t,"descriptionSnippet")&&(this.description_snippet=new $(t.descriptionSnippet)),Reflect.has(t,"detailedMetadataSnippets")&&(this.snippets=t.detailedMetadataSnippets.map((t=>({text:new $(t.snippetText),hover_text:new $(t.snippetHoverText)})))),this.expandable_metadata=cb.parseItem(t.expandableMetadata,Pt),this.thumbnails=j.fromResponse(t.thumbnail),this.thumbnail_overlays=cb.parseArray(t.thumbnailOverlays),Reflect.has(t,"richThumbnail")&&(this.rich_thumbnail=cb.parseItem(t.richThumbnail)),this.author=new ub(t.ownerText,t.ownerBadges,null===(n=null===(i=t.channelThumbnailSupportedRenderers)||void 0===i?void 0:i.channelThumbnailWithLinkRenderer)||void 0===n?void 0:n.thumbnail),this.badges=cb.parseArray(t.badges,Dt),this.endpoint=new U(t.navigationEndpoint),this.published=new $(t.publishedTimeText),this.view_count=new $(t.viewCountText),this.short_view_count=new $(t.shortViewCountText),Reflect.has(t,"upcomingEventData")&&(this.upcoming=new Date(Number(`${t.upcomingEventData.startTime}000`))),this.duration={text:t.lengthText?new $(t.lengthText).toString():new $(s).toString(),seconds:kb(t.lengthText?new $(t.lengthText).toString():new $(s).toString())},this.show_action_menu=!!t.showActionMenu,this.is_watched=!!t.isWatched,this.menu=cb.parseItem(t.menu,dt),Reflect.has(t,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=t.searchVideoResultEntityKey)}get description(){var t;return this.snippets?this.snippets.map((t=>t.text.toString())).join(""):(null===(t=this.description_snippet)||void 0===t?void 0:t.toString())||""}get is_live(){var t;return this.badges.some((t=>{if("BADGE_STYLE_TYPE_LIVE_NOW"===t.style||"LIVE"===t.label)return!0}))||"LIVE"===(null===(t=this.thumbnail_overlays.firstOfType(Lt))||void 0===t?void 0:t.style)}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some((t=>"PREMIERE"===t.label))}get is_4k(){return this.badges.some((t=>"4K"===t.label))}get has_captions(){return this.badges.some((t=>"CC"===t.label))}get best_thumbnail(){return this.thumbnails[0]}}Bt.type="Video";const Vt=Bt;class Ut extends Vt{constructor(t){super(t)}}Ut.type="VideoCard";const jt=Ut;class Wt extends _{constructor(t){super(),this.cards=cb.parseArray(t.cards,[Ct,mt,Et,jt]),this.header=cb.parseItem(t.header),this.previous_button=cb.parseItem(t.previousButton,R),this.next_button=cb.parseItem(t.nextButton,R)}}Wt.type="HorizontalCardList";const Ft=Wt;class Ht extends _{constructor(t){super(),this.label=new $(t.label),this.value=new $(t.value),this.accessibility_text=t.accessibilityText}}Ht.type="Factoid";const $t=Ht;class Gt extends _{constructor(t){super(),this.factoid=cb.parseItem(t.factoid,$t)}}Gt.type="UploadTimeFactoid";const Yt=Gt;class Kt extends _{constructor(t){super(),this.view_count_entity_key=t.viewCountEntityKey,this.factoid=cb.parseItem(t.factoid,[$t]),this.view_count_type=t.viewCountType}}Kt.type="ViewCountFactoid";const zt=Kt;class qt extends _{constructor(t){super(),this.title=new $(t.title),this.channel=new $(t.channel),this.channel_navigation_endpoint=new U(t.channelNavigationEndpoint),this.channel_thumbnail=j.fromResponse(t.channelThumbnail),this.publish_date=new $(t.publishDate),this.views=new $(t.views),this.factoids=cb.parseArray(t.factoid,[$t,zt,Yt])}}qt.type="VideoDescriptionHeader";const Xt=qt;class Qt extends _{constructor(t){super(),this.section_title=new $(t.sectionTitle),this.creator_videos_button=cb.parseItem(t.creatorVideosButton,R),this.creator_about_button=cb.parseItem(t.creatorAboutButton,R),this.section_subtitle=new $(t.sectionSubtitle),this.channel_avatar=j.fromResponse(t.channelAvatar),this.channel_endpoint=new U(t.channelEndpoint)}}Qt.type="VideoDescriptionInfocardsSection";const Jt=Qt;class Zt extends _{constructor(t){super(),this.title=new $(t.title),Reflect.has(t,"defaultMetadata")&&(this.default_metadata=new $(t.defaultMetadata)),Reflect.has(t,"expandedMetadata")&&(this.expanded_metadata=new $(t.expandedMetadata)),Reflect.has(t,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=t.infoRowExpandStatusKey)}}Zt.type="InfoRow";const te=Zt;class ee extends _{constructor(t){super(),this.id=t.videoId,this.thumbnails=j.fromResponse(t.thumbnail)||null,Reflect.has(t,"richThumbnail")&&(this.rich_thumbnail=cb.parse(t.richThumbnail)),this.title=new $(t.title),this.author=new ub(t.longBylineText,t.ownerBadges,t.channelThumbnail),this.view_count=new $(t.viewCountText),this.short_view_count=new $(t.shortViewCountText),this.published=new $(t.publishedTimeText),this.badges=cb.parseArray(t.badges,Dt),this.duration={text:new $(t.lengthText).toString(),seconds:kb(new $(t.lengthText).toString())},this.thumbnail_overlays=cb.parseArray(t.thumbnailOverlays),this.endpoint=new U(t.navigationEndpoint),this.menu=cb.parseItem(t.menu,dt)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some((t=>"Fundraiser"===t.label))}get is_live(){return this.badges.some((t=>{if("BADGE_STYLE_TYPE_LIVE_NOW"===t.style||"LIVE"===t.label)return!0}))}get is_new(){return this.badges.some((t=>"New"===t.label))}get is_premiere(){return this.badges.some((t=>"PREMIERE"===t.style))}}ee.type="CompactVideo";const ie=ee;class ne extends _{constructor(t){super(),this.info_rows=cb.parseArray(t.infoRows,te),this.video_lockup=cb.parseItem(t.videoLockup,ie)}}ne.type="CarouselLockup";const se=ne;class oe extends _{constructor(t){super(),this.carousel_lockups=cb.parseArray(t.carouselLockups,se),this.section_title=new $(t.sectionTitle)}}oe.type="VideoDescriptionMusicSection";const re=oe;class ae extends _{constructor(t){super(),this.section_title=new $(t.sectionTitle),this.sub_header_text=new $(t.subHeaderText),this.primary_button=cb.parseItem(t.primaryButton,R)}}ae.type="VideoDescriptionTranscriptSection";const ce=ae;class le extends _{constructor(t){super(),this.thumbnail=j.fromResponse(t.thumbnail),this.title=new $(t.title),this.short_byline_text=new $(t.shortBylineText),this.video_count_short_text=new $(t.videoCountShortText),this.endpoint=new U(t.navigationEndpoint),this.thumbnail_width=t.thumbnailWidth,this.aspect_ratio=t.aspectRatio,this.max_lines_title=t.maxLinesTitle,this.max_lines_short_byline_text=t.maxLinesShortBylineText,this.overlay_position=t.overlayPosition}}le.type="StructuredDescriptionPlaylistLockup";const ue=le;class he extends _{constructor(t){super(),this.section_title=new $(t.sectionTitle),this.media_lockups=cb.parseArray(t.mediaLockups,[ue])}}he.type="VideoDescriptionCourseSection";const de=he;class pe extends _{constructor(t){super(),this.items=cb.parseArray(t.items,[Xt,Tt,re,Jt,de,ce,ce,Ft])}}pe.type="StructuredDescriptionContent";const fe=pe;class ve extends _{constructor(t){super(),this.header=cb.parseItem(t.header,ut),this.content=cb.parseItem(t.content,[xt,ct,fe,gt,bt]),this.panel_identifier=t.panelIdentifier,this.target_id=t.targetId,this.visibility=t.visibility}}ve.type="EngagementPanelSectionList";const me=ve;class _e extends _{constructor(t){super(),this.title=new $(t.title).toString(),this.form_item_entity_key=t.formItemEntityKey,Reflect.has(t,"selectedIcon")&&(this.selected_icon_type=t.selectedIcon.iconType),Reflect.has(t,"selectedCommand")&&(this.endpoint=new U(t.selectedCommand)),this.selected=!!this.endpoint}}_e.type="MusicMultiSelectMenuItem";const ge=_e;var ye;ye=new WeakMap;const be=class{constructor(t,e){var i,n,s,o,r,a;if(ye.set(this,void 0),e&&v(this,ye,e,"f"),this.itag=t.itag,this.mime_type=t.mimeType,this.is_type_otf="FORMAT_STREAM_TYPE_OTF"===t.type,this.bitrate=t.bitrate,this.average_bitrate=t.averageBitrate,this.width=t.width,this.height=t.height,this.init_range=t.initRange?{start:parseInt(t.initRange.start),end:parseInt(t.initRange.end)}:void 0,this.index_range=t.indexRange?{start:parseInt(t.indexRange.start),end:parseInt(t.indexRange.end)}:void 0,this.last_modified=new Date(Math.floor(parseInt(t.lastModified)/1e3)),this.content_length=parseInt(t.contentLength),this.quality=t.quality,this.quality_label=t.qualityLabel,this.fps=t.fps,this.url=t.url,this.cipher=t.cipher,this.signature_cipher=t.signatureCipher,this.audio_quality=t.audioQuality,this.approx_duration_ms=parseInt(t.approxDurationMs),this.audio_sample_rate=parseInt(t.audioSampleRate),this.audio_channels=t.audioChannels,this.loudness_db=t.loudnessDb,this.has_audio=!!t.audioBitrate||!!t.audioQuality,this.has_video=!!t.qualityLabel,this.color_info=t.colorInfo?{primaries:null===(i=t.colorInfo.primaries)||void 0===i?void 0:i.replace("COLOR_PRIMARIES_",""),transfer_characteristics:null===(n=t.colorInfo.transferCharacteristics)||void 0===n?void 0:n.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:null===(s=t.colorInfo.matrixCoefficients)||void 0===s?void 0:s.replace("COLOR_MATRIX_COEFFICIENTS_","")}:void 0,this.has_audio){const e=new URLSearchParams(this.cipher||this.signature_cipher),i=null===(o=new URLSearchParams(e.get("url")||this.url).get("xtags"))||void 0===o?void 0:o.split(":"),n=null===(r=null==i?void 0:i.find((t=>t.startsWith("acont="))))||void 0===r?void 0:r.split("=")[1];this.language=(null===(a=null==i?void 0:i.find((t=>t.startsWith("lang="))))||void 0===a?void 0:a.split("=")[1])||null,this.is_dubbed="dubbed"===n,this.is_descriptive="descriptive"===n,this.is_original="original"===n||!this.is_dubbed&&!this.is_descriptive,Reflect.has(t,"audioTrack")&&(this.audio_track={audio_is_default:t.audioTrack.audioIsDefault,display_name:t.audioTrack.displayName,id:t.audioTrack.id})}}decipher(t){if(!t)throw new vb("Cannot decipher format, this session appears to have no valid player.");return t.decipher(this.url,this.signature_cipher,this.cipher,f(this,ye,"f"))}};class we{constructor(t){this.id=t.videoId,this.channel_id=t.channelId,this.title=t.title,this.duration=parseInt(t.lengthSeconds),this.keywords=t.keywords,this.is_owner_viewing=!!t.isOwnerViewing,this.short_description=t.shortDescription,this.thumbnail=j.fromResponse(t.thumbnail),this.allow_ratings=!!t.allowRatings,this.view_count=parseInt(t.viewCount),this.author=t.author,this.is_private=!!t.isPrivate,this.is_live=!!t.isLive,this.is_live_content=!!t.isLiveContent,this.is_upcoming=!!t.isUpcoming,this.is_post_live_dvr=!!t.isPostLiveDvr,this.is_crawlable=!!t.isCrawlable}}class xe extends _{constructor(t){super(),this.title=new $(t.title),this.endpoint=new U(t.navigationEndpoint)}}xe.type="AccountChannel";const Se=xe;class Te extends _{constructor(t){super(),this.title=new $(t.title)}}Te.type="AccountItemSectionHeader";const Ie=Te;class Ce extends _{constructor(t){super(),this.account_name=new $(t.accountName),this.account_photo=j.fromResponse(t.accountPhoto),this.is_selected=!!t.isSelected,this.is_disabled=!!t.isDisabled,this.has_channel=!!t.hasChannel,this.endpoint=new U(t.serviceEndpoint),this.account_byline=new $(t.accountByline)}}Ce.type="AccountItem";class ke extends _{constructor(t){super(),this.contents=b(t.contents.map((t=>new Ce(t.accountItem)))),this.header=cb.parseItem(t.header,Ie)}}ke.type="AccountItemSection";const Ee=ke;class Re extends _{constructor(t){super(),this.contents=cb.parseItem(t.contents[0],Ee),this.footers=cb.parseItem(t.footers[0],Se)}}Re.type="AccountSectionList";const Ae=Re;class Me extends _{constructor(t){super(),this.contents=cb.parseArray(t.continuationItems),this.target=t.target}}Me.type="AppendContinuationItemsAction";const Pe=Me;class Oe extends _{constructor(t){super(),Reflect.has(t,"title")&&(this.title=t.title),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"accessibility")&&(this.label=t.accessibility.accessibilityData.label),Reflect.has(t,"tooltip")&&(this.tooltip=t.tooltip),Reflect.has(t,"subMenuItems")&&(this.sub_menu_items=t.subMenuItems.map((t=>{var e,i;return{title:t.title,selected:t.selected,continuation:null===(i=null===(e=t.continuation)||void 0===e?void 0:e.reloadContinuationData)||void 0===i?void 0:i.continuation,endpoint:new U(t.serviceEndpoint||t.navigationEndpoint),subtitle:t.subtitle||null}})))}}Oe.type="SortFilterSubMenu";const De=Oe;class Ne extends _{constructor(t){super(),this.language_menu=cb.parseItem(t.languageMenu,De)}}Ne.type="TranscriptFooter";const Le=Ne;class Be extends _{constructor(t){super(),this.formatted_placeholder=new $(t.formattedPlaceholder),this.clear_button=cb.parseItem(t.clearButton,R),this.endpoint=new U(t.onTextChangeCommand),this.search_button=cb.parseItem(t.searchButton,R)}}Be.type="TranscriptSearchBox";const Ve=Be;class Ue extends _{constructor(t){super(),this.start_ms=t.startMs,this.end_ms=t.endMs,this.snippet=new $(t.snippet)}}Ue.type="TranscriptSectionHeader";const je=Ue;class We extends _{constructor(t){super(),this.start_ms=t.startMs,this.end_ms=t.endMs,this.snippet=new $(t.snippet),this.start_time_text=new $(t.startTimeText),this.target_id=t.targetId}}We.type="TranscriptSegment";const Fe=We;class He extends _{constructor(t){super(),this.initial_segments=cb.parseArray(t.initialSegments,[Fe,je]),this.no_result_label=new $(t.noResultLabel),this.retry_label=new $(t.retryLabel),this.touch_captions_enabled=t.touchCaptionsEnabled}}He.type="TranscriptSegmentList";const $e=He;class Ge extends _{constructor(t){super(),this.header=cb.parseItem(t.header,Ve),this.body=cb.parseItem(t.body,$e),this.footer=cb.parseItem(t.footer,Le),this.target_id=t.targetId}}Ge.type="TranscriptSearchPanel";const Ye=Ge;class Ke extends _{constructor(t){super(),this.content=cb.parseItem(t.content,Ye)}}Ke.type="Transcript";const ze=Ke;class qe extends _{constructor(t){super(),this.target_id=t.targetId,this.content=cb.parseItem(t.content,ze)}}qe.type="UpdateEngagementPanelAction";const Xe=qe;class Qe extends _{constructor(t){super(),this.title=t.title,this.subtitle=t.subtitle,this.metric_value=t.metricValue,this.comparison_indicator=t.comparisonIndicator;const e=t.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:e.linesData[0].x,y:e.linesData[0].y,style:{line_width:e.linesData[0].style.lineWidth,line_color:e.linesData[0].style.lineColor}},domain_axis:{tick_values:e.domainAxis.tickValues,custom_formatter:e.domainAxis.customFormatter},measure_axis:{tick_values:e.measureAxis.tickValues,custom_formatter:e.measureAxis.customFormatter}}}}}Qe.type="DataModelSection";const Je=Qe;class Ze extends _{constructor(t){super(),this.period=t.cardData.periodLabel;const e=t.cardData.sections[0].analyticsKeyMetricsData;this.sections=e.dataModel.sections.map((t=>new Je(t)))}}Ze.type="AnalyticsMainAppKeyMetrics";const ti=Ze;class ei extends _{constructor(t){super();const e=t.analyticsTableCarouselData.data.tableCards;this.title=t.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=t.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=e.map((t=>({title:t.cardData.title,rows:t.cardData.rows.map((t=>({label:t.label,display_value:t.displayValue,display_value_a11y:t.displayValueA11y,bar_ratio:t.barRatio,bar_color:t.barColor,bar_opacity:t.barOpacity})))}))),this.use_main_app_specs=t.analyticsTableCarouselData.useMainAppSpecs}}ei.type="AnalyticsRoot";const ii=ei;class ni extends _{constructor(t){super(),this.title=t.title,this.shorts=t.shortsCarouselData.shorts.map((t=>({description:t.shortsDescription,thumbnail_url:t.thumbnailUrl,endpoint:new U(t.videoEndpoint)})))}}ni.type="AnalyticsShortsCarouselCard";const si=ni;class oi extends _{constructor(t){super(),this.title=t.videoTitle,this.metadata={views:t.videoDescription.split("·")[0].trim(),published:t.videoDescription.split("·")[1].trim(),thumbnails:j.fromResponse(t.thumbnailDetails),duration:t.formattedLength,is_short:t.isShort}}}oi.type="AnalyticsVideo";const ri=oi;class ai extends _{constructor(t){super(),this.title=t.title,Reflect.has(t,"noDataMessage")&&(this.no_data_message=t.noDataMessage),Reflect.has(t,"videoCarouselData")&&Reflect.has(t.videoCarouselData,"videos")&&(this.videos=t.videoCarouselData.videos.map((t=>new ri(t))))}}ai.type="AnalyticsVodCarouselCard";const ci=ai;class li extends _{constructor(t){super(),this.title=t.buttonLabel,this.use_new_specs=t.useNewSpecs}}li.type="CtaGoToCreatorStudio";const ui=li;class hi extends _{constructor(t){super(),this.title=new $(t.title),this.contents=new $(t.contents)}}hi.type="StatRow";const di=hi;class pi extends _{constructor(t){var e,i;super(),(null===(i=null===(e=null==t?void 0:t.content)||void 0===e?void 0:e.automixPlaylistVideoRenderer)||void 0===i?void 0:i.navigationEndpoint)&&(this.playlist_video={endpoint:new U(t.content.automixPlaylistVideoRenderer.navigationEndpoint)})}}pi.type="AutomixPreviewVideo";const fi=pi;class vi extends _{constructor(t){super(),this.image=j.fromResponse(t.image),this.endpoint=new U(t.command)}}vi.type="BackstageImage";const mi=vi;class _i extends _{constructor(t){var e,i,n,s,o,r,a,c;super(),this.text=new $(t.defaultText),this.toggled_text=new $(t.toggledText),this.tooltip=t.defaultTooltip,this.toggled_tooltip=t.toggledTooltip,this.is_toggled=t.isToggled,this.is_disabled=t.isDisabled,this.icon_type=t.defaultIcon.iconType;const l=(null===(n=null===(i=null===(e=null==t?void 0:t.defaultText)||void 0===e?void 0:e.accessibility)||void 0===i?void 0:i.accessibilityData)||void 0===n?void 0:n.label)||(null===(o=null===(s=null==t?void 0:t.accessibilityData)||void 0===s?void 0:s.accessibilityData)||void 0===o?void 0:o.label)||(null===(r=null==t?void 0:t.accessibility)||void 0===r?void 0:r.label);"LIKE"==this.icon_type&&(this.like_count=parseInt(l.replace(/\D/g,"")),this.short_like_count=new $(t.defaultText).toString()),this.endpoint=(null===(c=null===(a=t.defaultServiceEndpoint)||void 0===a?void 0:a.commandExecutorCommand)||void 0===c?void 0:c.commands)?new U(t.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new U(t.defaultServiceEndpoint),this.toggled_endpoint=new U(t.toggledServiceEndpoint),Reflect.has(t,"toggleButtonSupportedData")&&Reflect.has(t.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=t.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(t,"targetId")&&(this.target_id=t.targetId)}}_i.type="ToggleButton";const gi=_i;class yi extends _{constructor(t){var e,i;super(),this.creator_thumbnail=j.fromResponse(t.creatorThumbnail),Reflect.has(t,"heartIcon")&&Reflect.has(t.heartIcon,"iconType")&&(this.heart_icon_type=t.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:null===(i=null===(e=t.heartColor)||void 0===e?void 0:e.basicColorPaletteData)||void 0===i?void 0:i.foregroundTitleColor}},this.hearted_tooltip=t.heartedTooltip,this.is_hearted=t.isHearted,this.is_enabled=t.isEnabled,this.kennedy_heart_color_string=t.kennedyHeartColorString}}yi.type="CreatorHeart";const bi=yi;class wi extends _{constructor(t){super(),this.like_button=cb.parseItem(t.likeButton,gi),this.dislike_button=cb.parseItem(t.dislikeButton,gi),this.reply_button=cb.parseItem(t.replyButton,R),this.creator_heart=cb.parseItem(t.creatorHeart,bi)}}wi.type="CommentActionButtons";const xi=wi;class Si extends _{constructor(t){super(),this.id=t.postId,this.author=new ub(Object.assign(Object.assign({},t.authorText),{navigationEndpoint:t.authorEndpoint}),null,t.authorThumbnail),this.content=new $(t.contentText),this.published=new $(t.publishedTimeText),Reflect.has(t,"pollStatus")&&(this.poll_status=t.pollStatus),Reflect.has(t,"voteStatus")&&(this.vote_status=t.voteStatus),Reflect.has(t,"voteCount")&&(this.vote_count=new $(t.voteCount)),Reflect.has(t,"actionMenu")&&(this.menu=cb.parseItem(t.actionMenu,dt)),Reflect.has(t,"actionButtons")&&(this.action_buttons=cb.parseItem(t.actionButtons,xi)),Reflect.has(t,"voteButton")&&(this.vote_button=cb.parseItem(t.voteButton,R)),Reflect.has(t,"navigationEndpoint")&&(this.endpoint=new U(t.navigationEndpoint)),Reflect.has(t,"backstageAttachment")&&(this.attachment=cb.parseItem(t.backstageAttachment)),this.surface=t.surface}}Si.type="BackstagePost";const Ti=Si;class Ii extends _{constructor(t){super(),this.post=cb.parseItem(t.post)}}Ii.type="BackstagePostThread";const Ci=Ii;class ki extends _{constructor(t){super(),this.contents=cb.parseArray(t.contents)}}ki.type="BrowseFeedActions";const Ei=ki;class Ri extends _{constructor(t){super(),this.album=new $(t.album),this.thumbnails=j.fromResponse(t.thumbnailDetails)}}Ri.type="BrowserMediaSession";const Ai=Ri;class Mi extends _{constructor(t){super(),this.endpoint=new U(t.navigationEndpoint),this.icon=j.fromResponse(t.icon),this.title=new $(t.title)}}Mi.type="HeaderLink";class Pi extends _{constructor(t){var e,i;super(),this.primary=b((null===(e=t.primaryLinks)||void 0===e?void 0:e.map((t=>new Mi(t))))||[]),this.secondary=b((null===(i=t.secondaryLinks)||void 0===i?void 0:i.map((t=>new Mi(t))))||[])}}Pi.type="ChannelHeaderLinks";const Oi=Pi;class Di extends _{constructor(t){super(),Reflect.has(t,"firstLink")&&(this.first_link=$.fromAttributed(t.firstLink)),Reflect.has(t,"more")&&(this.more=$.fromAttributed(t.more))}}Di.type="ChannelHeaderLinksView";const Ni=Di;class Li extends _{constructor(t){super(),this.states=t.states.map((t=>({id:t.stateId,next_id:t.nextStateId,state:cb.parse(t.state)}))),this.current_state_id=t.currentStateId,this.target_id=t.targetId}}Li.type="SubscriptionNotificationToggleButton";const Bi=Li;class Vi extends _{constructor(t){var e,i;super(),this.title=new $(t.buttonText),this.subscribed=t.subscribed,this.enabled=t.enabled,this.item_type=t.type,this.channel_id=t.channelId,this.show_preferences=t.showPreferences,this.subscribed_text=new $(t.subscribedButtonText),this.unsubscribed_text=new $(t.unsubscribedButtonText),this.notification_preference_button=cb.parseItem(t.notificationPreferenceButton,Bi),this.endpoint=new U((null===(e=t.serviceEndpoints)||void 0===e?void 0:e[0])||(null===(i=t.onSubscribeEndpoints)||void 0===i?void 0:i[0]))}}Vi.type="SubscribeButton";const Ui=Vi;class ji extends _{constructor(t){super(),this.author=new ub({simpleText:t.title,navigationEndpoint:t.navigationEndpoint},t.badges,t.avatar),Reflect.has(t,"banner")&&(this.banner=j.fromResponse(t.banner)),Reflect.has(t,"tv_banner")&&(this.tv_banner=j.fromResponse(t.tvBanner)),Reflect.has(t,"mobile_banner")&&(this.mobile_banner=j.fromResponse(t.mobileBanner)),Reflect.has(t,"subscriberCountText")&&(this.subscribers=new $(t.subscriberCountText)),Reflect.has(t,"videosCountText")&&(this.videos_count=new $(t.videosCountText)),Reflect.has(t,"sponsorButton")&&(this.sponsor_button=cb.parseItem(t.sponsorButton,R)),Reflect.has(t,"subscribeButton")&&(this.subscribe_button=cb.parseItem(t.subscribeButton,[Ui,R])),Reflect.has(t,"headerLinks")&&(this.header_links=cb.parseItem(t.headerLinks,[Oi,Ni])),Reflect.has(t,"channelHandleText")&&(this.channel_handle=new $(t.channelHandleText)),Reflect.has(t,"channelId")&&(this.channel_id=t.channelId)}}ji.type="C4TabbedHeader";const Wi=ji;class Fi extends _{constructor(t){super(),this.label=new $(t.label),this.icon_type=t.icon.iconType,this.style=t.style}}Fi.type="CallToActionButton";const Hi=Fi;class $i extends _{constructor(t){super(),this.teaser=cb.parseItem(t.teaser),this.content=cb.parseItem(t.content),Reflect.has(t,"cardId")&&(this.card_id=t.cardId),Reflect.has(t,"feature")&&(this.feature=t.feature),this.cue_ranges=t.cueRanges.map((t=>({start_card_active_ms:t.startCardActiveMs,end_card_active_ms:t.endCardActiveMs,teaser_duration_ms:t.teaserDurationMs,icon_after_teaser_ms:t.iconAfterTeaserMs})))}}$i.type="Card";const Gi=$i;class Yi extends _{constructor(t){super(),this.contents=cb.parseArray(t.contents)}}Yi.type="CarouselHeader";const Ki=Yi;class zi extends _{constructor(t){super(),this.items=cb.parseArray(t.carouselItems),this.background_color=t.backgroundColor,this.layout_style=t.layoutStyle,this.pagination_thumbnails=j.fromResponse(t.paginationThumbnails),this.paginator_alignment=t.paginatorAlignment}get contents(){return this.items}}zi.type="CarouselItem";const qi=zi;class Xi extends _{constructor(t){super(),this.id=t.channelId,this.author=new ub(Object.assign(Object.assign({},t.title),{navigationEndpoint:t.navigationEndpoint}),t.ownerBadges,t.thumbnail),this.subscriber_count=new $(t.subscriberCountText),this.video_count=new $(t.videoCountText),this.long_byline=new $(t.longBylineText),this.short_byline=new $(t.shortBylineText),this.endpoint=new U(t.navigationEndpoint),this.subscribe_button=cb.parseItem(t.subscribeButton,[Ui,R]),this.description_snippet=new $(t.descriptionSnippet)}get subscribers(){return this.subscriber_count}get videos(){return this.video_count}}Xi.type="Channel";const Qi=Xi;class Ji extends _{constructor(t){var e,i;super(),this.id=t.channelId,this.name=new $(t.title),this.avatar=j.fromResponse(t.avatar),this.canonical_channel_url=t.canonicalChannelUrl,this.primary_links=null!==(i=null===(e=t.primaryLinks)||void 0===e?void 0:e.map((t=>({endpoint:new U(t.navigationEndpoint),icon:j.fromResponse(t.icon),title:new $(t.title)}))))&&void 0!==i?i:[],this.view_count=new $(t.viewCountText),this.joined_date=new $(t.joinedDateText),this.description=new $(t.description),this.email_reveal=new U(t.onBusinessEmailRevealClickCommand),this.can_reveal_email=!t.signInForBusinessEmail,this.country=new $(t.country),this.buttons=cb.parseArray(t.actionButtons,R)}get views(){return this.view_count}get joined(){return this.joined_date}}Ji.type="ChannelAboutFullMetadata";const Zi=Ji;class tn extends _{constructor(t){super(),this.channel_title=t.channelTitle,this.avatar=j.fromResponse(t.avatar),this.header=new $(t.header),this.main_text=new $(t.mainText),this.sign_in_button=zm(t.signInButton,R),this.secondary_text=new $(t.secondaryText)}}tn.type="ChannelAgeGate";const en=tn;class nn extends _{constructor(t){super(),this.title=new $(t.title),this.items=cb.parseArray(t.items)}}nn.type="ChannelFeaturedContent";const sn=nn;class on extends _{constructor(t){super(),this.title=t.title,this.description=t.description,this.url=t.channelUrl,this.rss_url=t.rssUrl,this.vanity_channel_url=t.vanityChannelUrl,this.external_id=t.externalId,this.is_family_safe=t.isFamilySafe,this.keywords=t.keywords,this.avatar=j.fromResponse(t.avatar),this.music_artist_name="string"==typeof t.musicArtistName&&t.musicArtistName.length>0?t.musicArtistName:void 0,this.available_countries=t.availableCountryCodes,this.android_deep_link=t.androidDeepLink,this.android_appindexing_link=t.androidAppindexingLink,this.ios_appindexing_link=t.iosAppindexingLink}}on.type="ChannelMetadata";const rn=on;class an extends _{constructor(t){super(),this.title=new $(t.title)}}an.type="ChannelMobileHeader";const cn=an;class ln extends _{constructor(t){super(),this.avatar=j.fromResponse(t.avatar),this.endpoint=new U(t.avatarEndpoint),this.name=t.name,this.links=t.links.map((t=>new $(t)))}}ln.type="ChannelOptions";const un=ln;class hn extends _{constructor(t){super(),this.content_type_sub_menu_items=t.contentTypeSubMenuItems.map((t=>({endpoint:new U(t.navigationEndpoint||t.endpoint),selected:t.selected,title:t.title}))),this.sort_setting=cb.parseItem(t.sortSetting)}}hn.type="ChannelSubMenu";const dn=hn;class pn extends _{constructor(t){var e,i;super(),this.thumbnails=j.fromResponse(t.thumbnail),this.endpoint=new U(t.navigationEndpoint),this.label=null===(i=null===(e=t.accessibility)||void 0===e?void 0:e.accessibilityData)||void 0===i?void 0:i.label}}pn.type="ChannelThumbnailWithLink";const fn=pn;class vn extends _{constructor(t){super(),this.id=t.videoId,this.title=new $(t.title),this.description=new $(t.description),this.view_count=new $(t.viewCountText),this.published_time=new $(t.publishedTimeText)}get views(){return this.view_count}get published(){return this.published_time}}vn.type="ChannelVideoPlayer";const mn=vn;class _n extends _{constructor(t){super(),this.title=new $(t.title),this.time_range_start_millis=t.timeRangeStartMillis,this.thumbnail=j.fromResponse(t.thumbnail)}}_n.type="Chapter";const gn=_n;class yn extends _{constructor(t){super(),this.id=t.videoId,this.title=new $(t.title),this.duration={text:t.lengthText.simpleText,seconds:kb(t.lengthText.simpleText)},this.endpoint=new U(t.navigationEndpoint)}}yn.type="ChildVideo";const bn=yn;class wn extends _{constructor(t){super(),this.is_selected=t.isSelected,Reflect.has(t,"navigationEndpoint")&&(this.endpoint=new U(t.navigationEndpoint)),this.text=new $(t.text).toString()}}wn.type="ChipCloudChip";const xn=wn;class Sn extends _{constructor(t){super(),this.chips=cb.parseArray(t.chips,xn),this.next_button=cb.parseItem(t.nextButton,R),this.previous_button=cb.parseItem(t.previousButton,R),this.horizontal_scrollable=t.horizontalScrollable}}Sn.type="ChipCloud";const Tn=Sn;class In extends _{constructor(t){super(),this.channel_avatar=j.fromResponse(t.channelAvatar),this.custom_text=new $(t.customText),this.channel_name=new $(t.channelName),this.subscriber_count=new $(t.subscriberCountText),this.endpoint=new U(t.endpoint)}}In.type="CollaboratorInfoCardContent";const Cn=In;class kn extends _{constructor(t){super(),this.left=j.fromResponse(t.leftThumbnail),this.top_right=j.fromResponse(t.topRightThumbnail),this.bottom_right=j.fromResponse(t.bottomRightThumbnail),this.endpoint=new U(t.navigationEndpoint)}}kn.type="CollageHeroImage";const En=kn;var Rn;class An extends _{constructor(t){super(),Rn.set(this,void 0),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),this.tooltip=t.iconTooltip,"Verified"===this.tooltip&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(t.style="BADGE_STYLE_TYPE_VERIFIED"),v(this,Rn,t,"f")}get orig_badge(){return f(this,Rn,"f")}}Rn=new WeakMap,An.type="AuthorCommentBadge";const Mn=An;class Pn extends _{constructor(t){super(),this.reply_button=cb.parseItem(t.replyButton,R),this.cancel_button=cb.parseItem(t.cancelButton,R),this.author_thumbnail=j.fromResponse(t.authorThumbnail),this.placeholder=new $(t.placeholderText),this.error_message=new $(t.errorMessage)}}Pn.type="CommentReplyDialog";const On=Pn;class Dn extends _{constructor(t){var e,i;super(),this.text=new $(t.chipText),this.color_pallette={background_color:null===(e=t.chipColorPalette)||void 0===e?void 0:e.backgroundColor,foreground_title_color:null===(i=t.chipColorPalette)||void 0===i?void 0:i.foregroundTitleColor},Reflect.has(t,"chipIcon")&&Reflect.has(t.chipIcon,"iconType")&&(this.icon_type=t.chipIcon.iconType)}}Dn.type="PdgCommentChip";const Nn=Dn;class Ln extends _{constructor(t){super(),this.custom_badge=j.fromResponse(t.customBadge),this.tooltip=t.tooltip}}Ln.type="SponsorCommentBadge";const Bn=Ln;var Vn,Un;(Un=Vn||(Vn={}))[Un.Varint=0]="Varint",Un[Un.Fixed64=1]="Fixed64",Un[Un.LengthDelimited=2]="LengthDelimited",Un[Un.StartGroup=3]="StartGroup",Un[Un.EndGroup=4]="EndGroup",Un[Un.Fixed32=5]="Fixed32";const jn=65535;class Wn extends Uint32Array{constructor(t=0,e=0){super([t,e])}toString(t=!0){const[e,i]=this;if(0===e&&0===i)return"0";if(t&&i>2147483647)return"-"+Gn(qn(this),Hn).toString(!1);const n=[];let s=new Wn(e,i);for(;zn(s,Fn);){const[t,e]=Kn(s);n.push(e),s=t}return n.reverse().join("")}static parse(t){const e=parseInt(t,10),i=e<0;if(Number.isNaN(e))return new Wn(0);if(t.length<10)return e<0?Gn(qn(new Wn(-e)),Hn):new Wn(e);let n=new Wn,s=Hn;for(const e of t.split("").reverse())parseInt(e)&&(n=Gn(n,Yn(new Wn(parseInt(e)),s))),s=Yn(s,new Wn(10));return i?Gn(qn(n),Hn):n}}const Fn=new Wn(0),Hn=new Wn(1);function $n(t){const[e,i]=t;return[e&jn,e>>>16,i&jn,i>>>16]}function Gn(t,e){const[i,n,s,o]=$n(t),[r,a,c,l]=$n(e);let u=0,h=0,d=0,p=0;return p+=i+r,d+=p>>>16,p&=jn,d+=n+a,h+=d>>>16,d&=jn,h+=s+c,u+=h>>>16,h&=jn,u+=o+l,u&=jn,new Wn(d<<16|p,u<<16|h)}function Yn(t,e){const[i,n,s,o]=$n(t),[r,a,c,l]=$n(e);let u=0,h=0,d=0,p=0;return p+=i*r,d+=p>>>16,p&=jn,d+=i*a+n*r,h+=d>>>16,d&=jn,h+=i*c+s*r+n*a,u+=h>>>16,h&=jn,u+=i*l+n*c+s*a+o*r,u&=jn,new Wn(d<<16|p,u<<16|h)}function Kn(t){const[e,i]=t;return[new Wn((i%10*4294967296+e)/10|0,i/10|0),(i%10*4294967296+e)%10]}function zn(t,e){const[i,n]=t,[s,o]=e;return n!==o?n-o:i-s}function qn(t){const[e,i]=t;return new Wn(~e,~i)}function Xn(t){const e=[];let i="number"==typeof t?new Wn(t):t;for(;i[0]||i[1];){const[t,n]=i,s=127&t;i=new Wn(t>>>7|(127&n)<<25,n>>>7);const o=i[0]||i[1]?128|s:s;e.push(o)}return e.length<1?new Uint8Array(1):Uint8Array.from(e)}function Qn(t){let e=new Wn(0),i=0;for(;;){const o=t.getUint8(i);if(n=e,s=Jn(new Wn(127&o),7*i),e=new Wn(n[0]|s[0],n[1]|s[1]),++i,!(o>>>7))return[i,e]}var n,s}function Jn(t,e){return 0===e?t:e>=32?new Wn(0,t[0]<<e-32):new Wn(t[0]<<e,t[1]<<e|t[0]>>>32-e)}function Zn(t){const e=[];return t.forEach((([t,i])=>{switch(e.push(Xn(t<<3|i.type)),i.type){case Vn.Varint:e.push(Xn(i.value));break;case Vn.Fixed64:{const t=new Uint8Array(8),n=new DataView(t.buffer);n.setUint32(0,i.value[0],!0),n.setUint32(4,i.value[1],!0),e.push(t);break}case Vn.LengthDelimited:e.push(Xn(i.value.byteLength)),e.push(i.value);break;case Vn.Fixed32:{const t=new Uint8Array(4);new DataView(t.buffer).setUint32(0,i.value,!0),e.push(t);break}}})),ts(e)}function ts(t){const e=t.reduce(((t,e)=>t+e.byteLength),0),i=new Uint8Array(e);return t.reduce(((t,e)=>(i.set(e,t),t+e.byteLength)),0),i}function es(t){if(t instanceof Wn){const e=new Wn(t[0]<<1,t[1]<<1|t[0]>>>31),i=t[1]>>>31?new Wn(4294967295,4294967295):new Wn;return new Wn(e[0]^i[0],e[1]^i[1])}return(2*t^t>>31)>>>0}function is(t){if(t instanceof Wn){const e=new Wn(t[0]>>>1|t[1]<<31,t[1]>>>1),i=1&t[0]?new Wn(4294967295,4294967295):new Wn;return new Wn(e[0]^i[0],e[1]^i[1])}return t>>>1^-(1&t)}const ns={int32:t=>0|t[0],int64:t=>t.toString(!0),uint32:t=>t[0]>>>0,uint64:t=>t.toString(!1),sint32:t=>is(t[0]),sint64:t=>is(t).toString(!0),bool:t=>0!==t[0]},ss={int32:t=>new Wn(t),int64:t=>Wn.parse(t),uint32:t=>new Wn(t),uint64:t=>Wn.parse(t),sint32:t=>es(new Wn(t)),sint64:t=>es(Wn.parse(t)),bool:t=>new Wn(+t)},os=Object.fromEntries(Object.entries(ns).map((([t,e])=>[t,t=>{if(t.type===Vn.Varint)return e(t.value)}]))),rs=Object.fromEntries(Object.entries(ss).map((([t,e])=>[t,t=>({type:Vn.Varint,value:e(t)})]))),as=Object.assign(Object.assign({},os),{double:t=>{if(t.type===Vn.Fixed64)return new DataView(t.value.buffer).getFloat64(0,!0)},float:t=>{if(t.type===Vn.Fixed32)return new DataView(new Uint32Array([t.value]).buffer).getFloat32(0,!0)},fixed32:t=>{if(t.type===Vn.Fixed32)return t.value>>>0},fixed64:t=>{if(t.type===Vn.Fixed64)return t.value.toString(!1)},sfixed32:t=>{if(t.type===Vn.Fixed32)return 0|t.value},sfixed64:t=>{if(t.type===Vn.Fixed64)return t.value.toString(!0)},string:t=>{if(t.type===Vn.LengthDelimited)return(new TextDecoder).decode(t.value)},bytes:t=>{if(t.type===Vn.LengthDelimited)return t.value}}),cs=Object.assign(Object.assign({},rs),{double:t=>{const e=new Wn;return new DataView(e.buffer).setFloat64(0,t,!0),{type:Vn.Fixed64,value:e}},float:t=>{const e=new Uint32Array(1),i=new DataView(e.buffer);return i.setFloat32(0,t,!0),{type:Vn.Fixed32,value:i.getUint32(0,!0)}},fixed32:t=>({type:Vn.Fixed32,value:t>>>0}),fixed64:t=>({type:Vn.Fixed64,value:Wn.parse(t)}),sfixed32:t=>({type:Vn.Fixed32,value:0|t}),sfixed64:t=>({type:Vn.Fixed64,value:Wn.parse(t)}),string:t=>{const e=new TextEncoder;return{type:Vn.LengthDelimited,value:e.encode(t)}},bytes:t=>({type:Vn.LengthDelimited,value:t})}),ls=Object.fromEntries(Object.keys(ns).map((t=>[t,function*(e){for(const i of e){const e=as[t](i);if(null!=e)yield e;else for(const e of fs(i))yield ns[t](e)}}]))),us=(Object.assign(Object.assign({},ls),{*double(t){for(const e of t){const t=as.double(e);null!=t?yield t:yield*ds(e)}},*float(t){for(const e of t){const t=as.float(e);null!=t?yield t:yield*ps(e)}},*fixed32(t){for(const e of t){const t=as.fixed32(e);if(null!=t)yield t;else for(const t of vs(e))yield t>>>0}},*fixed64(t){for(const e of t){const t=as.fixed64(e);if(null!=t)yield t;else for(const t of ms(e))yield t.toString(!1)}},*sfixed32(t){for(const e of t){const t=as.sfixed32(e);if(null!=t)yield t;else for(const t of vs(e))yield 0|t}},*sfixed64(t){for(const e of t){const t=as.sfixed64(e);if(null!=t)yield t;else for(const t of ms(e))yield t.toString(!0)}}}),Object.fromEntries(Object.keys(ss).map((t=>[t,function(e){return{type:Vn.LengthDelimited,value:ts(e.map((e=>Xn(ss[t](e)))))}}]))));function hs(t,e){return function(i){const n=new Uint8Array(i.length*t),s=new DataView(n.buffer);for(let n=0;n<i.length;++n)e(s,n*t,i[n]);return{type:Vn.LengthDelimited,value:n}}}function*ds(t){if(t.type!==Vn.LengthDelimited)return;const{value:e}=t;let i=0;const n=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){const t=n.getFloat64(i,!0);i+=4,yield t}}function*ps(t){if(t.type!==Vn.LengthDelimited)return;const{value:e}=t;let i=0;const n=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){const t=n.getFloat32(i,!0);i+=4,yield t}}function*fs(t){if(t.type!==Vn.LengthDelimited)return;const{value:e}=t;let i=0;const n=e.byteOffset;for(;i<e.length;){const t=Qn(new DataView(e.buffer,n+i));i+=t[0],yield t[1]}}function*vs(t){if(t.type!==Vn.LengthDelimited)return;const{value:e}=t;let i=0;const n=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){const t=n.getUint32(i,!0);i+=4,yield t}}function*ms(t){if(t.type!==Vn.LengthDelimited)return;const{value:e}=t;let i=0;const n=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){const t=n.getUint32(i,!0);i+=4;const e=n.getUint32(i,!0);i+=4,yield new Wn(t,e)}}function _s(t){const e=[];if(void 0!==t.channelId){const i=t.channelId;e.push([1001,cs.string(i)])}return Zn(e)}function gs(t){const e=[];if(void 0!==t.uploadDate){const i=t.uploadDate;e.push([1,cs.int32(i)])}if(void 0!==t.type){const i=t.type;e.push([2,cs.int32(i)])}if(void 0!==t.duration){const i=t.duration;e.push([3,cs.int32(i)])}if(void 0!==t.featuresHd){const i=t.featuresHd;e.push([4,cs.int32(i)])}if(void 0!==t.featuresSubtitles){const i=t.featuresSubtitles;e.push([5,cs.int32(i)])}if(void 0!==t.featuresCreativeCommons){const i=t.featuresCreativeCommons;e.push([6,cs.int32(i)])}if(void 0!==t.features3d){const i=t.features3d;e.push([7,cs.int32(i)])}if(void 0!==t.featuresLive){const i=t.featuresLive;e.push([8,cs.int32(i)])}if(void 0!==t.featuresPurchased){const i=t.featuresPurchased;e.push([9,cs.int32(i)])}if(void 0!==t.features4k){const i=t.features4k;e.push([14,cs.int32(i)])}if(void 0!==t.features360){const i=t.features360;e.push([15,cs.int32(i)])}if(void 0!==t.featuresLocation){const i=t.featuresLocation;e.push([23,cs.int32(i)])}if(void 0!==t.featuresHdr){const i=t.featuresHdr;e.push([25,cs.int32(i)])}if(void 0!==t.featuresVr180){const i=t.featuresVr180;e.push([26,cs.int32(i)])}return Zn(e)}function ys(t){const e=[];if(void 0!==t.song){const i=t.song;e.push([1,cs.int32(i)])}if(void 0!==t.video){const i=t.video;e.push([2,cs.int32(i)])}if(void 0!==t.album){const i=t.album;e.push([3,cs.int32(i)])}if(void 0!==t.artist){const i=t.artist;e.push([4,cs.int32(i)])}if(void 0!==t.playlist){const i=t.playlist;e.push([5,cs.int32(i)])}return Zn(e)}function bs(t){const e=[];if(void 0!==t.type){const i=t.type;e.push([17,{type:Vn.LengthDelimited,value:ys(i)}])}return Zn(e)}function ws(t){const e=[];if(void 0!==t.channelId){const i=t.channelId;e.push([1,cs.string(i)])}if(void 0!==t.videoId){const i=t.videoId;e.push([2,cs.string(i)])}return Zn(e)}function xs(t){const e=[];if(void 0!==t.ids){const i=t.ids;e.push([5,{type:Vn.LengthDelimited,value:ws(i)}])}return Zn(e)}function Ss(t){const e=[];if(void 0!==t.videoId){const i=t.videoId;e.push([2,cs.string(i)])}return Zn(e)}function Ts(t){const e=[];if(void 0!==t.unkParam){const i=t.unkParam;e.push([1,cs.int32(i)])}return Zn(e)}function Is(t){const e=[];if(void 0!==t.commentId){const i=t.commentId;e.push([2,cs.string(i)])}if(void 0!==t.unkopts){const i=t.unkopts;e.push([4,{type:Vn.LengthDelimited,value:Ts(i)}])}if(void 0!==t.channelId){const i=t.channelId;e.push([5,cs.string(i)])}if(void 0!==t.videoId){const i=t.videoId;e.push([6,cs.string(i)])}if(void 0!==t.unkParam1){const i=t.unkParam1;e.push([8,cs.int32(i)])}if(void 0!==t.unkParam2){const i=t.unkParam2;e.push([9,cs.int32(i)])}return Zn(e)}function Cs(t){const e=[];if(void 0!==t.videoId){const i=t.videoId;e.push([4,cs.string(i)])}if(void 0!==t.sortBy){const i=t.sortBy;e.push([6,cs.int32(i)])}if(void 0!==t.type){const i=t.type;e.push([15,cs.int32(i)])}return Zn(e)}function ks(t){const e=[];if(void 0!==t.unkToken){const i=t.unkToken;e.push([1,cs.string(i)])}if(void 0!==t.repliesOpts){const i=t.repliesOpts;e.push([3,{type:Vn.LengthDelimited,value:Is(i)}])}if(void 0!==t.opts){const i=t.opts;e.push([4,{type:Vn.LengthDelimited,value:Cs(i)}])}if(void 0!==t.page){const i=t.page;e.push([5,cs.int32(i)])}if(void 0!==t.target){const i=t.target;e.push([8,cs.string(i)])}return Zn(e)}function Es(t){const e=[];if(void 0!==t.index){const i=t.index;e.push([1,cs.int32(i)])}return Zn(e)}function Rs(t){const e=[];if(void 0!==t.text){const i=t.text;e.push([1,cs.string(i)])}return Zn(e)}function As(t){const e=[];if(void 0!==t.comment){const i=t.comment;e.push([1,{type:Vn.LengthDelimited,value:Rs(i)}])}return Zn(e)}function Ms(t){const e=[];if(void 0!==t.commentId){const i=t.commentId;e.push([2,cs.string(i)])}if(void 0!==t.params){const i=t.params;e.push([3,{type:Vn.LengthDelimited,value:As(i)}])}if(void 0!==t.targetLanguage){const i=t.targetLanguage;e.push([4,cs.string(i)])}return Zn(e)}function Ps(t){const e=[];if(void 0!==t.index){const i=t.index;e.push([1,cs.int32(i)])}return Zn(e)}function Os(t){const e=[];if(void 0!==t.unkparam){const i=t.unkparam;e.push([16,cs.int32(i)])}if(void 0!==t.clientVersion){const i=t.clientVersion;e.push([17,cs.string(i)])}if(void 0!==t.clientName){const i=t.clientName;e.push([18,cs.string(i)])}return Zn(e)}function Ds(t){const e=[];if(void 0!==t.client){const i=t.client;e.push([1,{type:Vn.LengthDelimited,value:Os(i)}])}return Zn(e)}function Ns(t){const e=[];if(void 0!==t.text){const i=t.text;e.push([1,cs.string(i)])}return Zn(e)}function Ls(t){const e=[];if(void 0!==t.text){const i=t.text;e.push([1,cs.string(i)])}return Zn(e)}function Bs(t){const e=[];for(const i of t.list)e.push([1,cs.string(i)]);return Zn(e)}function Vs(t){const e=[];if(void 0!==t.id){const i=t.id;e.push([1,cs.int32(i)])}return Zn(e)}function Us(t){const e=[];if(void 0!==t.type){const i=t.type;e.push([1,cs.string(i)])}return Zn(e)}function js(t){const e=[];if(void 0!==t.imageData){const i=t.imageData;e.push([1,cs.bytes(i)])}return Zn(e)}function Ws(t){const e=[];if(void 0!==t.type){const i=t.type;e.push([1,cs.int32(i)])}if(void 0!==t.thumbnail){const i=t.thumbnail;e.push([3,{type:Vn.LengthDelimited,value:js(i)}])}return Zn(e)}function Fs(t){const e=[];if(void 0!==t.type){const i=t.type;e.push([1,cs.int32(i)])}return Zn(e)}function Hs(t){const e=[];if(void 0!==t.unkparam){const i=t.unkparam;e.push([1,cs.int32(i)])}if(void 0!==t.choice){const i=t.choice;e.push([2,cs.int32(i)])}return Zn(e)}function $s(t){const e=[];if(void 0!==t.unkparam){const i=t.unkparam;e.push([1,cs.int32(i)])}if(void 0!==t.choice){const i=t.choice;e.push([2,cs.int32(i)])}return Zn(e)}function Gs(t){const e=[];if(void 0!==t.context){const i=t.context;e.push([1,{type:Vn.LengthDelimited,value:Ds(i)}])}if(void 0!==t.target){const i=t.target;e.push([2,cs.string(i)])}if(void 0!==t.title){const i=t.title;e.push([3,{type:Vn.LengthDelimited,value:Ns(i)}])}if(void 0!==t.description){const i=t.description;e.push([4,{type:Vn.LengthDelimited,value:Ls(i)}])}if(void 0!==t.tags){const i=t.tags;e.push([6,{type:Vn.LengthDelimited,value:Bs(i)}])}if(void 0!==t.category){const i=t.category;e.push([7,{type:Vn.LengthDelimited,value:Vs(i)}])}if(void 0!==t.license){const i=t.license;e.push([8,{type:Vn.LengthDelimited,value:Us(i)}])}if(void 0!==t.videoThumbnail){const i=t.videoThumbnail;e.push([20,{type:Vn.LengthDelimited,value:Ws(i)}])}if(void 0!==t.privacy){const i=t.privacy;e.push([38,{type:Vn.LengthDelimited,value:Fs(i)}])}if(void 0!==t.madeForKids){const i=t.madeForKids;e.push([68,{type:Vn.LengthDelimited,value:Hs(i)}])}if(void 0!==t.ageRestricted){const i=t.ageRestricted;e.push([69,{type:Vn.LengthDelimited,value:$s(i)}])}return Zn(e)}function Ys(t){const e=[];if(void 0!==t.hashtag){const i=t.hashtag;e.push([1,cs.string(i)])}if(void 0!==t.type){const i=t.type;e.push([3,cs.int32(i)])}return Zn(e)}function Ks(t,e){const i=function(t){const e=[];if(void 0!==t.id){const i=t.id;e.push([1,cs.string(i)])}if(void 0!==t.timestamp){const i=t.timestamp;e.push([5,cs.int32(i)])}return Zn(e)}({id:t,timestamp:e});return encodeURIComponent(Rb(i).replace(/\+/g,"-").replace(/\//g,"_"))}function zs(t){var e;return function(t){const e={id:"",timestamp:0},i=function(t){let e=0;const i=t.byteOffset,n=[],s=new DataView(t.buffer,i);for(;e<t.length;){const o=Qn(new DataView(t.buffer,i+e)),r=o[1][0];e+=o[0];const a=7&r,c=r>>>3;switch(a){default:throw new Error(`Unknown wire type ${a}`);case Vn.Varint:{const[s,o]=Qn(new DataView(t.buffer,i+e));n.push([c,{type:a,value:o}]),e+=s;break}case Vn.Fixed64:const o=s.getUint32(e,!0),r=s.getUint32(e+=4,!0);e+=4,n.push([c,{type:a,value:new Wn(o,r)}]);break;case Vn.LengthDelimited:{const[s,o]=Qn(new DataView(t.buffer,i+e));n.push([c,{type:a,value:t.subarray(e+=s,e+=o[0])}]);break}case Vn.StartGroup:case Vn.EndGroup:n.push([c,{type:a}]);break;case Vn.Fixed32:n.push([c,{type:a,value:s.getUint32(e,!0)}]),e+=4}}return n}(t),n=new Map(i);t:{const t=n.get(1);if(void 0===t)break t;const i=as.string(t);void 0!==i&&(e.id=i)}t:{const t=n.get(5);if(void 0===t)break t;const i=as.int32(t);void 0!==i&&(e.timestamp=i)}return e}((e=decodeURIComponent(t),new Uint8Array(atob(e).split("").map((t=>t.charCodeAt(0))))))}function qs(t){const e=function(t){const e=[];if(void 0!==t.params){const i=t.params;e.push([32,{type:Vn.LengthDelimited,value:_s(i)}])}return Zn(e)}({params:{channelId:t}});return encodeURIComponent(Rb(e))}function Xs(t){const e={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},i={};if(t?i.filters={}:i.noFilter=0,i.filters&&(t.upload_date&&(i.filters.uploadDate={all:void 0,hour:1,today:2,week:3,month:4,year:5}[t.upload_date]),t.type&&(i.filters.type={all:void 0,video:1,channel:2,playlist:3,movie:4}[t.type]),t.duration&&(i.filters.duration={all:void 0,short:1,long:2,medium:3}[t.duration]),t.sort_by&&"relevance"!==t.sort_by&&(i.sortBy={relevance:void 0,rating:1,upload_date:2,view_count:3}[t.sort_by]),t.features))for(const n of t.features)i.filters[e[n]]=1;const n=function(t){const e=[];if(void 0!==t.sortBy){const i=t.sortBy;e.push([1,cs.int32(i)])}if(void 0!==t.filters){const i=t.filters;e.push([2,{type:Vn.LengthDelimited,value:gs(i)}])}if(void 0!==t.noFilter){const i=t.noFilter;e.push([19,cs.int32(i)])}return Zn(e)}(i);return encodeURIComponent(Rb(n))}function Qs(t){var e;const i={filters:{type:{}}};t.type&&"all"!==t.type&&(null===(e=i.filters)||void 0===e?void 0:e.type)&&(i.filters.type[t.type]=1);const n=function(t){const e=[];if(void 0!==t.filters){const i=t.filters;e.push([2,{type:Vn.LengthDelimited,value:bs(i)}])}return Zn(e)}(i);return encodeURIComponent(Rb(n))}function Js(t,e){const i=function(t){const e=[];if(void 0!==t.params){const i=t.params;e.push([1,{type:Vn.LengthDelimited,value:xs(i)}])}if(void 0!==t.number0){const i=t.number0;e.push([2,cs.int32(i)])}if(void 0!==t.number1){const i=t.number1;e.push([3,cs.int32(i)])}return Zn(e)}({params:{ids:{channelId:t,videoId:e}},number0:1,number1:4});return btoa(encodeURIComponent(Rb(i)))}function Zs(t,e={}){const i=function(t){const e=[];if(void 0!==t.ctx){const i=t.ctx;e.push([2,{type:Vn.LengthDelimited,value:Ss(i)}])}if(void 0!==t.unkParam){const i=t.unkParam;e.push([3,cs.int32(i)])}if(void 0!==t.params){const i=t.params;e.push([6,{type:Vn.LengthDelimited,value:ks(i)}])}return Zn(e)}({ctx:{videoId:t},unkParam:6,params:{opts:{videoId:t,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[e.sort_by||"TOP_COMMENTS"],type:e.type||2},target:"comments-section"}});return encodeURIComponent(Rb(i))}function to(t){const e=function(t){const e=[];if(void 0!==t.videoId){const i=t.videoId;e.push([2,cs.string(i)])}if(void 0!==t.params){const i=t.params;e.push([5,{type:Vn.LengthDelimited,value:Es(i)}])}if(void 0!==t.number){const i=t.number;e.push([10,cs.int32(i)])}return Zn(e)}({videoId:t,params:{index:0},number:7});return encodeURIComponent(Rb(e))}function eo(t,e={}){const i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if("string"!=typeof e.target_language)throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}const n=function(t){const e=[];if(void 0!==t.type){const i=t.type;e.push([1,cs.int32(i)])}if(void 0!==t.unkNum){const i=t.unkNum;e.push([2,cs.int32(i)])}if(void 0!==t.commentId){const i=t.commentId;e.push([3,cs.string(i)])}if(void 0!==t.videoId){const i=t.videoId;e.push([5,cs.string(i)])}if(void 0!==t.channelId){const i=t.channelId;e.push([23,cs.string(i)])}if(void 0!==t.translateCommentParams){const i=t.translateCommentParams;e.push([31,{type:Vn.LengthDelimited,value:Ms(i)}])}return Zn(e)}(i);return encodeURIComponent(Rb(n))}function io(t,e){const i=function(t){const e=[];if(void 0!==t.channelId){const i=t.channelId;e.push([1,cs.string(i)])}if(void 0!==t.prefId){const i=t.prefId;e.push([2,{type:Vn.LengthDelimited,value:Ps(i)}])}if(void 0!==t.number0){const i=t.number0;e.push([3,cs.int32(i)])}if(void 0!==t.number1){const i=t.number1;e.push([4,cs.int32(i)])}return Zn(e)}({channelId:t,prefId:{index:e},number0:0,number1:4});return encodeURIComponent(Rb(i))}function no(t){const e=function(t){const e=[];if(void 0!==t.params){const i=t.params;e.push([93,{type:Vn.LengthDelimited,value:Ys(i)}])}return Zn(e)}({params:{hashtag:t,type:1}});return encodeURIComponent(Rb(e))}var so;Object.assign(Object.assign({},us),{double:hs(8,((t,e,i)=>{t.setFloat64(e,i,!0)})),float:hs(4,((t,e,i)=>{t.setFloat32(e,i,!0)})),fixed32:hs(4,((t,e,i)=>{t.setUint32(e,i,!0)})),fixed64:hs(8,((t,e,i)=>{const n=Wn.parse(i);t.setUint32(e,n[0],!0),t.setUint32(e+4,n[1],!0)})),sfixed32:hs(4,((t,e,i)=>{t.setInt32(e,i,!0)})),sfixed64:hs(8,((t,e,i)=>{const n=Wn.parse(i);t.setUint32(e,n[0],!0),t.setUint32(e+4,n[1],!0)}))});class oo extends _{constructor(t){var e,i,n,s,o,r,a;super(),so.set(this,void 0),this.content=new $(t.contentText),this.published=new $(t.publishedTimeText),this.author_is_channel_owner=t.authorIsChannelOwner,this.current_user_reply_thumbnail=j.fromResponse(t.currentUserReplyThumbnail),this.sponsor_comment_badge=cb.parseItem(t.sponsorCommentBadge,Bn),this.paid_comment_chip=cb.parseItem(t.paidCommentChipRenderer,Nn),this.author_badge=cb.parseItem(t.authorCommentBadge,Mn),this.author=new ub(Object.assign(Object.assign({},t.authorText),{navigationEndpoint:t.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:null===(e=this.author_badge)||void 0===e?void 0:e.orig_badge}]:null,t.authorThumbnail),this.action_menu=cb.parseItem(t.actionMenu,dt),this.action_buttons=cb.parseItem(t.actionButtons,xi),this.comment_id=t.commentId,this.vote_status=t.voteStatus,this.vote_count=t.voteCount?new $(t.voteCount).toString():"0",this.reply_count=t.replyCount||0,this.is_liked=!!(null===(n=null===(i=this.action_buttons)||void 0===i?void 0:i.like_button)||void 0===n?void 0:n.is_toggled),this.is_disliked=!!(null===(o=null===(s=this.action_buttons)||void 0===s?void 0:s.dislike_button)||void 0===o?void 0:o.is_toggled),this.is_hearted=!!(null===(a=null===(r=this.action_buttons)||void 0===r?void 0:r.creator_heart)||void 0===a?void 0:a.is_hearted),this.is_pinned=!!t.pinnedCommentBadge,this.is_member=!!t.sponsorCommentBadge}like(){var t;return h(this,void 0,void 0,(function*(){if(!f(this,so,"f"))throw new vb("An active caller must be provide to perform this operation.");const e=null===(t=this.action_buttons)||void 0===t?void 0:t.like_button;if(!e)throw new vb("Like button was not found.",{comment_id:this.comment_id});if(e.is_toggled)throw new vb("This comment is already liked",{comment_id:this.comment_id});return yield e.endpoint.call(f(this,so,"f"),{parse:!1})}))}dislike(){var t;return h(this,void 0,void 0,(function*(){if(!f(this,so,"f"))throw new vb("An active caller must be provide to perform this operation.");const e=null===(t=this.action_buttons)||void 0===t?void 0:t.dislike_button;if(!e)throw new vb("Dislike button was not found.",{comment_id:this.comment_id});if(e.is_toggled)throw new vb("This comment is already disliked",{comment_id:this.comment_id});return yield e.endpoint.call(f(this,so,"f"),{parse:!1})}))}reply(t){var e,i,n;return h(this,void 0,void 0,(function*(){if(!f(this,so,"f"))throw new vb("An active caller must be provide to perform this operation.");if(!(null===(e=this.action_buttons)||void 0===e?void 0:e.reply_button))throw new vb("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});const s=null===(i=this.action_buttons)||void 0===i?void 0:i.reply_button;if(!(null===(n=s.endpoint)||void 0===n?void 0:n.dialog))throw new vb("Reply button endpoint did not have a dialog.");const o=s.endpoint.dialog.as(On).reply_button;if(!o)throw new vb("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!o.endpoint)throw new vb("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield o.endpoint.call(f(this,so,"f"),{commentText:t})}))}translate(t){var e,i,n,s,o,r;return h(this,void 0,void 0,(function*(){if(!f(this,so,"f"))throw new vb("An active caller must be provide to perform this operation.");const a=eo(22,{text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:t,comment_id:this.comment_id}),c=yield f(this,so,"f").execute("comment/perform_comment_action",{action:a,client:"ANDROID"}),l=null===(i=null===(e=c.data.frameworkUpdates)||void 0===e?void 0:e.entityBatchUpdate)||void 0===i?void 0:i.mutations,u=null===(r=null===(o=null===(s=null===(n=null==l?void 0:l[0])||void 0===n?void 0:n.payload)||void 0===s?void 0:s.commentEntityPayload)||void 0===o?void 0:o.translatedContent)||void 0===r?void 0:r.content;return Object.assign(Object.assign({},c),{content:u})}))}setActions(t){v(this,so,t,"f")}}so=new WeakMap,oo.type="Comment";const ro=oo;class ao extends _{constructor(t){super(),this.id=t.id,this.categories=cb.parseArray(t.categories),this.category_buttons=cb.parseArray(t.categoryButtons),this.search_placeholder=new $(t.searchPlaceholderText),this.search_no_results=new $(t.searchNoResultsText),this.pick_skin_tone=new $(t.pickSkinToneText),this.clear_search_label=t.clearSearchLabel,this.skin_tone_generic_label=t.skinToneGenericLabel,this.skin_tone_light_label=t.skinToneLightLabel,this.skin_tone_medium_light_label=t.skinToneMediumLightLabel,this.skin_tone_medium_label=t.skinToneMediumLabel,this.skin_tone_medium_dark_label=t.skinToneMediumDarkLabel,this.skin_tone_dark_label=t.skinToneDarkLabel}}ao.type="EmojiPicker";const co=ao;class lo extends _{constructor(t){super(),this.editable_text=new $(t.editableText),this.author_thumbnail=j.fromResponse(t.authorThumbnail),this.submit_button=cb.parseItem(t.submitButton,R),this.cancel_button=cb.parseItem(t.cancelButton,R),this.placeholder=new $(t.placeholderText),this.emoji_button=cb.parseItem(t.emojiButton,R),this.emoji_picker=cb.parseItem(t.emojiPicker,co)}}lo.type="CommentDialog";const uo=lo;class ho extends _{constructor(t){super(),this.contents=cb.parseArray(t.contents),this.view_replies=cb.parseItem(t.viewReplies,R),this.hide_replies=cb.parseItem(t.hideReplies,R),this.view_replies_creator_thumbnail=j.fromResponse(t.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!t.viewRepliesCreatorThumbnail}}ho.type="CommentReplies";const po=ho;class fo extends _{constructor(t){super(),this.simplebox_avatar=j.fromResponse(t.simpleboxAvatar),this.simplebox_placeholder=new $(t.simpleboxPlaceholder)}}fo.type="CommentsSimplebox";const vo=fo;class mo extends _{constructor(t){super(),Reflect.has(t,"teaserAvatar")&&(this.teaser_avatar=j.fromResponse(t.teaserAvatar)),Reflect.has(t,"teaserContent")&&(this.teaser_content=new $(t.teaserContent))}}mo.type="CommentsEntryPointTeaser";const _o=mo;class go extends _{constructor(t){super(),Reflect.has(t,"headerText")&&(this.header=new $(t.headerText)),Reflect.has(t,"commentCount")&&(this.comment_count=new $(t.commentCount)),(Reflect.has(t,"teaserAvatar")||Reflect.has(t,"simpleboxAvatar"))&&(this.teaser_avatar=j.fromResponse(t.teaserAvatar||t.simpleboxAvatar)),Reflect.has(t,"teaserContent")&&(this.teaser_content=new $(t.teaserContent)),Reflect.has(t,"contentRenderer")&&(this.content_renderer=zm(t.contentRenderer,[_o,vo])),Reflect.has(t,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new $(t.simpleboxPlaceholder))}}go.type="CommentsEntryPointHeader";const yo=go;class bo extends _{constructor(t){super(),this.title=new $(t.titleText),this.count=new $(t.countText),this.comments_count=new $(t.commentsCount),this.create_renderer=cb.parseItem(t.createRenderer),this.sort_menu=cb.parseItem(t.sortMenu,De),Reflect.has(t,"customEmojis")&&(this.custom_emojis=t.customEmojis.map((t=>({emoji_id:t.emojiId,shortcuts:t.shortcuts,search_terms:t.searchTerms,image:j.fromResponse(t.image),is_custom_emoji:t.isCustomEmoji}))))}}bo.type="CommentsHeader";const wo=bo;class xo extends _{constructor(t){super(),this.submit_button=cb.parseItem(t.submitButton,R),this.cancel_button=cb.parseItem(t.cancelButton,R),this.author_thumbnail=j.fromResponse(t.authorThumbnail),this.placeholder=new $(t.placeholderText),this.avatar_size=t.avatarSize}}xo.type="CommentSimplebox";const So=xo;var To,Io;class Co extends _{constructor(t){super(),To.set(this,void 0),Io.set(this,void 0),this.comment=cb.parseItem(t.comment,ro),this.comment_replies_data=cb.parseItem(t.replies,po),this.is_moderated_elq_comment=t.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){var t;return h(this,void 0,void 0,(function*(){if(!f(this,To,"f"))throw new vb("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new vb("This comment has no replies.",this);const e=null===(t=this.comment_replies_data.contents)||void 0===t?void 0:t.firstOfType(ct);if(!e)throw new vb("Replies continuation not found.");const i=yield e.endpoint.call(f(this,To,"f"),{parse:!0});if(!i.on_response_received_endpoints_memo)throw new vb("Unexpected response.",i);return this.replies=b(i.on_response_received_endpoints_memo.getType(ro).map((t=>(t.setActions(f(this,To,"f")),t)))),v(this,Io,null==i?void 0:i.on_response_received_endpoints_memo.getType(ct).first(),"f"),this}))}getContinuation(){var t;return h(this,void 0,void 0,(function*(){if(!this.replies)throw new vb("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!f(this,Io,"f"))throw new vb("Continuation not found.");if(!f(this,To,"f"))throw new vb("Actions instance not set for this thread.");const e=null===(t=f(this,Io,"f").button)||void 0===t?void 0:t.as(R);if(!e)throw new vb('"Load more" button not found.');const i=yield e.endpoint.call(f(this,To,"f"),{parse:!0});if(!i.on_response_received_endpoints_memo)throw new vb("Unexpected response.",i);return this.replies=b(i.on_response_received_endpoints_memo.getType(ro).map((t=>(t.setActions(f(this,To,"f")),t)))),v(this,Io,i.on_response_received_endpoints_memo.getType(ct).first(),"f"),this}))}get has_continuation(){if(!this.replies)throw new vb("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!f(this,Io,"f")}setActions(t){v(this,To,t,"f")}}To=new WeakMap,Io=new WeakMap,Co.type="CommentThread";const ko=Co;class Eo extends _{constructor(t){super(),this.title=new $(t.title),this.channel_id=t.channelId,this.thumbnail=j.fromResponse(t.thumbnail),this.display_name=new $(t.displayName),this.video_count=new $(t.videoCountText),this.subscriber_count=new $(t.subscriberCountText),this.endpoint=new U(t.navigationEndpoint),this.tv_banner=j.fromResponse(t.tvBanner),this.menu=cb.parseItem(t.menu,dt)}}Eo.type="CompactChannel";const Ro=Eo;class Ao extends _{constructor(t){super(),this.title=new $(t.title).toString(),this.endpoint=new U(t.navigationEndpoint),this.style=t.style}}Ao.type="CompactLink";const Mo=Ao;class Po extends _{constructor(t){super(),this.thumbnail=j.fromResponse(t.thumbnail)}}Po.type="PlaylistCustomThumbnail";const Oo=Po;class Do extends _{constructor(t){super(),this.thumbnail=j.fromResponse(t.thumbnail)}}Do.type="PlaylistVideoThumbnail";const No=Do;class Lo extends _{constructor(t){var e;super(),this.id=t.playlistId,this.title=new $(t.title),this.author=(null===(e=t.shortBylineText)||void 0===e?void 0:e.simpleText)?new $(t.shortBylineText):new ub(t.longBylineText,t.ownerBadges,null),this.thumbnails=j.fromResponse(t.thumbnail||{thumbnails:t.thumbnails.map((t=>t.thumbnails)).flat(1)}),this.video_count=new $(t.thumbnailText),this.video_count_short=new $(t.videoCountShortText),this.first_videos=cb.parseArray(t.videos),this.share_url=t.shareUrl||null,this.menu=cb.parseItem(t.menu),this.badges=cb.parseArray(t.ownerBadges),this.endpoint=new U(t.navigationEndpoint),this.thumbnail_overlays=cb.parseArray(t.thumbnailOverlays),Reflect.has(t,"thumbnailRenderer")&&(this.thumbnail_renderer=cb.parseItem(t.thumbnailRenderer,[No,Oo])||void 0),Reflect.has(t,"viewPlaylistText")&&(this.view_playlist=new $(t.viewPlaylistText))}}Lo.type="Playlist";const Bo=Lo;class Vo extends Bo{constructor(t){super(t)}}Vo.type="CompactMix";const Uo=Vo;class jo extends _{constructor(t){var e;super();const i=(null===(e=t.thumbnailOverlays.find((t=>t.thumbnailOverlayTimeStatusRenderer)))||void 0===e?void 0:e.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=t.videoId,this.title=new $(t.title),this.top_metadata_items=new $(t.topMetadataItems),this.thumbnails=j.fromResponse(t.thumbnail),this.thumbnail_overlays=cb.parseArray(t.thumbnailOverlays),this.author=new ub(t.shortBylineText);const n=t.lengthText?new $(t.lengthText).toString():new $(i).toString();this.duration={text:n,seconds:kb(n)},this.endpoint=new U(t.navigationEndpoint),this.badges=cb.parseArray(t.badges),this.use_vertical_poster=t.useVerticalPoster,this.menu=cb.parseItem(t.menu,dt)}}jo.type="CompactMovie";const Wo=jo;class Fo extends Bo{constructor(t){super(t)}}Fo.type="CompactPlaylist";const Ho=Fo;class $o extends _{constructor(t){super(),this.title=new $(t.title),this.description=new $(t.description),this.video_count=new $(t.videoCountText),this.endpoint=new U(t.navigationEndpoint),this.thumbnail=j.fromResponse(t.thumbnail)}}$o.type="CompactStation";const Go=$o;class Yo extends _{constructor(t){super(),this.title=new $(t.title),this.confirm_button=cb.parseItem(t.confirmButton,R),this.cancel_button=cb.parseItem(t.cancelButton,R),this.dialog_messages=t.dialogMessages.map((t=>new $(t)))}}Yo.type="ConfirmDialog";const Ko=Yo;class zo extends _{constructor(t){super(),this.image=t.image.sources.map((t=>new j(t))).sort(((t,e)=>e.width-t.width)),this.style=t.style}}zo.type="ContentPreviewImageView";const qo=zo;class Xo extends _{constructor(t){super(),this.text=new $(t.text)}}Xo.type="Message";const Qo=Xo;class Jo extends _{constructor(t){super(),this.availability_message=cb.parseItem(t.availabilityMessage,Qo)}}Jo.type="ConversationBar";const Zo=Jo;class tr extends _{constructor(t){super(),this.copy_button=cb.parseItem(t.copyButton,R),this.short_url=t.shortUrl,this.style=t.style}}tr.type="CopyLink";const er=tr;class ir extends _{constructor(t){super(),this.time_range_start_millis=t.timeRangeStartMillis,this.marker_duration_millis=t.markerDurationMillis,this.heat_marker_intensity_score_normalized=t.heatMarkerIntensityScoreNormalized}}ir.type="HeatMarker";const nr=ir;class sr extends _{constructor(t){super(),this.max_height_dp=t.maxHeightDp,this.min_height_dp=t.minHeightDp,this.show_hide_animation_duration_millis=t.showHideAnimationDurationMillis,this.heat_markers=cb.parseArray(t.heatMarkers,nr),this.heat_markers_decorations=cb.parseArray(t.heatMarkersDecorations)}}sr.type="Heatmap";const or=sr;class rr extends _{constructor(t){super(),this.marker_key=t.key,this.value={},Reflect.has(t,"value")&&(Reflect.has(t.value,"heatmap")&&(this.value.heatmap=cb.parseItem(t.value.heatmap,or)),Reflect.has(t.value,"chapters")&&(this.value.chapters=cb.parseArray(t.value.chapters,gn)))}}rr.type="Marker";class ar extends _{constructor(t){var e;super(),this.markers_map=b((null===(e=t.markersMap)||void 0===e?void 0:e.map((t=>new rr(t))))||[])}}ar.type="MultiMarkersPlayerBar";const cr=ar;class lr extends _{constructor(t){super(),this.player_bar=cb.parseItem(t.playerBar,cr),this.player_bar_action_button=cb.parseItem(t.playerBarActionButton,R)}}lr.type="DecoratedPlayerBar";const ur=lr;class hr extends _{constructor(t){super(),this.title=new $(t.title),this.description=new $(t.description),this.endpoint=new U(t.navigationEndpoint),this.large_form_factor_background_thumbnail=cb.parseItem(t.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=cb.parseItem(t.smallFormFactorBackgroundThumbnail),this.scrim_color_values=t.scrimColorValues,this.min_panel_display_duration_ms=t.minPanelDisplayDurationMs,this.min_video_play_duration_ms=t.minVideoPlayDurationMs,this.scrim_duration=t.scrimDuration,this.metadata_order=t.metadataOrder,this.panel_layout=t.panelLayout}}hr.type="DefaultPromoPanel";const dr=hr;class pr extends _{constructor(t){super(),this.text=new $(t.didYouMean).toString(),this.corrected_query=new $(t.correctedQuery),this.endpoint=new U(t.navigationEndpoint||t.correctedQueryEndpoint)}}pr.type="DidYouMean";const fr=pr;class vr extends _{constructor(t){super(),this.style=t.style,this.size=t.size,this.endpoint=new U(t.command),this.target_id=t.targetId}}vr.type="DownloadButton";const mr=vr;class _r extends _{constructor(t){super(),this.text=t.text.content}}_r.type="DynamicTextView";const gr=_r;class yr extends _{constructor(t){var e;super(),Reflect.has(t,"type")&&Reflect.has(t.type,"textType")&&(this.text=null===(e=t.type.textType.text)||void 0===e?void 0:e.content),this.properties=t.properties,Reflect.has(t,"childElements")&&(this.child_elements=t.childElements.map((t=>new yr(t))))}}yr.type="ChildElement";const br=yr;class wr extends _{constructor(t){var e;if(super(),Reflect.has(t,"elementRenderer"))return cb.parseItem(t,wr);const i=t.newElement.type.componentType;this.model=cb.parseItem(null==i?void 0:i.model),Reflect.has(t,"newElement")&&Reflect.has(t.newElement,"childElements")&&(this.child_elements=b((null===(e=t.newElement.childElements)||void 0===e?void 0:e.map((t=>new br(t))))||[]))}}wr.type="Element";const xr=wr;class Sr extends _{constructor(t){super(),this.title=new $(t.title),this.first_option=cb.parseItem(t.firstOption),this.menu=cb.parseItem(t.menu,dt)}}Sr.type="EmergencyOnebox";const Tr=Sr;class Ir extends _{constructor(t){super(),this.category_id=t.categoryId,this.title=new $(t.title),this.emoji_ids=t.emojiIds,this.image_loading_lazy=!!t.imageLoadingLazy,this.category_type=t.categoryType}}Ir.type="EmojiPickerCategory";const Cr=Ir;class kr extends _{constructor(t){var e;super(),this.category_id=t.categoryId,Reflect.has(t,"icon")&&(this.icon_type=null===(e=t.icon)||void 0===e?void 0:e.iconType),this.tooltip=t.tooltip}}kr.type="EmojiPickerCategoryButton";const Er=kr;class Rr extends _{constructor(t){super(),this.category_id=t.categoryId,this.title=new $(t.title),this.upsell=new $(t.upsell),this.emoji_tooltip=t.emojiTooltip,this.endpoint=new U(t.command),this.emoji_ids=t.emojiIds}}Rr.type="EmojiPickerUpsellCategory";const Ar=Rr;class Mr extends _{constructor(t){super(),this.style=t.style,this.title=new $(t.title),this.endpoint=new U(t.endpoint),Reflect.has(t,"image")&&(this.image=j.fromResponse(t.image)),Reflect.has(t,"icon")&&(this.icon=j.fromResponse(t.icon)),Reflect.has(t,"metadata")&&(this.metadata=new $(t.metadata)),Reflect.has(t,"callToAction")&&(this.call_to_action=new $(t.callToAction)),Reflect.has(t,"hovercardButton")&&(this.hovercard_button=cb.parseItem(t.hovercardButton)),Reflect.has(t,"isSubscribe")&&(this.is_subscribe=!!t.isSubscribe),Reflect.has(t,"playlistLength")&&(this.playlist_length=new $(t.playlistLength)),Reflect.has(t,"thumbnailOverlays")&&(this.thumbnail_overlays=cb.parseArray(t.thumbnailOverlays)),this.left=parseFloat(t.left),this.width=parseFloat(t.width),this.top=parseFloat(t.top),this.aspect_ratio=parseFloat(t.aspectRatio),this.start_ms=parseFloat(t.startMs),this.end_ms=parseFloat(t.endMs),this.id=t.id}}Mr.type="EndscreenElement";const Pr=Mr;class Or extends _{constructor(t){super(),this.id=t.playlistId,this.title=new $(t.title),this.author=new $(t.longBylineText),this.endpoint=new U(t.navigationEndpoint),this.thumbnails=j.fromResponse(t.thumbnail),this.video_count=new $(t.videoCountText)}}Or.type="EndScreenPlaylist";const Dr=Or;class Nr extends _{constructor(t){super(),this.id=t.videoId,this.title=new $(t.title),this.thumbnails=j.fromResponse(t.thumbnail),this.thumbnail_overlays=cb.parseArray(t.thumbnailOverlays),this.author=new ub(t.shortBylineText,t.ownerBadges),this.endpoint=new U(t.navigationEndpoint),this.short_view_count=new $(t.shortViewCountText),this.badges=cb.parseArray(t.badges),this.duration={text:new $(t.lengthText).toString(),seconds:t.lengthInSeconds}}}Nr.type="EndScreenVideo";const Lr=Nr;class Br extends _{constructor(t){super(),this.title=t.title,this.endpoint=new U(t.endpoint),this.selected=t.selected,this.content=cb.parseItem(t.content)}}Br.type="ExpandableTab";const Vr=Br;class Ur extends _{constructor(t){super(),this.items=cb.parseArray(t.items)}get contents(){return this.items}}Ur.type="ExpandedShelfContents";const jr=Ur;class Wr extends _{constructor(t){super(),this.dialog_message=new $(t.dialogMessage),this.confirm_label=new $(t.confirmLabel)}}Wr.type="FancyDismissibleDialog";const Fr=Wr;class Hr extends _{constructor(t){super(),this.contents=cb.parseArray(t.contents,xn)}}Hr.type="FeedFilterChipBar";const $r=Hr;class Gr extends _{constructor(t){super(),this.title=new $(t.title)}}Gr.type="FeedTabbedHeader";const Yr=Gr;class Kr extends _{constructor(t){super(),this.title=new $(t.title),this.box_art=j.fromResponse(t.boxArt),this.box_art_overlay_text=new $(t.boxArtOverlayText),this.endpoint=new U(t.endpoint),this.is_official_box_art=!!t.isOfficialBoxArt}}Kr.type="GameDetails";const zr=Kr;class qr extends _{constructor(t){var e,i,n;super(),this.items=cb.parseArray(t.items),Reflect.has(t,"header")&&(this.header=cb.parseItem(t.header)),Reflect.has(t,"isCollapsible")&&(this.is_collapsible=t.isCollapsible),Reflect.has(t,"visibleRowCount")&&(this.visible_row_count=t.visibleRowCount),Reflect.has(t,"targetId")&&(this.target_id=t.targetId),this.continuation=(null===(n=null===(i=null===(e=t.continuations)||void 0===e?void 0:e[0])||void 0===i?void 0:i.nextContinuationData)||void 0===n?void 0:n.continuation)||null}get contents(){return this.items}}qr.type="Grid";const Xr=qr;class Qr extends _{constructor(t){super(),this.id=t.channelId,this.author=new ub(Object.assign(Object.assign({},t.title),{navigationEndpoint:t.navigationEndpoint}),t.ownerBadges,t.thumbnail),this.subscribers=new $(t.subscriberCountText),this.video_count=new $(t.videoCountText),this.endpoint=new U(t.navigationEndpoint),this.subscribe_button=cb.parseItem(t.subscribeButton)}}Qr.type="GridChannel";const Jr=Qr;class Zr extends _{constructor(t){super(),this.title=new $(t.title)}}Zr.type="GridHeader";const ta=Zr;class ea extends _{constructor(t){var e,i;super(),this.id=t.playlistId,this.title=new $(t.title),this.author=(null===(e=t.shortBylineText)||void 0===e?void 0:e.simpleText)?new $(t.shortBylineText):(null===(i=t.longBylineText)||void 0===i?void 0:i.simpleText)?new $(t.longBylineText):null,this.thumbnails=j.fromResponse(t.thumbnail),this.video_count=new $(t.videoCountText),this.video_count_short=new $(t.videoCountShortText),this.endpoint=new U(t.navigationEndpoint),this.secondary_endpoint=new U(t.secondaryNavigationEndpoint),this.thumbnail_overlays=cb.parseArray(t.thumbnailOverlays)}}ea.type="GridMix";const ia=ea;class na extends _{constructor(t){var e;super();const i=null===(e=t.thumbnailOverlays.find((t=>t.hasOwnProperty("thumbnailOverlayTimeStatusRenderer"))))||void 0===e?void 0:e.thumbnailOverlayTimeStatusRenderer;this.id=t.videoId,this.title=new $(t.title),this.thumbnails=j.fromResponse(t.thumbnail),this.duration=t.lengthText?new $(t.lengthText):(null==i?void 0:i.text)?new $(i.text):null,this.endpoint=new U(t.navigationEndpoint),this.badges=cb.parseArray(t.badges,Dt),this.metadata=new $(t.metadata),this.thumbnail_overlays=cb.parseArray(t.thumbnailOverlays)}}na.type="GridMovie";const sa=na;class oa extends _{constructor(t){var e;super(),this.id=t.playlistId,this.title=new $(t.title),Reflect.has(t,"shortBylineText")&&(this.author=new ub(t.shortBylineText,t.ownerBadges)),this.badges=cb.parseArray(t.ownerBadges),this.endpoint=new U(t.navigationEndpoint),this.view_playlist=new $(t.viewPlaylistText),this.thumbnails=j.fromResponse(t.thumbnail),this.thumbnail_renderer=cb.parseItem(t.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...(null===(e=t.sidebarThumbnails)||void 0===e?void 0:e.map((t=>j.fromResponse(t))))||[])||null,this.video_count=new $(t.thumbnailText),this.video_count_short=new $(t.videoCountShortText)}}oa.type="GridPlaylist";const ra=oa;class aa extends _{constructor(t){super(),this.thumbnail=j.fromResponse(t.thumbnail)}}aa.type="ShowCustomThumbnail";const ca=aa;class la extends _{constructor(t){super(),Reflect.has(t,"text")&&(this.text=new $(t.text)),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType)}}la.type="ThumbnailOverlayBottomPanel";const ua=la;class ha extends _{constructor(t){super(),this.title=new $(t.title),this.thumbnail_renderer=zm(t.thumbnailRenderer,ca),this.endpoint=new U(t.navigationEndpoint),this.long_byline_text=new $(t.longBylineText),this.thumbnail_overlays=qm(t.thumbnailOverlays,ua),this.author=new ub(t.shortBylineText,void 0)}}ha.type="GridShow";const da=ha;class pa extends _{constructor(t){var e,i;super();const n=null===(e=t.thumbnailOverlays.find((t=>t.hasOwnProperty("thumbnailOverlayTimeStatusRenderer"))))||void 0===e?void 0:e.thumbnailOverlayTimeStatusRenderer;this.id=t.videoId,this.title=new $(t.title),this.thumbnails=j.fromResponse(t.thumbnail),this.thumbnail_overlays=cb.parseArray(t.thumbnailOverlays),this.rich_thumbnail=cb.parseItem(t.richThumbnail),this.published=new $(t.publishedTimeText),this.duration=t.lengthText?new $(t.lengthText):(null==n?void 0:n.text)?new $(n.text):null,this.author=t.shortBylineText&&new ub(t.shortBylineText,t.ownerBadges),this.views=new $(t.viewCountText),this.short_view_count=new $(t.shortViewCountText),this.endpoint=new U(t.navigationEndpoint),this.menu=cb.parseItem(t.menu,dt),Reflect.has(t,"buttons")&&(this.buttons=cb.parseArray(t.buttons)),Reflect.has(t,"upcomingEventData")&&(this.upcoming=new Date(Number(`${t.upcomingEventData.startTime}000`)),this.upcoming_text=new $(t.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(null===(i=t.upcomingEventData)||void 0===i?void 0:i.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}}pa.type="GridVideo";const fa=pa;class va extends _{constructor(t){super(),this.title=new $(t.formattedTitle),this.endpoint=new U(t.navigationEndpoint||t.serviceEndpoint),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"thumbnail")&&(this.thumbnails=j.fromResponse(t.thumbnail)),Reflect.has(t,"badges")&&(this.badges=t.badges),this.is_primary=!!t.isPrimary}}va.type="GuideEntry";const ma=va;class _a extends _{constructor(t){super(),this.expander_item=zm(t.expanderItem,ma),this.collapser_item=zm(t.collapserItem,ma),this.expandable_items=qm(t.expandableItems)}}_a.type="GuideCollapsibleEntry";const ga=_a;class ya extends _{constructor(t){super(),this.header_entry=zm(t.headerEntry),this.expander_icon=t.expanderIcon.iconType,this.collapser_icon=t.collapserIcon.iconType,this.section_items=qm(t.sectionItems)}}ya.type="GuideCollapsibleSectionEntry";const ba=ya;class wa extends ma{constructor(t){super(t.entryRenderer.guideEntryRenderer),this.always_show=!!t.alwaysShow}}wa.type="GuideDownloadsEntry";const xa=wa;class Sa extends _{constructor(t){super(),Reflect.has(t,"formattedTitle")&&(this.title=new $(t.formattedTitle)),this.items=qm(t.items)}}Sa.type="GuideSection";const Ta=Sa;class Ia extends Ta{}Ia.type="GuideSubscriptionsSection";const Ca=Ia;class ka extends _{constructor(t){super(),this.hashtag=new $(t.hashtag),this.hashtag_info=new $(t.hashtagInfoText)}}ka.type="HashtagHeader";const Ea=ka;class Ra extends _{constructor(t){super(),this.hashtag=new $(t.hashtag),this.hashtag_info_text=new $(t.hashtagInfoText),this.hashtag_thumbnail=j.fromResponse(t.hashtagThumbnail),this.endpoint=new U(t.onTapCommand),this.hashtag_background_color=t.hashtagBackgroundColor,this.hashtag_video_count=new $(t.hashtagVideoCount),this.hashtag_channel_count=new $(t.hashtagChannelCount)}}Ra.type="HashtagTile";const Aa=Ra;class Ma extends _{constructor(t){super(),this.thumbnails=j.fromResponse(t.thumbnail),this.on_tap_endpoint=new U(t.onTap)}}Ma.type="HeroPlaylistThumbnail";const Pa=Ma;class Oa extends _{constructor(t){super(),t.thumbnail&&(this.thumbnail={image:t.thumbnail.image.sources,endpoint:new U(t.thumbnail.onTap),on_long_press_endpoint:new U(t.thumbnail.onLongPress),content_mode:t.thumbnail.contentMode,crop_options:t.thumbnail.cropOptions}),this.background_image={image:t.backgroundImage.image.sources,gradient_image:t.backgroundImage.gradientImage.sources},this.strapline=t.strapline,this.title=t.title,this.description=t.description,this.cta={icon_name:t.cta.iconName,title:t.cta.title,endpoint:new U(t.cta.onTap),accessibility_text:t.cta.accessibilityText,state:t.cta.state},this.text_on_tap_endpoint=new U(t.textOnTap)}}Oa.type="Panel";class Da extends _{constructor(t){super(),this.panels=b(t.highlightsCarousel.panels.map((t=>new Oa(t))))}}Da.type="HighlightsCarousel";const Na=Da;class La extends _{constructor(t){super(),this.suggestion=new $(t.suggestion),this.endpoint=new U(t.navigationEndpoint),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"serviceEndpoint")&&(this.service_endpoint=new U(t.serviceEndpoint))}}La.type="SearchSuggestion";const Ba=La;class Va extends Ba{constructor(t){super(t)}}Va.type="HistorySuggestion";const Ua=Va;class ja extends _{constructor(t){super(),this.items=cb.parseArray(t.items),this.previous_button=cb.parseItem(t.previousButton,R),this.next_button=cb.parseItem(t.nextButton,R)}get contents(){return this.items}}ja.type="HorizontalMovieList";const Wa=ja;class Fa extends _{constructor(t){var e;super(),this.icon_type=null===(e=t.icon)||void 0===e?void 0:e.iconType,Reflect.has(t,"tooltip")&&(this.tooltip=new $(t.tooltip).toString()),this.endpoint=new U(t.navigationEndpoint)}}Fa.type="IconLink";const Ha=Fa;class $a extends _{constructor(t){super(),this.including_results_for=new $(t.includingResultsFor),this.corrected_query=new $(t.correctedQuery),this.corrected_query_endpoint=new U(t.correctedQueryEndpoint),this.search_only_for=Reflect.has(t,"searchOnlyFor")?new $(t.searchOnlyFor):void 0,this.original_query=Reflect.has(t,"originalQuery")?new $(t.originalQuery):void 0,this.original_query_endpoint=Reflect.has(t,"originalQueryEndpoint")?new U(t.originalQueryEndpoint):void 0}}$a.type="IncludingResultsFor";const Ga=$a;class Ya extends _{constructor(t){super(),this.title=new $(t.title),this.source=new $(t.source),this.paragraphs=t.paragraphs.map((t=>new $(t))),this.thumbnail=j.fromResponse(t.thumbnail),this.source_endpoint=new U(t.sourceEndpoint),this.truncate_paragraphs=!!t.truncateParagraphs,this.background=t.background,Reflect.has(t,"inlineLinkIcon")&&Reflect.has(t.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=t.inlineLinkIcon.iconType)}}Ya.type="InfoPanelContent";const Ka=Ya;class za extends _{constructor(t){var e;super(),this.title=new $(t.title),this.menu=cb.parseItem(t.menu,dt),this.content=cb.parseItem(t.content,Ka),this.background=t.background,Reflect.has(t,"icon")&&(this.icon_type=null===(e=t.icon)||void 0===e?void 0:e.iconType)}}za.type="InfoPanelContainer";const qa=za;class Xa extends _{constructor(t){super(),this.header_type=t.type,this.title=new $(t.title),this.description=new $(t.description),this.metadata=new $(t.metadata),this.badges=cb.parseArray(t.badges,Dt),this.box_art=j.fromResponse(t.boxArt),this.banner=j.fromResponse(t.banner),this.buttons=cb.parseArray(t.buttons,[Ui,R]),this.auto_generated=new $(t.autoGenerated)}}Xa.type="InteractiveTabbedHeader";const Qa=Xa;class Ja extends _{constructor(t){super(),this.title=new $(t.title)}}Ja.type="ItemSectionHeader";const Za=Ja;class tc extends _{constructor(t){super(),this.title=new $(t.title),this.selected=!!t.selected,this.endpoint=new U(t.endpoint)}}tc.type="Tab";const ec=tc;class ic extends _{constructor(t){super(),this.title=new $(t.title),this.tabs=cb.parseArray(t.tabs,ec),Reflect.has(t,"endItems")&&(this.end_items=cb.parseArray(t.endItems))}}ic.type="ItemSectionTabbedHeader";const nc=ic;class sc extends _{constructor(t){var e,i,n;super(),this.header=cb.parseItem(t.header,[wo,Za,nc]),this.contents=cb.parseArray(t.contents),(t.targetId||t.sectionIdentifier)&&(this.target_id=t.target_id||t.sectionIdentifier),t.continuations&&(this.continuation=null===(n=null===(i=null===(e=t.continuations)||void 0===e?void 0:e.at(0))||void 0===i?void 0:i.nextContinuationData)||void 0===n?void 0:n.continuation)}}sc.type="ItemSection";const oc=sc;class rc extends _{constructor(t){super(),this.target={video_id:t.target.videoId},this.like_status=t.likeStatus,this.likes_allowed=t.likesAllowed,Reflect.has(t,"serviceEndpoints")&&(this.endpoints=t.serviceEndpoints.map((t=>new U(t))))}}rc.type="LikeButton";const ac=rc;class cc extends _{constructor(t){var e,i;super(),this.header=cb.parseItem(t.header),this.initial_display_state=t.initialDisplayState,this.continuation=null===(i=null===(e=t.continuations[0])||void 0===e?void 0:e.reloadContinuationData)||void 0===i?void 0:i.continuation,this.client_messages={reconnect_message:new $(t.clientMessages.reconnectMessage),unable_to_reconnect_message:new $(t.clientMessages.unableToReconnectMessage),fatal_error:new $(t.clientMessages.fatalError),reconnected_message:new $(t.clientMessages.reconnectedMessage),generic_error:new $(t.clientMessages.genericError)},this.is_replay=!!t.isReplay}}cc.type="LiveChat";const lc=cc;class uc extends _{constructor(t){super(),this.text=new $(t.text),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),this.context_menu_button=cb.parseItem(t.contextMenuButton,R)}}uc.type="LiveChatBannerHeader";const hc=uc;class dc extends _{constructor(t){super(),this.header=cb.parseItem(t.header,hc),this.contents=cb.parseItem(t.contents),this.action_id=t.actionId,this.viewer_is_creator=t.viewerIsCreator,this.target_id=t.targetId,this.is_stackable=t.isStackable,this.background_type=t.backgroundType}}dc.type="LiveChatBanner";const pc=dc;class fc extends _{constructor(t){super(),this.banner=cb.parseItem(t.bannerRenderer,pc)}}fc.type="AddBannerToLiveChatCommand";const vc=fc;class mc extends _{constructor(t){super(),this.item=cb.parseItem(t.item),Reflect.has(t,"clientId")&&(this.client_id=t.clientId)}}mc.type="AddChatItemAction";const _c=mc;class gc extends _{constructor(t){super(),this.item=cb.parseItem(t.item),this.duration_sec=t.durationSec}}gc.type="AddLiveChatTickerItemAction";const yc=gc;class bc extends _{constructor(t){super(),this.client_assigned_id=t.clientAssignedId}}bc.type="DimChatItemAction";const wc=bc;class xc extends _{constructor(t){super(),this.menu_endpoint=new U(t.contextMenuEndpoint),this.moderation_buttons=cb.parseArray(t.moderationButtons,R),this.auto_moderated_item=cb.parseItem(t.autoModeratedItem),this.header_text=new $(t.headerText),this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.id=t.id}}xc.type="LiveChatAutoModMessage";const Sc=xc;class Tc extends _{constructor(t){super(),this.poll_question=new $(t.pollQuestion),this.author_photo=j.fromResponse(t.authorPhoto),this.choices=t.pollChoices.map((t=>({option_id:t.pollOptionId,text:new $(t.text).toString()}))),this.collapsed_state_entity_key=t.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=t.liveChatPollStateEntityKey,this.context_menu_button=cb.parseItem(t.contextMenuButton,R)}}Tc.type="LiveChatBannerPoll";const Ic=Tc;class Cc extends _{constructor(t){super(),this.id=t.id,this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.header_subtext=new $(t.headerSubtext),this.author=new ub(t.authorName,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),this.menu_endpoint=new U(t.contextMenuEndpoint)}}Cc.type="LiveChatMembershipItem";const kc=Cc;class Ec extends _{constructor(t){super(),this.message=new $(t.message),this.author=new ub(t.authorName,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),this.header_background_color=t.headerBackgroundColor,this.header_text_color=t.headerTextColor,this.body_background_color=t.bodyBackgroundColor,this.body_text_color=t.bodyTextColor,this.purchase_amount=new $(t.purchaseAmountText).toString(),this.menu_endpoint=new U(t.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.timestamp_text=new $(t.timestampText).toString(),this.id=t.id}}Ec.type="LiveChatPaidMessage";const Rc=Ec;class Ac extends _{constructor(t){super(),this.id=t.id,this.author=new ub(t.authorName,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),this.money_chip_background_color=t.moneyChipBackgroundColor,this.money_chip_text_color=t.moneyChipTextColor,this.background_color=t.backgroundColor,this.author_name_text_color=t.authorNameTextColor,this.sticker=j.fromResponse(t.sticker),this.purchase_amount=new $(t.purchaseAmountText).toString(),this.menu_endpoint=new U(t.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3)}}Ac.type="LiveChatPaidSticker";const Mc=Ac;class Pc extends _{constructor(t){super(),this.id=t.id,this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3)}}Pc.type="LiveChatPlaceholderItem";const Oc=Pc;class Dc extends _{constructor(t){super(),this.title=t.title,this.accessibility_title=t.accessibilityTitle,this.thumbnail=j.fromResponse(t.thumbnail),this.price=t.price,this.vendor_name=t.vendorName,this.from_vendor_text=t.fromVendorText,this.information_button=cb.parseItem(t.informationButton),this.endpoint=new U(t.onClickCommand),this.creator_message=t.creatorMessage,this.creator_name=t.creatorName,this.author_photo=j.fromResponse(t.authorPhoto),this.information_dialog=cb.parseItem(t.informationDialog),this.is_verified=t.isVerified,this.creator_custom_message=new $(t.creatorCustomMessage)}}Dc.type="LiveChatProductItem";const Nc=Dc;class Lc extends _{constructor(t){super(),this.message=new $(t.message),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType)}}Lc.type="LiveChatRestrictedParticipation";const Bc=Lc;class Vc extends _{constructor(t){super(),this.message=new $(t.message),this.inline_action_buttons=cb.parseArray(t.inlineActionButtons,R),this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.id=t.id}}Vc.type="LiveChatMessageBase";class Uc extends Vc{constructor(t){super(t),this.author=new ub(t.authorName,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),this.menu_endpoint=new U(t.contextMenuEndpoint)}}Uc.type="LiveChatTextMessage";const jc=Uc;class Wc extends _{constructor(t){var e,i;super(),this.author=new ub(t.authorName,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),this.amount=new $(t.amount),this.duration_sec=t.durationSec,this.full_duration_sec=t.fullDurationSec,this.show_item=cb.parseItem(null===(i=null===(e=t.showItemEndpoint)||void 0===e?void 0:e.showLiveChatItemEndpoint)||void 0===i?void 0:i.renderer),this.show_item_endpoint=new U(t.showItemEndpoint),this.id=t.id}}Wc.type="LiveChatTickerPaidMessageItem";const Fc=Wc;class Hc extends Fc{}Hc.type="LiveChatTickerPaidStickerItem";const $c=Hc;class Gc extends _{constructor(t){super(),this.id=t.id,this.detail=new $(t.detailText),this.author=new ub(t.authorName,t.authorBadges,t.sponsorPhoto,t.authorExternalChannelId),this.duration_sec=t.durationSec}}Gc.type="LiveChatTickerSponsorItem";const Yc=Gc;class Kc extends Vc{constructor(t){super(t),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),this.action_button=cb.parseItem(t.actionButton)}}Kc.type="LiveChatViewerEngagementMessage";const zc=Kc;class qc extends _{constructor(t){super(),this.poll_question=new $(t.pollQuestion),this.thumbnails=j.fromResponse(t.thumbnail),this.metadata=new $(t.metadataText),this.live_chat_poll_type=t.liveChatPollType,this.context_menu_button=cb.parseItem(t.contextMenuButton,R)}}qc.type="PollHeader";const Xc=qc;class Qc extends _{constructor(t){super(),this.id=t.id,this.contents=cb.parse(t.contents),this.target_id=t.targetId}}Qc.type="LiveChatActionPanel";const Jc=Qc;class Zc extends _{constructor(t){super(),this.deleted_state_message=new $(t.deletedStateMessage),this.target_item_id=t.targetItemId}}Zc.type="MarkChatItemAsDeletedAction";const tl=Zc;class el extends _{constructor(t){super(),this.deleted_state_message=new $(t.deletedStateMessage),this.external_channel_id=t.externalChannelId}}el.type="MarkChatItemsByAuthorAsDeletedAction";const il=el;class nl extends _{constructor(t){super(),this.target_action_id=t.targetActionId}}nl.type="RemoveBannerForLiveChatCommand";const sl=nl;class ol extends _{constructor(t){super(),this.target_item_id=t.targetItemId}}ol.type="RemoveChatItemAction";const rl=ol;class al extends _{constructor(t){super(),this.external_channel_id=t.externalChannelId}}al.type="RemoveChatItemByAuthorAction";const cl=al;class ll extends _{constructor(t){super(),this.target_item_id=t.targetItemId,this.replacement_item=cb.parseItem(t.replacementItem)}}ll.type="ReplaceChatItemAction";const ul=ll;class hl extends _{constructor(t){var e;super(),this.actions=cb.parseArray(null===(e=t.actions)||void 0===e?void 0:e.map((t=>(delete t.clickTrackingParams,t)))),this.video_offset_time_msec=t.videoOffsetTimeMsec}}hl.type="ReplayChatItemAction";const dl=hl;class pl extends _{constructor(t){super(),this.panel_to_show=cb.parseItem(t.panelToShow,Jc)}}pl.type="ShowLiveChatActionPanelAction";const fl=pl;class vl extends _{constructor(t){super(),this.dialog=cb.parseItem(t.dialog)}}vl.type="ShowLiveChatDialogAction";const ml=vl;class _l extends _{constructor(t){super(),this.tooltip=cb.parseItem(t.tooltip)}}_l.type="ShowLiveChatTooltipCommand";const gl=_l;class yl extends _{constructor(t){super(),this.date_text=new $(t.dateText).toString()}}yl.type="UpdateDateTextAction";const bl=yl;class wl extends _{constructor(t){super(),this.description=new $(t.description)}}wl.type="UpdateDescriptionAction";const xl=wl;class Sl extends _{constructor(t){super(),this.poll_to_update=cb.parseItem(t.pollToUpdate)}}Sl.type="UpdateLiveChatPollAction";const Tl=Sl;class Il extends _{constructor(t){super(),this.title=new $(t.title)}}Il.type="UpdateTitleAction";const Cl=Il;class kl extends _{constructor(t){super(),this.default_text=new $(t.defaultText).toString(),this.toggled_text=new $(t.toggledText).toString(),this.button_id=t.buttonId}}kl.type="UpdateToggleButtonTextAction";const El=kl;class Rl extends _{constructor(t){super();const e=t.viewCount.videoViewCountRenderer;this.view_count=new $(e.viewCount),this.extra_short_view_count=new $(e.extraShortViewCount),this.is_live=e.isLive}}Rl.type="UpdateViewershipAction";const Al=Rl;class Ml extends Dt{constructor(t){super(t),this.custom_thumbnail=j.fromResponse(t.customThumbnail)}}Ml.type="LiveChatAuthorBadge";const Pl=Ml;class Ol extends _{constructor(t){super(),this.confirm_button=cb.parseItem(t.confirmButton,R),this.dialog_messages=t.dialogMessages.map((t=>new $(t)))}}Ol.type="LiveChatDialog";const Dl=Ol;class Nl extends _{constructor(t){super(),this.overflow_menu=cb.parseItem(t.overflowMenu,dt),this.collapse_button=cb.parseItem(t.collapseButton,R),this.view_selector=cb.parseItem(t.viewSelector,De)}}Nl.type="LiveChatHeader";const Ll=Nl;class Bl extends _{constructor(t){super(),this.max_items_to_display=t.maxItemsToDisplay,this.more_comments_below_button=cb.parseItem(t.moreCommentsBelowButton,R)}}Bl.type="LiveChatItemList";const Vl=Bl;class Ul extends _{constructor(t){super(),this.author_name=new $(t.authorName),this.author_photo=j.fromResponse(t.authorPhoto),this.send_button=cb.parseItem(t.sendButton,R),this.target_id=t.targetId}}Ul.type="LiveChatMessageInput";const jl=Ul;class Wl extends _{constructor(t){super(),this.name=new $(t.authorName),this.photo=j.fromResponse(t.authorPhoto),this.badges=cb.parseArray(t.authorBadges)}}Wl.type="LiveChatParticipant";const Fl=Wl;class Hl extends _{constructor(t){super(),this.title=new $(t.title),this.participants=cb.parseArray(t.participants,Fl)}}Hl.type="LiveChatParticipantsList";const $l=Hl;class Gl extends R{constructor(t){super(t)}}Gl.type="MenuNavigationItem";const Yl=Gl;class Kl extends R{constructor(t){super(t)}}Kl.type="MenuServiceItem";const zl=Kl;class ql extends _{constructor(t){super(),this.items=cb.parseArray(t.items,[Yl,zl])}}ql.type="MenuPopup";const Xl=ql;class Ql extends _{constructor(t){super(),this.has_separator=!!t.hasSeparator,this.endpoint=new U(t.navigationEndpoint||t.serviceEndpoint)}}Ql.type="MenuServiceItemDownload";const Jl=Ql;class Zl extends _{constructor(t){super(),this.header=cb.parse(t.header),this.sections=cb.parse(t.sections),this.style=t.style}}Zl.type="MultiPageMenu";const tu=Zl;class eu extends _{constructor(t){super(),this.items=cb.parse(t.items)}get contents(){return this.items}}eu.type="MultiPageMenuNotificationSection";const iu=eu;class nu extends _{constructor(t){super()}}nu.type="MusicMenuItemDivider";const su=nu;class ou extends _{constructor(t){var e;super(),Reflect.has(t,"title")&&Reflect.has(t.title,"musicMenuTitleRenderer")&&(this.title=new $(null===(e=t.title.musicMenuTitleRenderer)||void 0===e?void 0:e.primaryText)),this.options=cb.parseArray(t.options,[ge,su])}}ou.type="MusicMultiSelectMenu";const ru=ou;class au extends _{constructor(t){super(),this.title=new $(t.title),this.buttons=cb.parse(t.buttons)}}au.type="SimpleMenuHeader";const cu=au;class lu extends _{constructor(t){super(),this.title=t.title,this.description=t.description,this.thumbnails=j.fromResponse(t.thumbnail),this.price=t.price,this.vendor_name=t.vendorName,this.button_text=t.buttonText,this.button_accessibility_text=t.buttonAccessibilityText,this.from_vendor_text=t.fromVendorText,this.additional_fees_text=t.additionalFeesText,this.region_format=t.regionFormat,this.endpoint=new U(t.buttonCommand)}}lu.type="MerchandiseItem";const uu=lu;class hu extends _{constructor(t){super(),this.title=t.title,this.menu=cb.parseItem(t.actionButton),this.items=cb.parseArray(t.items)}get contents(){return this.items}}hu.type="MerchandiseShelf";const du=hu;class pu extends _{constructor(t){super(),this.title=new $(t.title),this.contents=t.contents.map((t=>new $(t)))}}pu.type="MetadataRow";const fu=pu;class vu extends _{constructor(t){super(),this.rows=cb.parseArray(t.rows),this.collapsed_item_count=t.collapsedItemCount}}vu.type="MetadataRowContainer";const mu=vu;class _u extends _{constructor(t){super(),this.content=new $(t.content),this.has_divider_line=t.hasDividerLine}}_u.type="MetadataRowHeader";const gu=_u;class yu extends _{constructor(t){super(),this.section_list=cb.parseItem(t)}}yu.type="MetadataScreen";const bu=yu;class wu extends _{constructor(t){super(),this.url_canonical=t.urlCanonical,this.title=t.title,this.description=t.description,this.thumbnail=j.fromResponse(t.thumbnail),this.site_name=t.siteName,this.app_name=t.appName,this.android_package=t.androidPackage,this.ios_app_store_id=t.iosAppStoreId,this.ios_app_arguments=t.iosAppArguments,this.og_type=t.ogType,this.url_applinks_web=t.urlApplinksWeb,this.url_applinks_ios=t.urlApplinksIos,this.url_applinks_android=t.urlApplinksAndroid,this.url_twitter_ios=t.urlTwitterIos,this.url_twitter_android=t.urlTwitterAndroid,this.twitter_card_type=t.twitterCardType,this.twitter_site_handle=t.twitterSiteHandle,this.schema_dot_org_type=t.schemaDotOrgType,this.noindex=t.noindex,this.is_unlisted=t.unlisted,this.is_family_safe=t.familySafe,this.tags=t.tags,this.available_countries=t.availableCountries}}wu.type="MicroformatData";const xu=wu;class Su extends Bo{constructor(t){super(t)}}Su.type="Mix";const Tu=Su;class Iu extends _{constructor(t){var e,i,n;super();const s=(null===(e=t.thumbnailOverlays.find((t=>t.thumbnailOverlayTimeStatusRenderer)))||void 0===e?void 0:e.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=t.videoId,this.title=new $(t.title),Reflect.has(t,"descriptionSnippet")&&(this.description_snippet=new $(t.descriptionSnippet)),this.top_metadata_items=new $(t.topMetadataItems),this.thumbnails=j.fromResponse(t.thumbnail),this.thumbnail_overlays=cb.parseArray(t.thumbnailOverlays),this.author=new ub(t.longBylineText,t.ownerBadges,null===(n=null===(i=t.channelThumbnailSupportedRenderers)||void 0===i?void 0:i.channelThumbnailWithLinkRenderer)||void 0===n?void 0:n.thumbnail),this.duration={text:t.lengthText?new $(t.lengthText).toString():new $(s).toString(),seconds:kb(t.lengthText?new $(t.lengthText).toString():new $(s).toString())},this.endpoint=new U(t.navigationEndpoint),this.badges=cb.parseArray(t.badges),this.use_vertical_poster=t.useVerticalPoster,this.show_action_menu=t.showActionMenu,this.menu=cb.parseItem(t.menu,dt)}}Iu.type="Movie";const Cu=Iu;class ku extends _{constructor(t){var e;return super(),null===(e=t.movingThumbnailDetails)||void 0===e?void 0:e.thumbnails.map((t=>new j(t))).sort(((t,e)=>e.width-t.width))}}ku.type="MovingThumbnail";const Eu=ku;class Ru extends _{constructor(t){super(),this.title=new $(t.title)}}Ru.type="MusicCardShelfHeaderBasic";const Au=Ru;class Mu extends _{constructor(t){super(),this.icon_type=t.icon.iconType,this.label=t.accessibilityData.accessibilityData.label}}Mu.type="MusicInlineBadge";const Pu=Mu;class Ou extends _{constructor(t){var e,i;super(),this.endpoint=new U(t.playNavigationEndpoint),this.play_icon_type=t.playIcon.iconType,this.pause_icon_type=t.pauseIcon.iconType,Reflect.has(t,"accessibilityPlayData")&&(this.play_label=null===(e=t.accessibilityPlayData.accessibilityData)||void 0===e?void 0:e.label),Reflect.has(t,"accessibilityPauseData")&&(this.pause_label=null===(i=t.accessibilityPauseData.accessibilityData)||void 0===i?void 0:i.label),this.icon_color=t.iconColor}}Ou.type="MusicPlayButton";const Du=Ou;class Nu extends _{constructor(t){super(),this.content=cb.parseItem(t.content,Du),this.content_position=t.contentPosition,this.display_style=t.displayStyle}}Nu.type="MusicItemThumbnailOverlay";const Lu=Nu;class Bu extends _{constructor(t){super(),this.contents=j.fromResponse(t.thumbnail)}}Bu.type="MusicThumbnail";const Vu=Bu;class Uu extends _{constructor(t){super(),this.thumbnail=cb.parseItem(t.thumbnail,Vu),this.title=new $(t.title),this.subtitle=new $(t.subtitle),this.buttons=cb.parseArray(t.buttons,R),this.menu=cb.parseItem(t.menu,dt),this.on_tap=new U(t.onTap),this.header=cb.parseItem(t.header,Au),Reflect.has(t,"endIcon")&&Reflect.has(t.endIcon,"iconType")&&(this.end_icon_type=t.endIcon.iconType),this.subtitle_badges=cb.parseArray(t.subtitleBadges,Pu),this.thumbnail_overlay=cb.parseItem(t.thumbnailOverlay,Lu),Reflect.has(t,"contents")&&(this.contents=cb.parseArray(t.contents))}}Uu.type="MusicCardShelf";const ju=Uu;class Wu extends _{constructor(t){super(),this.title=new $(t.title),Reflect.has(t,"strapline")&&(this.strapline=new $(t.strapline)),Reflect.has(t,"thumbnail")&&(this.thumbnail=cb.parseItem(t.thumbnail,Vu)),Reflect.has(t,"moreContentButton")&&(this.more_content=cb.parseItem(t.moreContentButton,R)),Reflect.has(t,"endIcons")&&(this.end_icons=cb.parseArray(t.endIcons,Ha))}}Wu.type="MusicCarouselShelfBasicHeader";const Fu=Wu;class Hu extends _{constructor(t){super(),this.thumbnail=zm(t.thumbnail,Vu),this.overlay=zm(t.overlay,Lu),this.on_tap=new U(t.onTap),this.menu=zm(t.menu,dt),this.subtitle=new $(t.subtitle),this.title=new $(t.title),Reflect.has(t,"secondTitle")&&(this.second_title=new $(t.secondTitle)),Reflect.has(t,"description")&&(this.description=new $(t.description)),Reflect.has(t,"displayStyle")&&(this.display_style=t.displayStyle)}}Hu.type="MusicMultiRowListItem";const $u=Hu;class Gu extends _{constructor(t){super(),this.button_text=new $(t.buttonText).toString(),this.endpoint=new U(t.clickCommand)}}Gu.type="MusicNavigationButton";const Yu=Gu;class Ku extends _{constructor(t){super(),this.title=new $(t.text),this.display_priority=t.displayPriority}}Ku.type="musicResponsiveListItemFlexColumnRenderer";const zu=Ku;class qu extends _{constructor(t){super(),this.title=new $(t.text),this.display_priority=t.displayPriority}}qu.type="MusicResponsiveListItemFlexColumn";const Xu=qu;var Qu,Ju,Zu,th,eh,ih,nh,sh,oh,rh,ah;class ch extends _{constructor(t){var e,i,n,s,o,r;super(),Qu.add(this),Ju.set(this,void 0),this.flex_columns=cb.parseArray(t.flexColumns,Xu),this.fixed_columns=cb.parseArray(t.fixedColumns,zu),v(this,Ju,{video_id:(null===(e=null==t?void 0:t.playlistItemData)||void 0===e?void 0:e.videoId)||null,playlist_set_video_id:(null===(i=null==t?void 0:t.playlistItemData)||void 0===i?void 0:i.playlistSetVideoId)||null},"f"),Reflect.has(t,"navigationEndpoint")&&(this.endpoint=new U(t.navigationEndpoint));let a=null===(r=null===(o=null===(s=null===(n=this.endpoint)||void 0===n?void 0:n.payload)||void 0===s?void 0:s.browseEndpointContextSupportedConfigs)||void 0===o?void 0:o.browseEndpointContextMusicConfig)||void 0===r?void 0:r.pageType;if(!a){const t=this.flex_columns.find((t=>{var e,i,n,s;return"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"===(null===(s=null===(n=null===(i=null===(e=t.title.endpoint)||void 0===e?void 0:e.payload)||void 0===i?void 0:i.browseEndpointContextSupportedConfigs)||void 0===n?void 0:n.browseEndpointContextMusicConfig)||void 0===s?void 0:s.pageType)}));t&&(a="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE")}switch(a){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",f(this,Qu,"m",rh).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",f(this,Qu,"m",ah).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",f(this,Qu,"m",nh).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",f(this,Qu,"m",sh).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",f(this,Qu,"m",oh).call(this);break;default:this.flex_columns[1]?f(this,Qu,"m",th).call(this):f(this,Qu,"m",Zu).call(this)}Reflect.has(t,"index")&&(this.index=new $(t.index)),Reflect.has(t,"thumbnail")&&(this.thumbnail=cb.parseItem(t.thumbnail,Vu)),Reflect.has(t,"badges")&&(this.badges=cb.parseArray(t.badges)),Reflect.has(t,"menu")&&(this.menu=cb.parseItem(t.menu,dt)),Reflect.has(t,"overlay")&&(this.overlay=cb.parseItem(t.overlay,Lu))}get thumbnails(){var t;return(null===(t=this.thumbnail)||void 0===t?void 0:t.contents)||[]}}Ju=new WeakMap,Qu=new WeakSet,Zu=function(){this.title=this.flex_columns.first().title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},th=function(){var t,e;(null===(e=null===(t=this.flex_columns.at(1))||void 0===t?void 0:t.title.runs)||void 0===e?void 0:e.some((t=>t.text.match(/(.*?) views/))))?(this.item_type="video",f(this,Qu,"m",ih).call(this)):(this.item_type="song",f(this,Qu,"m",eh).call(this))},eh=function(){var t,e,i,n,s,o,r,a,c,l,u,h,d,p,v;this.id=f(this,Ju,"f").video_id||(null===(e=null===(t=this.endpoint)||void 0===t?void 0:t.payload)||void 0===e?void 0:e.videoId),this.title=this.flex_columns.first().title.toString();const m=(null===(s=null===(n=null===(i=this.flex_columns.at(1))||void 0===i?void 0:i.title.runs)||void 0===n?void 0:n.find((t=>/^\d+$/.test(t.text.replace(/:/g,"")))))||void 0===s?void 0:s.text)||(null===(r=null===(o=this.fixed_columns.first())||void 0===o?void 0:o.title)||void 0===r?void 0:r.toString());m&&(this.duration={text:m,seconds:kb(m)});const _=(null===(c=null===(a=this.flex_columns.at(1))||void 0===a?void 0:a.title.runs)||void 0===c?void 0:c.find((t=>Ab(t)&&t.endpoint&&t.endpoint.payload.browseId.startsWith("MPR"))))||(null===(u=null===(l=this.flex_columns.at(2))||void 0===l?void 0:l.title.runs)||void 0===u?void 0:u.find((t=>Ab(t)&&t.endpoint&&t.endpoint.payload.browseId.startsWith("MPR"))));_&&Ab(_)&&(this.album={id:null===(d=null===(h=_.endpoint)||void 0===h?void 0:h.payload)||void 0===d?void 0:d.browseId,name:_.text,endpoint:_.endpoint});const g=null===(v=null===(p=this.flex_columns.at(1))||void 0===p?void 0:p.title.runs)||void 0===v?void 0:v.filter((t=>Ab(t)&&t.endpoint&&t.endpoint.payload.browseId.startsWith("UC")));g&&(this.artists=g.map((t=>{var e,i;return{name:t.text,channel_id:Ab(t)?null===(i=null===(e=t.endpoint)||void 0===e?void 0:e.payload)||void 0===i?void 0:i.browseId:void 0,endpoint:Ab(t)?t.endpoint:void 0}})))},ih=function(){var t,e,i,n,s,o,r,a,c,l;this.id=f(this,Ju,"f").video_id,this.title=this.flex_columns.first().title.toString(),this.views=null===(i=null===(e=null===(t=this.flex_columns.at(1))||void 0===t?void 0:t.title.runs)||void 0===e?void 0:e.find((t=>t.text.match(/(.*?) views/))))||void 0===i?void 0:i.toString();const u=null===(s=null===(n=this.flex_columns.at(1))||void 0===n?void 0:n.title.runs)||void 0===s?void 0:s.filter((t=>Ab(t)&&t.endpoint&&t.endpoint.payload.browseId.startsWith("UC")));u&&(this.authors=u.map((t=>{var e,i;return{name:t.text,channel_id:Ab(t)?null===(i=null===(e=t.endpoint)||void 0===e?void 0:e.payload)||void 0===i?void 0:i.browseId:void 0,endpoint:Ab(t)?t.endpoint:void 0}})));const h=(null===(r=null===(o=this.flex_columns[1].title.runs)||void 0===o?void 0:o.find((t=>/^\d+$/.test(t.text.replace(/:/g,"")))))||void 0===r?void 0:r.text)||(null===(l=null===(c=null===(a=this.fixed_columns.first())||void 0===a?void 0:a.title.runs)||void 0===c?void 0:c.find((t=>/^\d+$/.test(t.text.replace(/:/g,"")))))||void 0===l?void 0:l.text);h&&(this.duration={text:h,seconds:kb(h)})},nh=function(){var t,e,i,n,s,o;this.id=null===(e=null===(t=this.endpoint)||void 0===t?void 0:t.payload)||void 0===e?void 0:e.browseId,this.name=this.flex_columns.first().title.toString(),this.subtitle=null===(i=this.flex_columns.at(1))||void 0===i?void 0:i.title,this.subscribers=(null===(o=null===(s=null===(n=this.subtitle)||void 0===n?void 0:n.runs)||void 0===s?void 0:s.find((t=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(t.text))))||void 0===o?void 0:o.text)||""},sh=function(){var t,e,i,n;this.name=this.flex_columns.first().title.toString(),this.subtitle=null===(t=this.flex_columns.at(1))||void 0===t?void 0:t.title,this.song_count=(null===(n=null===(i=null===(e=this.subtitle)||void 0===e?void 0:e.runs)||void 0===i?void 0:i.find((t=>/^\d+(,\d+)? songs?$/i.test(t.text))))||void 0===n?void 0:n.text)||""},oh=function(){var t,e;this.id=f(this,Ju,"f").video_id||(null===(e=null===(t=this.endpoint)||void 0===t?void 0:t.payload)||void 0===e?void 0:e.videoId),this.title=this.flex_columns.first().title.toString()},rh=function(){var t,e,i,n,s,o,r,a,c;this.id=null===(e=null===(t=this.endpoint)||void 0===t?void 0:t.payload)||void 0===e?void 0:e.browseId,this.title=this.flex_columns.first().title.toString();const l=null===(n=null===(i=this.flex_columns.at(1))||void 0===i?void 0:i.title.runs)||void 0===n?void 0:n.find((t=>Ab(t)&&t.endpoint&&t.endpoint.payload.browseId.startsWith("UC")));l&&Ab(l)&&(this.author={name:l.text,channel_id:null===(o=null===(s=l.endpoint)||void 0===s?void 0:s.payload)||void 0===o?void 0:o.browseId,endpoint:l.endpoint}),this.year=null===(c=null===(a=null===(r=this.flex_columns.at(1))||void 0===r?void 0:r.title.runs)||void 0===a?void 0:a.find((t=>/^[12][0-9]{3}$/.test(t.text))))||void 0===c?void 0:c.text},ah=function(){var t,e,i,n,s,o,r,a;this.id=null===(e=null===(t=this.endpoint)||void 0===t?void 0:t.payload)||void 0===e?void 0:e.browseId,this.title=this.flex_columns.first().title.toString();const c=null===(n=null===(i=this.flex_columns.at(1))||void 0===i?void 0:i.title.runs)||void 0===n?void 0:n.find((t=>t.text.match(/\d+ (song|songs)/)));this.item_count=c?c.text:void 0;const l=null===(o=null===(s=this.flex_columns.at(1))||void 0===s?void 0:s.title.runs)||void 0===o?void 0:o.find((t=>Ab(t)&&t.endpoint&&t.endpoint.payload.browseId.startsWith("UC")));l&&Ab(l)&&(this.author={name:l.text,channel_id:null===(a=null===(r=l.endpoint)||void 0===r?void 0:r.payload)||void 0===a?void 0:a.browseId,endpoint:l.endpoint})},ch.type="MusicResponsiveListItem";const lh=ch;class uh extends _{constructor(t){var e,i,n,s,o,r,a,c,l,u,h,d,p,f,v,m,_,g,y,b,w,x;switch(super(),this.title=new $(t.title),this.endpoint=new U(t.navigationEndpoint),this.id=(null===(i=null===(e=this.endpoint)||void 0===e?void 0:e.payload)||void 0===i?void 0:i.browseId)||(null===(s=null===(n=this.endpoint)||void 0===n?void 0:n.payload)||void 0===s?void 0:s.videoId),this.subtitle=new $(t.subtitle),this.badges=cb.parse(t.subtitleBadges),null===(c=null===(a=null===(r=null===(o=this.endpoint)||void 0===o?void 0:o.payload)||void 0===r?void 0:r.browseEndpointContextSupportedConfigs)||void 0===a?void 0:a.browseEndpointContextMusicConfig)||void 0===c?void 0:c.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:"/next"===(null===(u=null===(l=this.endpoint)||void 0===l?void 0:l.metadata)||void 0===u?void 0:u.api_url)?this.item_type="endpoint":(null===(h=this.subtitle.runs)||void 0===h?void 0:h[0])?"Song"!==this.subtitle.runs[0].text?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown"}if("artist"==this.item_type)this.subscribers=(null===(p=null===(d=this.subtitle.runs)||void 0===d?void 0:d.find((t=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(t.text))))||void 0===p?void 0:p.text)||"";else if("playlist"==this.item_type){const t=null===(f=this.subtitle.runs)||void 0===f?void 0:f.find((t=>t.text.match(/\d+ songs|song/)));this.item_count=t?t.text:null}else if("album"==this.item_type){const t=null===(v=this.subtitle.runs)||void 0===v?void 0:v.filter((t=>{var e,i;return null===(i=null===(e=t.endpoint)||void 0===e?void 0:e.payload)||void 0===i?void 0:i.browseId.startsWith("UC")}));t&&(this.artists=t.map((t=>{var e,i;return{name:t.text,channel_id:null===(i=null===(e=t.endpoint)||void 0===e?void 0:e.payload)||void 0===i?void 0:i.browseId,endpoint:t.endpoint}}))),this.year=null===(m=this.subtitle.runs)||void 0===m?void 0:m.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if("video"==this.item_type){this.views=(null===(g=null===(_=null==this?void 0:this.subtitle.runs)||void 0===_?void 0:_.find((t=>null==t?void 0:t.text.match(/(.*?) views/))))||void 0===g?void 0:g.text)||"N/A";const t=null===(y=this.subtitle.runs)||void 0===y?void 0:y.find((t=>{var e,i,n;return null===(n=null===(i=null===(e=t.endpoint)||void 0===e?void 0:e.payload)||void 0===i?void 0:i.browseId)||void 0===n?void 0:n.startsWith("UC")}));t&&(this.author={name:null==t?void 0:t.text,channel_id:null===(w=null===(b=null==t?void 0:t.endpoint)||void 0===b?void 0:b.payload)||void 0===w?void 0:w.browseId,endpoint:null==t?void 0:t.endpoint})}else if("song"==this.item_type){const t=null===(x=this.subtitle.runs)||void 0===x?void 0:x.filter((t=>{var e,i;return null===(i=null===(e=t.endpoint)||void 0===e?void 0:e.payload)||void 0===i?void 0:i.browseId.startsWith("UC")}));t&&(this.artists=t.map((t=>{var e,i;return{name:null==t?void 0:t.text,channel_id:null===(i=null===(e=null==t?void 0:t.endpoint)||void 0===e?void 0:e.payload)||void 0===i?void 0:i.browseId,endpoint:null==t?void 0:t.endpoint}})))}this.thumbnail=j.fromResponse(t.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=cb.parseItem(t.thumbnailOverlay,Lu),this.menu=cb.parseItem(t.menu,dt)}}uh.type="MusicTwoRowItem";const hh=uh;class dh extends _{constructor(t){super(),this.header=cb.parseItem(t.header,Fu),this.contents=cb.parseArray(t.contents,[hh,lh,$u,Yu]),Reflect.has(t,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(t.numItemsPerColumn))}}dh.type="MusicCarouselShelf";const ph=dh;class fh extends _{constructor(t){super(),this.description=new $(t.description),Reflect.has(t,"maxCollapsedLines")&&(this.max_collapsed_lines=t.maxCollapsedLines),Reflect.has(t,"maxExpandedLines")&&(this.max_expanded_lines=t.maxExpandedLines),this.footer=new $(t.footer)}}fh.type="MusicDescriptionShelf";const vh=fh;class mh extends _{constructor(t){var e,i,n,s,o,r,a,c,l;super(),this.title=new $(t.title),this.description=new $(t.description),this.subtitle=new $(t.subtitle),this.second_subtitle=new $(t.secondSubtitle),this.year=(null===(i=null===(e=this.subtitle.runs)||void 0===e?void 0:e.find((t=>/^[12][0-9]{3}$/.test(t.text))))||void 0===i?void 0:i.text)||"",this.song_count=(null===(s=null===(n=this.second_subtitle.runs)||void 0===n?void 0:n[0])||void 0===s?void 0:s.text)||"",this.total_duration=(null===(r=null===(o=this.second_subtitle.runs)||void 0===o?void 0:o[2])||void 0===r?void 0:r.text)||"",this.thumbnails=j.fromResponse(t.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=cb.parseArray(t.subtitleBadges);const u=null===(a=this.subtitle.runs)||void 0===a?void 0:a.find((t=>{var e,i;return null===(i=null===(e=null==t?void 0:t.endpoint)||void 0===e?void 0:e.payload)||void 0===i?void 0:i.browseId.startsWith("UC")}));u&&(this.author={name:u.text,channel_id:null===(l=null===(c=u.endpoint)||void 0===c?void 0:c.payload)||void 0===l?void 0:l.browseId,endpoint:u.endpoint}),this.menu=cb.parseItem(t.menu)}}mh.type="MusicDetailHeader";const _h=mh;class gh extends _{constructor(t){super(),this.playlist_id=t.playlistId,this.supported_download_states=t.supportedDownloadStates}}gh.type="MusicDownloadStateBadge";const yh=gh;class bh extends _{constructor(t){super(),this.header=cb.parseItem(t.header)}}bh.type="MusicEditablePlaylistDetailHeader";const wh=bh;class xh extends _{constructor(t){super(),this.element=Reflect.has(t,"elementRenderer")?cb.parseItem(t,xr):null}}xh.type="MusicElementHeader";const Sh=xh;class Th extends _{constructor(t){super(),Reflect.has(t,"header")&&(this.header=cb.parseItem(t.header)),Reflect.has(t,"title")&&(this.title=new $(t.title))}}Th.type="MusicHeader";const Ih=Th;class Ch extends _{constructor(t){super(),this.title=new $(t.title),this.description=new $(t.description),this.thumbnail=cb.parseItem(t.thumbnail,Vu)}}Ch.type="MusicImmersiveHeader";const kh=Ch;class Eh{constructor(t){this.icon_name=t.iconName,this.endpoint=new U(t.onTap),this.a11y_text=t.a11yText,this.style=t.style}}Eh.type="ActionButton";class Rh{constructor(t){this.image=t.image.image.sources,this.content_mode=t.image.contentMode,this.crop_options=t.image.cropOptions,this.image_aspect_ratio=t.imageAspectRatio,this.caption=t.caption,this.action_buttons=t.actionButtons.map((t=>new Eh(t)))}}Rh.type="Panel";class Ah extends _{constructor(t){super(),this.header=t.shelf.header,this.panels=t.shelf.panels.map((t=>new Rh(t)))}}Ah.type="MusicLargeCardItemCarousel";const Mh=Ah;class Ph extends _{constructor(t){var e,i,n;super(),this.playlist_id=t.playlistId,this.contents=cb.parseArray(t.contents,lh),this.collapsed_item_count=t.collapsedItemCount,this.continuation=(null===(n=null===(i=null===(e=t.continuations)||void 0===e?void 0:e[0])||void 0===i?void 0:i.nextContinuationData)||void 0===n?void 0:n.continuation)||null}}Ph.type="MusicPlaylistShelf";const Oh=Ph;class Dh extends _{constructor(t){var e,i,n,s,o;super(),this.title=new $(t.title),this.thumbnail=j.fromResponse(t.thumbnail),this.endpoint=new U(t.navigationEndpoint),this.selected=t.selected,this.video_id=t.videoId,this.duration={text:new $(t.lengthText).toString(),seconds:kb(new $(t.lengthText).toString())};const r=null===(e=new $(t.longBylineText).runs)||void 0===e?void 0:e.find((t=>{var e,i,n;return null===(n=null===(i=null===(e=t.endpoint)||void 0===e?void 0:e.payload)||void 0===i?void 0:i.browseId)||void 0===n?void 0:n.startsWith("MPR")})),a=null===(i=new $(t.longBylineText).runs)||void 0===i?void 0:i.filter((t=>{var e,i,n;return null===(n=null===(i=null===(e=t.endpoint)||void 0===e?void 0:e.payload)||void 0===i?void 0:i.browseId)||void 0===n?void 0:n.startsWith("UC")}));this.author=new $(t.shortBylineText).toString(),r&&(this.album={id:null===(s=null===(n=r.endpoint)||void 0===n?void 0:n.payload)||void 0===s?void 0:s.browseId,name:r.text,year:null===(o=new $(t.longBylineText).runs)||void 0===o?void 0:o.slice(-1)[0].text,endpoint:r.endpoint}),a&&(this.artists=a.map((t=>{var e,i;return{name:t.text,channel_id:null===(i=null===(e=t.endpoint)||void 0===e?void 0:e.payload)||void 0===i?void 0:i.browseId,endpoint:t.endpoint}}))),this.badges=cb.parseArray(t.badges),this.menu=cb.parseItem(t.menu),this.set_video_id=t.playlistSetVideoId}}Dh.type="PlaylistPanelVideo";const Nh=Dh;class Lh extends _{constructor(t){super(),this.primary=cb.parseItem(t.primaryRenderer,Nh),Reflect.has(t,"counterpart")&&(this.counterpart=b(t.counterpart.map((t=>cb.parseItem(t.counterpartRenderer,Nh)))||[]))}}Lh.type="PlaylistPanelVideoWrapper";const Bh=Lh;class Vh extends _{constructor(t){var e,i,n,s,o,r;super(),this.title=t.title,this.title_text=new $(t.titleText),this.contents=cb.parseArray(t.contents,[Bh,Nh,fi]),this.playlist_id=t.playlistId,this.is_infinite=t.isInfinite,this.continuation=(null===(n=null===(i=null===(e=t.continuations)||void 0===e?void 0:e[0])||void 0===i?void 0:i.nextRadioContinuationData)||void 0===n?void 0:n.continuation)||(null===(r=null===(o=null===(s=t.continuations)||void 0===s?void 0:s[0])||void 0===o?void 0:o.nextContinuationData)||void 0===r?void 0:r.continuation),this.is_editable=t.isEditable,this.preview_description=t.previewDescription,this.num_items_to_show=t.numItemsToShow}}Vh.type="PlaylistPanel";const Uh=Vh;class jh extends _{constructor(t){super(),this.content=cb.parseItem(t.content,Uh)}}jh.type="MusicQueue";const Wh=jh;class Fh extends _{constructor(t){var e,i,n,s;super(),this.title=new $(t.title),this.contents=cb.parseArray(t.contents,lh),Reflect.has(t,"bottomEndpoint")&&(this.endpoint=new U(t.bottomEndpoint)),Reflect.has(t,"continuations")&&(this.continuation=(null===(i=null===(e=t.continuations)||void 0===e?void 0:e[0].nextContinuationData)||void 0===i?void 0:i.continuation)||(null===(s=null===(n=t.continuations)||void 0===n?void 0:n[0].reloadContinuationData)||void 0===s?void 0:s.continuation)),Reflect.has(t,"bottomText")&&(this.bottom_text=new $(t.bottomText)),Reflect.has(t,"bottomButton")&&(this.bottom_button=cb.parseItem(t.bottomButton,R)),Reflect.has(t,"subheaders")&&(this.subheaders=cb.parseArray(t.subheaders))}}Fh.type="MusicShelf";const Hh=Fh;class $h extends _{constructor(t){super(),Reflect.has(t,"startItems")&&(this.start_items=cb.parseArray(t.startItems)),Reflect.has(t,"endItems")&&(this.end_items=cb.parseArray(t.endItems))}}$h.type="MusicSideAlignedItem";const Gh=$h;class Yh extends _{constructor(t){super(),this.title=new $(t.title).toString(),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),this.menu=cb.parseItem(t.menu,ru)}}Yh.type="MusicSortFilterButton";const Kh=Yh;class zh extends _{constructor(t){super(),this.thumbnail=j.fromResponse(t.thumbnail)}}zh.type="MusicTastebuilderShelfThumbnail";const qh=zh;class Xh extends _{constructor(t){super(),this.thumbnail=cb.parseItem(t.thumbnail,qh),this.primary_text=new $(t.primaryText),this.secondary_text=new $(t.secondaryText),this.action_button=cb.parseItem(t.actionButton,R),this.is_visible=t.isVisible}}Xh.type="MusicTasteBuilderShelf";const Qh=Xh;class Jh extends _{constructor(t){var e,i;super(),this.title=new $(t.title),this.thumbnail=t.thumbnail?j.fromResponse(null===(e=t.thumbnail.musicThumbnailRenderer)||void 0===e?void 0:e.thumbnail):[],this.menu=cb.parseItem(t.menu,dt),this.foreground_thumbnail=t.foregroundThumbnail?j.fromResponse(null===(i=t.foregroundThumbnail.musicThumbnailRenderer)||void 0===i?void 0:i.thumbnail):[]}}Jh.type="MusicVisualHeader";const Zh=Jh;class td extends _{constructor(t){super(),this.thumbnails=j.fromResponse(t.thumbnail),this.video_thumbnails=j.fromResponse(t.videoThumbnail),this.short_message=new $(t.shortMessage),this.sent_time=new $(t.sentTimeText),this.notification_id=t.notificationId,this.endpoint=new U(t.navigationEndpoint),this.record_click_endpoint=new U(t.recordClickEndpoint),this.menu=cb.parseItem(t.contextualMenu),this.read=t.read}}td.type="Notification";const ed=td;class id extends _{constructor(t){super(),this.image=cb.parseItem(t.image,qo),this.title=cb.parseItem(t.title,gr)}}id.type="PageHeaderView";const nd=id;class sd extends _{constructor(t){super(),this.page_title=t.pageTitle,this.content=cb.parseItem(t.content,nd)}}sd.type="PageHeader";const od=sd;class rd extends _{constructor(t){super(),this.header_text=new $(t.headerText).toString(),this.body_text=new $(t.bodyText).toString(),this.page_title=new $(t.pageTitle).toString(),this.header_icon_type=t.headerIcon.iconType}}rd.type="PageIntroduction";const ad=rd;class cd extends _{constructor(t){super(),this.subreason=new $(t.subreason),this.reason=new $(t.reason),this.proceed_button=cb.parseItem(t.proceedButton,R),this.thumbnails=j.fromResponse(t.thumbnail),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType)}}cd.type="PlayerErrorMessage";const ld=cd;class ud extends _{constructor(t){super(),this.title=t.itemTitle,this.thumbnail=t.itemThumbnail,this.offer_description=t.offerDescription,this.offer_id=t.offerId}}ud.type="PlayerLegacyDesktopYpcOffer";const hd=ud;class dd extends _{constructor(t){super(),this.video_message=t.fullVideoMessage,this.player_response=t.unserializedPlayerResponse}}dd.type="YpcTrailer";const pd=dd;class fd extends _{constructor(t){super(),this.video_id=t.trailerVideoId,this.title=t.itemTitle,this.thumbnail=t.itemThumbnail,this.offer_headline=t.offerHeadline,this.offer_description=t.offerDescription,this.offer_id=t.offerId,this.offer_button_text=t.offerButtonText,this.video_message=t.fullVideoMessage,this.trailer=zm(t.ypcTrailer,pd)}}fd.type="PlayerLegacyDesktopYpcTrailer";const vd=fd;class md extends _{constructor(t){var e;super(),this.title=new $(t.title),this.description=new $(t.description),this.thumbnails=j.fromResponse(t.thumbnail),Reflect.has(t,"embed")&&(this.embed={iframe_url:t.embed.iframeUrl,flash_url:t.embed.flashUrl,flash_secure_url:t.embed.flashSecureUrl,width:t.embed.width,height:t.embed.height}),this.length_seconds=parseInt(t.lengthSeconds),this.channel={id:t.externalChannelId,name:t.ownerChannelName,url:t.ownerProfileUrl},this.is_family_safe=!!t.isFamilySafe,this.is_unlisted=!!t.isUnlisted,this.has_ypc_metadata=!!t.hasYpcMetadata,this.view_count=parseInt(t.viewCount),this.category=t.category,this.publish_date=t.publishDate,this.upload_date=t.uploadDate,this.available_countries=t.availableCountries,this.start_timestamp=(null===(e=t.liveBroadcastDetails)||void 0===e?void 0:e.startTimestamp)?new Date(t.liveBroadcastDetails.startTimestamp):null}}md.type="PlayerMicroformat";const _d=md;class gd extends _{constructor(t){super(),this.title=new $(t.title),this.video_id=t.videoId,this.video_title=new $(t.videoTitle),this.short_view_count=new $(t.shortViewCountText),this.prefer_immediate_redirect=t.preferImmediateRedirect,this.count_down_secs_for_fullscreen=t.countDownSecsForFullscreen,this.published=new $(t.publishedTimeText),this.background=j.fromResponse(t.background),this.thumbnail_overlays=cb.parseArray(t.thumbnailOverlays),this.author=new ub(t.byline),this.cancel_button=cb.parseItem(t.cancelButton,R),this.next_button=cb.parseItem(t.nextButton,R),this.close_button=cb.parseItem(t.closeButton,R)}}gd.type="PlayerOverlayAutoplay";const yd=gd;class bd extends _{constructor(t){super(),this.results=cb.parseArray(t.results,[Lr,Dr]),this.title=new $(t.title).toString()}}bd.type="WatchNextEndScreen";const wd=bd;class xd extends _{constructor(t){super(),this.end_screen=cb.parseItem(t.endScreen,wd),this.autoplay=cb.parseItem(t.autoplay,yd),this.share_button=cb.parseItem(t.shareButton,R),this.add_to_menu=cb.parseItem(t.addToMenu,dt),this.fullscreen_engagement=cb.parseItem(t.fullscreenEngagement),this.actions=cb.parseArray(t.actions),this.browser_media_session=cb.parseItem(t.browserMediaSession),this.decorated_player_bar=cb.parseItem(t.decoratedPlayerBarRenderer,ur)}}xd.type="PlayerOverlay";const Sd=xd;class Td extends _{constructor(t){super(),this.id=t.playlistId,this.title=new $(t.title),this.subtitle=t.subtitle?new $(t.subtitle):null,this.stats=t.stats.map((t=>new $(t))),this.brief_stats=t.briefStats.map((t=>new $(t))),this.author=t.ownerText||t.ownerEndpoint?new ub(Object.assign(Object.assign({},t.ownerText),{navigationEndpoint:t.ownerEndpoint}),t.ownerBadges,null):null,this.description=new $(t.descriptionText),this.num_videos=new $(t.numVideosText),this.view_count=new $(t.viewCountText),this.can_share=t.shareData.canShare,this.can_delete=t.editableDetails.canDelete,this.is_editable=t.isEditable,this.privacy=t.privacy,this.save_button=cb.parseItem(t.saveButton),this.shuffle_play_button=cb.parseItem(t.shufflePlayButton),this.menu=cb.parseItem(t.moreActionsMenu),this.banner=cb.parseItem(t.playlistHeaderBanner)}}Td.type="PlaylistHeader";const Id=Td;class Cd extends _{constructor(t){super(),this.title=new $(t.playlistTitle),this.thumbnails=j.fromResponse(t.thumbnail),this.video_count=new $(t.playlistVideoCount),this.channel_name=new $(t.channelName),this.endpoint=new U(t.action)}}Cd.type="PlaylistInfoCardContent";const kd=Cd;class Ed extends _{constructor(t){super(),this.title=t.title,this.description=t.description||null}}Ed.type="PlaylistMetadata";const Rd=Ed;class Ad extends _{constructor(t){super(),this.items=cb.parseArray(t.items)}get contents(){return this.items}}Ad.type="PlaylistSidebar";const Md=Ad;class Pd extends _{constructor(t){super(),this.stats=t.stats.map((t=>new $(t))),this.thumbnail_renderer=cb.parseItem(t.thumbnailRenderer),this.title=new $(t.title),this.menu=cb.parseItem(t.menu),this.endpoint=new U(t.navigationEndpoint),this.description=new $(t.description)}}Pd.type="PlaylistSidebarPrimaryInfo";const Od=Pd;class Dd extends _{constructor(t){super(),this.owner=cb.parseItem(t.videoOwner),this.button=cb.parseItem(t.button)}}Dd.type="PlaylistSidebarSecondaryInfo";const Nd=Dd;class Ld extends _{constructor(t){super(),this.id=t.videoId,this.index=new $(t.index),this.title=new $(t.title),this.author=new ub(t.shortBylineText),this.thumbnails=j.fromResponse(t.thumbnail),this.thumbnail_overlays=cb.parseArray(t.thumbnailOverlays),this.set_video_id=null==t?void 0:t.setVideoId,this.endpoint=new U(t.navigationEndpoint),this.is_playable=t.isPlayable,this.menu=cb.parseItem(t.menu,dt),this.video_info=new $(t.videoInfo),this.accessibility_label=t.title.accessibility.accessibilityData.label;const e=t.upcomingEventData&&Number(`${t.upcomingEventData.startTime}000`);e&&(this.upcoming=new Date(e)),this.duration={text:new $(t.lengthText).toString(),seconds:parseInt(t.lengthSeconds)}}get is_live(){var t;return"LIVE"===(null===(t=this.thumbnail_overlays.firstOfType(Lt))||void 0===t?void 0:t.style)}get is_upcoming(){var t;return"UPCOMING"===(null===(t=this.thumbnail_overlays.firstOfType(Lt))||void 0===t?void 0:t.style)}}Ld.type="PlaylistVideo";const Bd=Ld;class Vd extends _{constructor(t){super(),this.id=t.playlistId,this.is_editable=t.isEditable,this.can_reorder=t.canReorder,this.videos=cb.parseArray(t.contents)}}Vd.type="PlaylistVideoList";const Ud=Vd;class jd extends _{constructor(t){super(),this.choices=t.choices.map((t=>({text:new $(t.text),select_endpoint:t.selectServiceEndpoint?new U(t.selectServiceEndpoint):null,deselect_endpoint:t.deselectServiceEndpoint?new U(t.deselectServiceEndpoint):null,vote_ratio_if_selected:(null==t?void 0:t.voteRatioIfSelected)||null,vote_percentage_if_selected:new $(t.votePercentageIfSelected),vote_ratio_if_not_selected:(null==t?void 0:t.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new $(t.votePercentageIfSelected),image:t.image?j.fromResponse(t.image):null}))),Reflect.has(t,"type")&&(this.poll_type=t.type),Reflect.has(t,"totalVotes")&&(this.total_votes=new $(t.totalVotes)),Reflect.has(t,"liveChatPollId")&&(this.live_chat_poll_id=t.liveChatPollId)}}jd.type="Poll";const Wd=jd;class Fd extends Ti{constructor(t){super(t)}}Fd.type="Post";const Hd=Fd;class $d extends _{constructor(t){super(),this.images=cb.parseArray(t.images,mi)}}$d.type="PostMultiImage";const Gd=$d;class Yd extends _{constructor(t){super(),this.title=new $(t.title),this.suppress_padding_disclaimer=!!t.suppressPaddingDisclaimer}}Yd.type="ProductListHeader";const Kd=Yd;class zd extends _{constructor(t){super(),this.title=new $(t.title),this.accessibility_title=t.accessibilityTitle,this.thumbnail=j.fromResponse(t.thumbnail),this.price=t.price,this.endpoint=new U(t.onClickCommand),this.merchant_name=t.merchantName,this.stay_in_app=!!t.stayInApp,this.view_button=cb.parseItem(t.viewButton,R)}}zd.type="ProductListItem";const qd=zd;class Xd extends _{constructor(t){super(),this.items=cb.parseArray(t.items)}get contents(){return this.items}}Xd.type="ProfileColumn";const Qd=Xd;class Jd extends _{constructor(t){super(),this.items=cb.parseArray(t.items)}get contents(){return this.items}}Jd.type="ProfileColumnStats";const Zd=Jd;class tp extends _{constructor(t){super(),this.label=new $(t.label),this.value=new $(t.value)}}tp.type="ProfileColumnStatsEntry";const ep=tp;class ip extends _{constructor(t){super(),this.title=new $(t.title),this.thumbnails=j.fromResponse(t.thumbnail)}}ip.type="ProfileColumnUserInfo";const np=ip;class sp extends _{constructor(t){super(),this.choices=t.choices.map((t=>({text:new $(t.text),is_correct:t.isCorrect}))),this.total_votes=new $(t.totalVotes)}}sp.type="Quiz";const op=sp;class rp extends _{constructor(t){super(),this.title=new $(t.title),this.subtitle=new $(t.subtitle),this.avatars=t.avatars.map((t=>new j(t))),this.button=cb.parseItem(t.button,R),this.surface=t.surface}}rp.type="RecognitionShelf";const ap=rp;class cp extends _{constructor(t){super(),this.id=t.videoId,this.title=new $(t.headline),this.thumbnails=j.fromResponse(t.thumbnail),this.views=new $(t.viewCountText),this.endpoint=new U(t.navigationEndpoint),this.accessibility_label=t.accessibility.accessibilityData.label}}cp.type="ReelItem";const lp=cp;class up extends _{constructor(t){super(),this.title=new $(t.title),this.items=cb.parseArray(t.items),Reflect.has(t,"endpoint")&&(this.endpoint=new U(t.endpoint))}get contents(){return this.items}}up.type="ReelShelf";const hp=up;class dp extends _{constructor(t){super(),this.content=cb.parseItem(t.content)}}dp.type="RelatedChipCloud";const pp=dp;class fp extends _{constructor(t){super(),this.header=cb.parseItem(t.header),this.contents=cb.parseArray(t.contents)}}fp.type="RichGrid";const vp=fp;class mp extends _{constructor(t){super(),this.content=cb.parseItem(t.content)}}mp.type="RichItem";const _p=mp;class gp extends _{constructor(t){super(),this.title=new $(t.title),this.subtitle=new $(t.subtitle),Reflect.has(t,"titleStyle")&&(this.title_style=t.titleStyle.style),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType)}}gp.type="RichListHeader";const yp=gp;class bp extends _{constructor(t){super(),this.thumbnail=j.fromResponse(t.thumbnail),this.title=new $(t.title),this.subtitle=new $(t.subtitle),this.call_to_action=new $(t.callToAction),Reflect.has(t,"callToActionIcon")&&(this.icon_type=t.callToActionIcon.iconType),this.endpoint=new U(t.endpoint)}}bp.type="RichMetadata";const wp=bp;class xp extends _{constructor(t){super(),this.contents=cb.parseArray(t.contents)}}xp.type="RichMetadataRow";const Sp=xp;class Tp extends _{constructor(t){super(),this.content=cb.parseItem(t.content)}}Tp.type="RichSection";const Ip=Tp;class Cp extends _{constructor(t){super(),this.title=new $(t.title),this.contents=cb.parseArray(t.contents),Reflect.has(t,"endpoint")&&(this.endpoint=new U(t.endpoint))}}Cp.type="RichShelf";const kp=Cp;class Ep extends _{constructor(t){super(),this.endpoint=new U(t.endpoint),this.search_button=cb.parseItem(t.searchButton,R),this.clear_button=cb.parseItem(t.clearButton,R),this.placeholder_text=new $(t.placeholderText)}}Ep.type="SearchBox";const Rp=Ep;class Ap extends _{constructor(t){super(),this.label=new $(t.label),this.endpoint=new U(t.endpoint||t.navigationEndpoint),this.tooltip=t.tooltip,Reflect.has(t,"status")&&(this.status=t.status)}get disabled(){return"FILTER_STATUS_DISABLED"===this.status}get selected(){return"FILTER_STATUS_SELECTED"===this.status}}Ap.type="SearchFilter";const Mp=Ap;class Pp extends _{constructor(t){super(),this.title=new $(t.title),this.filters=qm(t.filters,Mp)}}Pp.type="SearchFilterGroup";const Op=Pp;class Dp extends _{constructor(t){super(),this.title=new $(t.title),this.groups=qm(t.groups,Op)}}Dp.type="SearchFilterOptionsDialog";const Np=Dp;class Lp extends _{constructor(t){super(),this.chip_bar=zm(t.chipBar,Tn),this.search_filter_button=zm(t.searchFilterButton,R)}}Lp.type="SearchHeader";const Bp=Lp;class Vp extends _{constructor(t){super(),Reflect.has(t,"title")&&(this.title=new $(t.title)),Reflect.has(t,"groups")&&(this.groups=cb.parseArray(t.groups,Op)),Reflect.has(t,"button")&&(this.button=cb.parseItem(t.button,gi))}}Vp.type="SearchSubMenu";const Up=Vp;class jp extends _{constructor(t){super(),this.contents=cb.parseArray(t.contents)}}jp.type="SearchSuggestionsSection";const Wp=jp;class Fp extends _{constructor(t){super(),this.contents=cb.parseArray(t.contents)}}Fp.type="SecondarySearchContainer";const Hp=Fp;class $p extends _{constructor(t){super(),this.like_button=cb.parseItem(t.likeButton,[gi,R]),this.dislike_button=cb.parseItem(t.dislikeButton,[gi,R])}}$p.type="SegmentedLikeDislikeButton";const Gp=$p;class Yp extends _{constructor(t){super(),Reflect.has(t,"title")&&(this.title=new $(t.title)),Reflect.has(t,"summary")&&(this.summary=new $(t.summary)),Reflect.has(t,"enableServiceEndpoint")&&(this.enable_endpoint=new U(t.enableServiceEndpoint)),Reflect.has(t,"disableServiceEndpoint")&&(this.disable_endpoint=new U(t.disableServiceEndpoint)),this.item_id=t.itemId}}Yp.type="SettingBoolean";const Kp=Yp;class zp extends _{constructor(t){super(),this.title=new $(t.title),this.help_text=new $(t.helpText),this.enabled=t.enabled,this.disabled=t.disabled,this.id=t.id}}zp.type="SettingsCheckbox";const qp=zp;class Xp extends _{constructor(t){super(),this.title=new $(t.title),this.subtitle=new $(t.subtitle),this.enabled=t.enabled,this.enable_endpoint=new U(t.enableServiceEndpoint),this.disable_endpoint=new U(t.disableServiceEndpoint)}}Xp.type="SettingsSwitch";const Qp=Xp;class Jp extends _{constructor(t){super(),this.title=new $(t.title),Reflect.has(t,"text")&&(this.text=new $(t.text).toString()),Reflect.has(t,"options")&&(this.options=cb.parseArray(t.options,[Qp,O,er,qp,un]))}}Jp.type="SettingsOptions";const Zp=Jp;class tf extends _{constructor(t){super(),this.title=new $(t.title),this.items=cb.parseArray(t.items,Mo)}get contents(){return this.items}}tf.type="SettingsSidebar";const ef=tf;class nf extends _{constructor(t){super(),this.thumbnail=j.fromResponse(t.thumbnail),this.content=new $(t.content),this.published=new $(t.publishedTimeText),this.menu=zm(t.actionMenu,dt),this.original_post=zm(t.originalPost,Ti),this.id=t.postId,this.endpoint=new U(t.navigationEndpoint),this.expand_button=zm(t.expandButton,R),this.author=new ub(t.displayName,void 0)}}nf.type="SharedPost";const sf=nf;class of extends _{constructor(t){super(),this.title=new $(t.title),Reflect.has(t,"endpoint")&&(this.endpoint=new U(t.endpoint)),this.content=cb.parseItem(t.content),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"menu")&&(this.menu=cb.parseItem(t.menu)),Reflect.has(t,"playAllButton")&&(this.play_all_button=cb.parseItem(t.playAllButton,R))}}of.type="Shelf";const rf=of;class af extends _{constructor(t){super(),this.corrected_query=new $(t.correctedQuery),this.original_query=new $(t.originalQuery),this.corrected_query_endpoint=new U(t.correctedQueryEndpoint),this.original_query_endpoint=new U(t.originalQueryEndpoint),this.search_instead_for=new $(t.searchInsteadFor),this.showing_results_for=new $(t.showingResultsFor)}}af.type="ShowingResultsFor";const cf=af;class lf extends _{constructor(t){super(),this.image=j.fromResponse(t.image),this.title=new $(t.title),this.display_domain=new $(t.displayDomain),this.show_link_icon=t.showLinkIcon,this.call_to_action=new $(t.callToAction),this.endpoint=new U(t.command)}}lf.type="SimpleCardContent";const uf=lf;class hf extends _{constructor(t){super(),this.message=new $(t.message),this.prominent=t.prominent}}hf.type="SimpleCardTeaser";const df=hf;class pf extends _{constructor(t){super(),this.lines=t.lines.map((t=>new $(t))),this.style=t.layoutStyle}}pf.type="SimpleTextSection";const ff=pf;class vf extends _{constructor(t){super(),this.action_text=new $(t.actionText),this.nav_text=new $(t.navigationText),this.details=new $(t.detailsText),this.icon_type=t.icon.iconType,this.endpoint=new U(t.navigationEndpoint)}}vf.type="SingleActionEmergencySupport";const mf=vf;class _f extends _{constructor(t){super(),this.title=t.title||"N/A",this.selected=!!t.selected,this.endpoint=new U(t.endpoint),this.content=cb.parseItem(t.content,[xt,Wh,vp])}}_f.type="Tab";const gf=_f;class yf extends _{constructor(t){super(),this.tabs=cb.parseArray(t.tabs,gf)}}yf.type="SingleColumnBrowseResults";const bf=yf;class wf extends _{constructor(t){super(),this.contents=cb.parse(t)}}wf.type="SingleColumnMusicWatchNextResults";const xf=wf;class Sf extends _{constructor(t){super(),this.thumbnails=j.fromResponse(t.thumbnail),this.style=t.style}}Sf.type="SingleHeroImage";const Tf=Sf;class If extends _{constructor(t){super(),this.thumbnail=j.fromResponse(t.thumbnail),this.title=new $(t.title),this.endpoint=new U(t.navigationEndpoint),this.subscribe_button=cb.parseItem(t.subscribeButton,Ui)}}If.type="SlimOwner";const Cf=If;class kf extends _{constructor(t){super(),this.title=new $(t.title),this.collapsed_subtitle=new $(t.collapsedSubtitle),this.expanded_subtitle=new $(t.expandedSubtitle),this.owner=cb.parseItem(t.owner),this.description=new $(t.description),this.video_id=t.videoId,this.date=new $(t.dateText)}}kf.type="SlimVideoMetadata";const Ef=kf;class Rf extends _{constructor(t){super(),this.name=new $(t.name),this.is_selected=t.isSelected,this.endpoint=new U(t.navigationEndpoint)}}Rf.type="SubFeedOption";const Af=Rf;class Mf extends _{constructor(t){super(),this.title=new $(t.title),this.options=cb.parseArray(t.options,Af)}}Mf.type="SubFeedSelector";const Pf=Mf;class Of extends _{constructor(t){super(),this.contents=cb.parse(t)}}Of.type="Tabbed";const Df=Of;class Nf extends _{constructor(t){super(),this.tabs=cb.parseArray(t.tabs,gf)}}Nf.type="TabbedSearchResults";const Lf=Nf;class Bf extends _{constructor(t){super(),this.title=new $(t.title),this.style=t.style}}Bf.type="TextHeader";const Vf=Bf;class Uf extends _{constructor(t){super(),this.landscape=j.fromResponse(t.landscape),this.portrait=j.fromResponse(t.portrait)}}Uf.type="ThumbnailLandscapePortrait";const jf=Uf;class Wf extends _{constructor(t){super(),this.text=new $(t.text).toString()}}Wf.type="ThumbnailOverlayEndorsement";const Ff=Wf;class Hf extends _{constructor(t){super(),this.text=new $(t.text),this.icon_type=t.icon.iconType}}Hf.type="ThumbnailOverlayHoverText";const $f=Hf;class Gf extends _{constructor(t){super(),this.text=new $(t.text).toString(),this.icon_type=t.icon.iconType}}Gf.type="ThumbnailOverlayInlineUnplayable";const Yf=Gf;class Kf extends _{constructor(t){super(),this.text=new $(t.text)}}Kf.type="ThumbnailOverlayLoadingPreview";const zf=Kf;class qf extends _{constructor(t){super(),this.text=new $(t.text).toString()}}qf.type="ThumbnailOverlayNowPlaying";const Xf=qf;class Qf extends _{constructor(t){super(),this.hack=t.hack}}Qf.type="ThumbnailOverlayPinking";const Jf=Qf;class Zf extends _{constructor(t){super(),this.texts=t.texts.map((t=>new $(t)))}}Zf.type="ThumbnailOverlayPlaybackStatus";const tv=Zf;class ev extends _{constructor(t){super(),this.percent_duration_watched=t.percentDurationWatched}}ev.type="ThumbnailOverlayResumePlayback";const iv=ev;class nv extends _{constructor(t){super(),this.text=new $(t.text),this.icon_type=t.icon.iconType}}nv.type="ThumbnailOverlaySidePanel";const sv=nv;class ov extends _{constructor(t){super(),Reflect.has(t,"isToggled")&&(this.is_toggled=t.isToggled),this.icon_type={toggled:t.toggledIcon.iconType,untoggled:t.untoggledIcon.iconType},this.tooltip={toggled:t.toggledTooltip,untoggled:t.untoggledTooltip},this.toggled_endpoint=new U(t.toggledServiceEndpoint),this.untoggled_endpoint=new U(t.untoggledServiceEndpoint)}}ov.type="ThumbnailOverlayToggleButton";const rv=ov;class av extends _{constructor(t){super(),this.visible_time_range_start_millis=t.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=t.visibleTimeRangeEndMillis,this.decoration_time_millis=t.decorationTimeMillis,this.label=new $(t.label),this.icon=t.icon}}av.type="TimedMarkerDecoration";const cv=av;class lv extends _{constructor(t){super(),this.title=new $(t.title)}}lv.type="TitleAndButtonListHeader";const uv=lv;class hv extends _{constructor(t){super(),this.text=new $(t.defaultText),this.toggled_text=new $(t.toggledText),this.icon_type=t.defaultIcon.iconType,this.toggled_icon_type=t.toggledIcon.iconType,this.default_endpoint=new U(t.defaultServiceEndpoint),this.toggled_endpoint=new U(t.toggledServiceEndpoint)}}hv.type="ToggleMenuServiceItem";const dv=hv;class pv extends _{constructor(t){super(),this.promo_config={promo_id:t.promoConfig.promoId,impression_endpoints:t.promoConfig.impressionEndpoints.map((t=>new U(t))),accept:new U(t.promoConfig.acceptCommand),dismiss:new U(t.promoConfig.dismissCommand)},this.target_id=t.targetId,this.details=new $(t.detailsText),this.suggested_position=t.suggestedPosition.type,this.dismiss_stratedy=t.dismissStrategy.type,this.dwell_time_ms=parseInt(t.dwellTimeMs)}}pv.type="Tooltip";const fv=pv;class vv extends _{constructor(t){var e;super(),this.title=new $(t.title),this.avatar=j.fromResponse(null!==(e=t.thumbnail)&&void 0!==e?e:t.avatar),this.subtitle=new $(t.subtitle),this.subscribe_button=cb.parseItem(t.subscribeButton,Ui),this.endpoint=new U(t.navigationEndpoint)}}vv.type="TopicChannelDetails";const mv=vv;class _v extends _{constructor(t){super(),this.tabs=cb.parse(t.tabs),this.secondary_contents=cb.parse(t.secondaryContents)}}_v.type="TwoColumnBrowseResults";const gv=_v;class yv extends _{constructor(t){super(),this.primary_contents=cb.parse(t.primaryContents),this.secondary_contents=cb.parse(t.secondaryContents)}}yv.type="TwoColumnSearchResults";const bv=yv;var wv,xv;class Sv extends _{constructor(t){var e,i,n,s,o;super(),wv.add(this),this.results=cb.parseArray(null===(e=t.results)||void 0===e?void 0:e.results.contents),this.secondary_results=cb.parseArray(null===(i=t.secondaryResults)||void 0===i?void 0:i.secondaryResults.results),this.conversation_bar=cb.parseItem(null==t?void 0:t.conversationBar);const r=null===(n=t.playlist)||void 0===n?void 0:n.playlist;r&&(this.playlist={id:r.playlistId,title:r.title,author:(null===(s=r.shortBylineText)||void 0===s?void 0:s.simpleText)?new $(r.shortBylineText):new ub(r.longBylineText),contents:cb.parseArray(r.contents),current_index:r.currentIndex,is_infinite:!!r.isInfinite,menu:cb.parseItem(r.menu,dt)});const a=null===(o=t.autoplay)||void 0===o?void 0:o.autoplay;a&&(this.autoplay={sets:a.sets.map((t=>f(this,wv,"m",xv).call(this,t)))},a.modifiedSets&&(this.autoplay.modified_sets=a.modifiedSets.map((t=>f(this,wv,"m",xv).call(this,t)))),a.countDownSecs&&(this.autoplay.count_down_secs=a.countDownSecs))}}wv=new WeakSet,xv=function(t){const e={autoplay_video:new U(t.autoplayVideo)};return t.nextButtonVideo&&(e.next_button_video=new U(t.nextButtonVideo)),e},Sv.type="TwoColumnWatchNextResults";const Tv=Sv;class Iv extends _{constructor(t){super(),this.header=cb.parseItem(t.header),this.call_to_action=cb.parseItem(t.callToAction),this.sections=cb.parseArray(t.sections),Reflect.has(t,"collapsedLabel")&&(this.collapsed_label=new $(t.collapsedLabel))}}Iv.type="UniversalWatchCard";const Cv=Iv;class kv extends _{constructor(t){super(),this.message_title=new $(t.dialogMessageTitle),this.message_text=new $(t.dialogMessageText),this.action_button=cb.parseItem(t.actionButton,R),this.dismiss_button=cb.parseItem(t.dismissButton,R),this.is_visible=t.isVisible}}kv.type="UpsellDialog";const Ev=kv;class Rv extends _{constructor(t){super(),this.items=cb.parseArray(t.items),this.collapsed_item_count=t.collapsedItemCount,this.collapsed_state_button_text=new $(t.collapsedStateButtonText)}get contents(){return this.items}}Rv.type="VerticalList";const Av=Rv;class Mv extends _{constructor(t){super(),this.items=cb.parseArray(t.items),this.view_all_text=new $(t.viewAllText),this.view_all_endpoint=new U(t.viewAllEndpoint)}get contents(){return this.items}}Mv.type="VerticalWatchCardList";const Pv=Mv;class Ov extends _{constructor(t){super(),this.title=new $(t.videoTitle),this.channel_name=new $(t.channelName),this.view_count=new $(t.viewCountText),this.video_thumbnails=j.fromResponse(t.videoThumbnail),this.duration=new $(t.lengthString),this.endpoint=new U(t.action)}}Ov.type="VideoInfoCardContent";const Dv=Ov;class Nv extends _{constructor(t){super(),this.subscription_button=t.subscriptionButton,this.subscriber_count=new $(t.subscriberCountText),this.author=new ub(Object.assign(Object.assign({},t.title),{navigationEndpoint:t.navigationEndpoint}),t.badges,t.thumbnail)}}Nv.type="VideoOwner";const Lv=Nv;class Bv extends _{constructor(t){var e,i,n,s;super(),this.title=new $(t.title),Reflect.has(t,"superTitleLink")&&(this.super_title_link=new $(t.superTitleLink)),this.view_count=new $(null===(i=null===(e=t.viewCount)||void 0===e?void 0:e.videoViewCountRenderer)||void 0===i?void 0:i.viewCount),this.short_view_count=new $(null===(s=null===(n=t.viewCount)||void 0===n?void 0:n.videoViewCountRenderer)||void 0===s?void 0:s.shortViewCount),this.badges=cb.parseArray(t.badges,Dt),this.published=new $(t.dateText),this.relative_date=new $(t.relativeDateText),this.menu=cb.parseItem(t.videoActions,dt)}}Bv.type="VideoPrimaryInfo";const Vv=Bv;class Uv extends _{constructor(t){super(),this.owner=cb.parseItem(t.owner,Lv),this.description=new $(t.description),Reflect.has(t,"attributedDescription")&&(this.description=$.fromAttributed(t.attributedDescription)),this.subscribe_button=cb.parseItem(t.subscribeButton,[Ui,R]),this.metadata=cb.parseItem(t.metadataRowContainer,mu),this.show_more_text=t.showMoreText,this.show_less_text=t.showLessText,this.default_expanded=t.defaultExpanded,this.description_collapsed_lines=t.descriptionCollapsedLines}}Uv.type="VideoSecondaryInfo";const jv=Uv;class Wv extends _{constructor(t){super(),this.title=new $(t.title),this.subtitle=new $(t.subtitle),this.duration={text:new $(t.lengthText).toString(),seconds:kb(t.lengthText.simpleText)},this.style=t.style}}Wv.type="WatchCardCompactVideo";const Fv=Wv;class Hv extends _{constructor(t){var e;super(),this.endpoint=new U(t.navigationEndpoint),this.call_to_action_button=cb.parseItem(t.callToActionButton),this.hero_image=cb.parseItem(t.heroImage),this.label=(null===(e=t.lengthText)||void 0===e?void 0:e.accessibility.accessibilityData.label)||""}}Hv.type="WatchCardHeroVideo";const $v=Hv;class Gv extends _{constructor(t){super(),this.title=new $(t.title),this.title_endpoint=new U(t.titleNavigationEndpoint),this.subtitle=new $(t.subtitle),this.author=new ub(t,t.titleBadge?[t.titleBadge]:null,t.avatar),this.author.name=this.title.toString(),this.style=t.style}}Gv.type="WatchCardRichHeader";const Yv=Gv;class Kv extends _{constructor(t){super(),this.lists=cb.parseArray(t.lists)}}Kv.type="WatchCardSectionSequence";const zv=Kv;class qv extends gv{constructor(t){super(t)}}qv.type="WatchNextTabbedResults";const Xv=qv;class Qv extends _{constructor(t){var e,i;super(),this.title=t.title,this.content=cb.parseItem(t.content,xt),this.endpoint=new U(t.navigationEndpoint),this.category_assets={asset_key:null===(e=t.categoryAssets)||void 0===e?void 0:e.assetKey,background_color:null===(i=t.categoryAssets)||void 0===i?void 0:i.backgroundColor},this.category_type=t.categoryType}}Qv.type="AnchoredSection";const Jv=Qv;class Zv extends _{constructor(t){var e,i;super(),this.title=new $(t.title),this.category_assets={asset_key:null===(e=t.categoryAssets)||void 0===e?void 0:e.assetKey,background_color:null===(i=t.categoryAssets)||void 0===i?void 0:i.backgroundColor},this.category_type=t.categoryType,this.endpoint=new U(t.endpoint)}}Zv.type="KidsCategoryTab";const tm=Zv;class em extends _{constructor(t){super(),this.category_tabs=cb.parseArray(t.categoryTabs,tm),this.privacy_button=cb.parseItem(t.privacyButtonRenderer,R)}}em.type="kidsCategoriesHeader";const im=em;class nm extends _{constructor(t){super(),this.anchors=cb.parseArray(t.anchors,Jv)}}nm.type="kidsHomeScreen";const sm=nm,om=new Set(["trackingParams","accessibility","accessibilityData"]),rm={};function am(t){return t.replace(/[A-Z]/g,(t=>`_${t.toLowerCase()}`))}function cm(t,e){let i=!1;if("object"==typeof e&&null!=e){if(i=lm(e))return rm[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=function(t){return!!(Array.isArray(t)&&t.every((t=>lm(t))))&&Object.fromEntries(t.map((t=>{const e=Reflect.ownKeys(t)[0].toString();return[Fm(e),t[e]]})))}(e)){for(const[t,e]of Object.entries(i))rm[t]=e;return{type:"renderer_list",renderers:Object.keys(i),optional:!1}}if(i=function(t,e){if("object"==typeof e&&null!==e){if(t.endsWith("Endpoint")||t.endsWith("Command")||"endpoint"===t)return{type:"misc",endpoint:new U(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){const t=new $(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:t.endpoint,text:t.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}(t,e))return i}const n=typeof e;return"object"===n?{type:"object",keys:Object.entries(e).map((([t,e])=>[t,cm(t,e)])),optional:!1}:{type:"primative",typeof:[n],optional:!1}}function lm(t){if("object"!=typeof t)return!1;const e=Reflect.ownKeys(t);return!(1!==e.length||!e[0].toString().includes("Renderer"))&&Fm(e[0].toString())}function um(t){return function(t){var e;const i=t.filter((([,t])=>{var e;return"misc"===t.type&&("NavigationEndpoint"===t.misc_type||"Text"===t.misc_type)&&"WEB_PAGE_TYPE_CHANNEL"===(null===(e=t.endpoint)||void 0===e?void 0:e.metadata.page_type)})),n=i.sort((([,t],[,e])=>"misc"!==t.type||"misc"!==e.type||"Text"!==t.misc_type||"Text"!==e.misc_type?0:e.text.length-t.text.length)),s=new Set,o=n[0];let r;if(o){s.add(o[0]);const i=t.map((([t])=>t)).filter((t=>t.endsWith("Badges")||"badges"===t)),n=null!==(e=i.filter((t=>t.startsWith("owner")||t.startsWith("author")))[0])&&void 0!==e?e:i[0],a=t.find((([t])=>t===n)),c=!!a&&"renderer_list"===a[1].type&&Reflect.has(a[1].renderers,"MetadataBadge");c&&n&&s.add(n),r={type:"misc",misc_type:"Author",optional:!1,params:[o[0],c?n:void 0]}}return r&&t.push(["author",r]),t.filter((([t])=>!s.has(t)))}(function(t){if("object"!=typeof t||null===t)throw new vb("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter((t=>!function(t){return"string"==typeof t&&om.has(t)}(t))).filter((t=>"string"==typeof t)).map((e=>[e,cm(e,Reflect.get(t,e))]))}(t))}function hm(t){const e=um(t),i=new Map;for(const[,t]of e)if("renderer"===t.type||"renderer_list"===t.type)for(const e of t.renderers){const t=rm[e];t&&i.set(e,t)}return{key_info:e,unimplemented_dependencies:Array.from(i).filter((([t])=>!$m(t)))}}function dm(t,e,i){var n,s;i({error_type:"class_not_found",classname:t,key_info:e});const o=(n=class extends _{static set key_info(t){v(this,n,new Map(t),"f",s)}static get key_info(){return[...f(this,n,"f",s).entries()]}constructor(e){super();const{key_info:n,unimplemented_dependencies:s}=hm(e),{resolved_key_info:r,changed_keys:a}=bm(o.key_info,n);a.length>0&&(o.key_info=r,i({error_type:"class_changed",classname:t,key_info:o.key_info,changed_keys:a}));for(const[t,e]of s)pm(t,e,i);for(const[t,i]of n){let n=am(t);"misc"===i.type&&"NavigationEndpoint"===i.misc_type&&(n="endpoint"),Reflect.set(this,n,ym(t,i,e))}}},r=n,"symbol"==typeof(a="node")&&(a=a.description?"[".concat(a.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:a}),n.type=t,s={value:new Map},n);var r,a;return o.key_info=e,Object.defineProperty(o,"name",{value:t,writable:!1}),o}function pm(t,e,i){const{key_info:n,unimplemented_dependencies:s}=hm(e),o=dm(t,n,i);Gm(t,o);for(const[t,e]of s)pm(t,e,i);return o}function fm(t,e){const i=[],n=["super();"];for(const[t,s]of e){let e=am(t);"misc"===s.type&&"NavigationEndpoint"===s.misc_type&&(e="endpoint"),i.push(`${e}${s.optional?"?":""}: ${vm(s)};`),n.push(`this.${e} = ${mm(t,s)};`)}return`class ${t} extends YTNode {\n  static type = '${t}';\n\n  ${i.join("\n  ")}\n\n  constructor(data: RawNode) {\n    ${n.join("\n    ")}\n  }\n}\n`}function vm(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map((t=>`YTNodes.${t}`)).join(" | ")} | null`;case"renderer_list":return`ObservedArray<${t.renderers.map((t=>`YTNodes.${t}`)).join(" | ")}> | null`;case"object":return`{\n${t.keys.map((([t,i])=>`${" ".repeat(2*(e+2))}${am(t)}${i.optional?"?":""}: ${vm(i,e+1)}`)).join(",\n")}\n${" ".repeat(2*(e+1))}}`;case"misc":return"Thumbnail"===t.misc_type?"Thumbnail[]":t.misc_type;case"primative":return t.typeof.join(" | ");case"unknown":return"/* TODO: determine correct type */ unknown"}}function mm(t,e,i=["data"],n=1){let s="undefined";switch(e.type){case"renderer":s=`Parser.parseItem(${i.join(".")}.${t}, [ ${e.renderers.map((t=>`YTNodes.${t}`)).join(", ")} ])`;break;case"renderer_list":s=`Parser.parse(${i.join(".")}.${t}, true, [ ${e.renderers.map((t=>`YTNodes.${t}`)).join(", ")} ])`;break;case"object":{const o=[...i,t];s=`{\n${e.keys.map((([t,e])=>`${" ".repeat(2*(n+2))}${am(t)}: ${mm(t,e,o,n+1)}`)).join(",\n")}\n${" ".repeat(2*(n+1))}}`}break;case"misc":switch(e.misc_type){case"Thumbnail":s=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{const t=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${t} : undefined`:t}default:s=`new ${e.misc_type}(${i.join(".")}.${t})`}if("undefined"===s)throw new Error("Unreachable code reached! Switch missing case!");break;case"primative":case"unknown":s=`${i.join(".")}.${t}`}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${s} : undefined`:s}function _m(t,e){let i=t;for(const t of e)i=i[t];return i}function gm(t,e){let i=t;for(const t of e){if(!Reflect.has(i,t))return!1;i=i[t]}return!0}function ym(t,e,i,n=["data"]){const s=!e.optional||gm({data:i},[...n,t]);switch(e.type){case"renderer":return s?zm(_m({data:i},[...n,t]),e.renderers.map((t=>Hm(t)))):void 0;case"renderer_list":return s?Xm(_m({data:i},[...n,t]),!0,e.renderers.map((t=>Hm(t)))):void 0;case"object":{const o={},r=[...n,t];for(const[t,n]of e.keys)o[t]=s?ym(t,n,i,r):void 0;return o}case"misc":switch(e.misc_type){case"NavigationEndpoint":return s?new U(_m({data:i},[...n,t])):void 0;case"Text":return s?new $(_m({data:i},[...n,t])):void 0;case"Thumbnail":return s?j.fromResponse(_m({data:i},[...n,t])):void 0;case"Author":return!e.optional||gm({data:i},[...n,e.params[0]])?new ub(_m({data:i},[...n,e.params[0]]),e.params[1]?_m({data:i},[...n,e.params[1]]):void 0):void 0}throw new Error("Unreachable code reached! Switch missing case!");case"primative":case"unknown":return _m({data:i},[...n,t])}}function bm(t,e){const i=new Map,n=new Set(t.map((([t])=>t))),s=new Set(e.map((([t])=>t))),o=e.filter((([t])=>!n.has(t))),r=t.filter((([t])=>!s.has(t))),a=t.filter((([t])=>s.has(t))),c=new Map(e);for(const[t,e]of a){const n=c.get(t);if(n)if(e.type===n.type)switch(e.type){case"object":{if("object"!==n.type)continue;const{resolved_key_info:s}=bm(e.keys,n.keys),o={type:"object",keys:s,optional:e.optional||n.optional};JSON.stringify(o)!==JSON.stringify(e)&&i.set(t,o)}break;case"renderer":{if("renderer"!==n.type)continue;const s={type:"renderer",renderers:Object.assign(Object.assign({},e.renderers),n.renderers),optional:e.optional||n.optional};JSON.stringify(Object.assign(Object.assign({},s),{renderers:Object.keys(s.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},e),{renderers:Object.keys(e.renderers)}))&&i.set(t,s)}break;case"renderer_list":{if("renderer_list"!==n.type)continue;const s={type:"renderer_list",renderers:Object.assign(Object.assign({},e.renderers),n.renderers),optional:e.optional||n.optional};JSON.stringify(Object.assign(Object.assign({},s),{renderers:Object.keys(s.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},e),{renderers:Object.keys(e.renderers)}))&&i.set(t,s)}break;case"misc":if("misc"!==n.type)continue;switch(e.misc_type!==n.misc_type&&i.set(t,{type:"unknown",optional:!0}),e.misc_type){case"Author":{if("Author"!==n.misc_type)break;const s=e.params[1]||n.params[1],o={type:"misc",misc_type:"Author",optional:e.optional||n.optional,params:[n.params[0],s]};JSON.stringify(o)!==JSON.stringify(e)&&i.set(t,o)}}break;case"primative":{if("primative"!==n.type)continue;const s={type:"primative",typeof:Array.from(new Set([...n.typeof,...e.typeof])),optional:e.optional||n.optional};JSON.stringify(s)!==JSON.stringify(e)&&i.set(t,s)}}else i.set(t,{type:"unknown",optional:!0})}for(const[t,e]of o)i.set(t,Object.assign(Object.assign({},e),{optional:!0}));for(const[t,e]of r)i.set(t,Object.assign(Object.assign({},e),{optional:!0}));const l=t.filter((([t])=>!i.has(t)));return{resolved_key_info:[...new Map([...l,...i]).entries()],changed_keys:[...i.entries()]}}class wm extends _{constructor(t){var e,i,n;super(),this.contents=qm(t.contents),Array.isArray(t.continuations)&&(this.continuation=null===(n=null===(i=null===(e=t.continuations)||void 0===e?void 0:e.at(0))||void 0===i?void 0:i.nextContinuationData)||void 0===n?void 0:n.continuation)}}wm.type="itemSectionContinuation";class xm extends _{constructor(t){super(),this.endpoint=new U(t.endpoint)}}xm.type="navigateAction";class Sm extends _{constructor(t){super(),this.miniplayer_command=new U(t.miniplayerCommand),this.show_premium_branding=t.showPremiumBranding}}Sm.type="showMiniplayerCommand";class Tm extends _{constructor(t){super(),this.target_id=t.targetId,this.contents=Xm(t.continuationItems,!0),this.slot=null==t?void 0:t.slot}}Tm.type="reloadContinuationItemsCommand";class Im extends _{constructor(t){var e,i,n,s,o,r;super(),this.contents=Xm(t.contents,!0),this.continuation=(null===(n=null===(i=null===(e=t.continuations)||void 0===e?void 0:e[0])||void 0===i?void 0:i.nextContinuationData)||void 0===n?void 0:n.continuation)||(null===(r=null===(o=null===(s=t.continuations)||void 0===s?void 0:s[0])||void 0===o?void 0:o.reloadContinuationData)||void 0===r?void 0:r.continuation)||null}}Im.type="sectionListContinuation";class Cm extends _{constructor(t){var e;super(),this.contents=Xm(t.contents,!0),this.continuation=(null===(e=t.continuations)||void 0===e?void 0:e[0].nextContinuationData.continuation)||null}}Cm.type="musicPlaylistShelfContinuation";class km extends _{constructor(t){var e,i,n,s;super(),this.contents=qm(t.contents),this.continuation=(null===(i=null===(e=t.continuations)||void 0===e?void 0:e[0].nextContinuationData)||void 0===i?void 0:i.continuation)||(null===(s=null===(n=t.continuations)||void 0===n?void 0:n[0].reloadContinuationData)||void 0===s?void 0:s.continuation)||null}}km.type="musicShelfContinuation";class Em extends _{constructor(t){var e;super(),this.items=Xm(t.items,!0),this.continuation=(null===(e=t.continuations)||void 0===e?void 0:e[0].nextContinuationData.continuation)||null}get contents(){return this.items}}Em.type="gridContinuation";class Rm extends _{constructor(t){var e,i,n,s,o,r;super(),this.contents=qm(t.contents),this.continuation=(null===(n=null===(i=null===(e=t.continuations)||void 0===e?void 0:e[0])||void 0===i?void 0:i.nextContinuationData)||void 0===n?void 0:n.continuation)||(null===(r=null===(o=null===(s=t.continuations)||void 0===s?void 0:s[0])||void 0===o?void 0:o.nextRadioContinuationData)||void 0===r?void 0:r.continuation)||null}}Rm.type="playlistPanelContinuation";class Am extends _{constructor(t){var e,i,n;super(),this.continuation_type=t.type,this.timeout_ms=null===(e=t.continuation)||void 0===e?void 0:e.timeoutMs,this.time_until_last_message_ms=null===(i=t.continuation)||void 0===i?void 0:i.timeUntilLastMessageMsec,this.token=null===(n=t.continuation)||void 0===n?void 0:n.continuation}}Am.type="continuation";class Mm extends _{constructor(t){var e,i,n,s,o,r,a,c;let l,u;super(),this.actions=Xm(null===(e=t.actions)||void 0===e?void 0:e.map((t=>(delete t.clickTrackingParams,t))),!0)||b([]),this.action_panel=zm(t.actionPanel),this.item_list=zm(t.itemList,Vl),this.header=zm(t.header,Ll),this.participants_list=zm(t.participantsList,$l),this.popout_message=zm(t.popoutMessage,Qo),this.emojis=(null===(i=t.emojis)||void 0===i?void 0:i.map((t=>({emoji_id:t.emojiId,shortcuts:t.shortcuts,search_terms:t.searchTerms,image:j.fromResponse(t.image),is_custom_emoji:t.isCustomEmoji}))))||[],(null===(n=t.continuations)||void 0===n?void 0:n[0].timedContinuationData)?(u="timed",l=null===(s=t.continuations)||void 0===s?void 0:s[0].timedContinuationData):(null===(o=t.continuations)||void 0===o?void 0:o[0].invalidationContinuationData)?(u="invalidation",l=null===(r=t.continuations)||void 0===r?void 0:r[0].invalidationContinuationData):(null===(a=t.continuations)||void 0===a?void 0:a[0].liveChatReplayContinuationData)&&(u="replay",l=null===(c=t.continuations)||void 0===c?void 0:c[0].liveChatReplayContinuationData),this.continuation=new Am({continuation:l,type:u}),this.viewer_name=t.viewerName}}Mm.type="liveChatContinuation";const Pm=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent"]),Om=new Map(Object.entries(t)),Dm=new Map;let Nm=null,Lm=t=>{var{classname:e}=t,i=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(i[n[s]]=t[n[s]])}return i}(t,["classname"]);switch(i.error_type){case"parse":i.error instanceof Error&&console.warn(new vb(`Something went wrong at ${e}!\nThis is a bug, please report it at ${fb.shim.info.bugs_url}`,{stack:i.error.stack}));break;case"typecheck":console.warn(new mb(`Type mismatch, got ${e} expected ${Array.isArray(i.expected)?i.expected.join(" | "):i.expected}.`,i.classdata));break;case"mutation_data_missing":console.warn(new vb(`Mutation data required for processing MusicMultiSelectMenuItems, but none found.\nThis is a bug, please report it at ${fb.shim.info.bugs_url}`));break;case"mutation_data_invalid":console.warn(new vb(`Mutation data missing or invalid for ${i.failed} out of ${i.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${i.titles.join(", ")}.\nThis is a bug, please report it at ${fb.shim.info.bugs_url}`));break;case"class_not_found":console.warn(new vb(`${e} not found!\nThis is a bug, want to help us fix it? Follow the instructions at ${fb.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${fb.shim.info.bugs_url}!\nIntrospected and JIT generated this class in the meantime:\n${fm(e,i.key_info)}`));break;case"class_changed":console.warn(`${e} changed!\nThe following keys where altered: ${i.changed_keys.map((([t])=>am(t))).join(", ")}\nThe class has changed to:\n${fm(e,i.key_info)}`);break;default:console.warn("Unreachable code reached at ParserErrorHandler")}};function Bm(t){Lm=t}function Vm(){Nm=null}function Um(){Nm=new w}function jm(){if(!Nm)throw new Error("Parser#getMemo() called before Parser#createMemo()");return Nm}function Wm(t){return Pm.has(t)}function Fm(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}function Hm(t){const e=Om.get(t);if(!e){const e=new Error(`Module not found: ${t}`);throw e.code="MODULE_NOT_FOUND",e}return e}function $m(t){return Om.has(t)}function Gm(t,e){Om.set(t,e),Dm.set(t,e)}function Ym(){return Object.fromEntries(Dm)}function Km(t){var e,i;const n={};Um();const s=Xm(t.contents),o=jm();s&&(n.contents=s,n.contents_memo=o),Vm(),Um();const r=t.onResponseReceivedActions?Zm(t.onResponseReceivedActions):null,a=jm();r&&(n.on_response_received_actions=r,n.on_response_received_actions_memo=a),Vm(),Um();const c=t.onResponseReceivedEndpoints?Zm(t.onResponseReceivedEndpoints):null,l=jm();c&&(n.on_response_received_endpoints=c,n.on_response_received_endpoints_memo=l),Vm(),Um();const u=t.onResponseReceivedCommands?Zm(t.onResponseReceivedCommands):null,h=jm();u&&(n.on_response_received_commands=u,n.on_response_received_commands_memo=h),Vm(),Um();const d=t.continuationContents?Jm(t.continuationContents):null,p=jm();d&&(n.continuation_contents=d,n.continuation_contents_memo=p),Vm(),Um();const f=t.actions?t_(t.actions):null,v=jm();f&&(n.actions=f,n.actions_memo=v),Vm(),Um();const m=t.liveChatItemContextMenuSupportedRenderers?zm(t.liveChatItemContextMenuSupportedRenderers):null,_=jm();m&&(n.live_chat_item_context_menu_supported_renderers=m,n.live_chat_item_context_menu_supported_renderers_memo=_),Vm(),Um();const g=t.header?Xm(t.header):null,y=jm();g&&(n.header=g,n.header_memo=y),Vm(),Um();const b=t.sidebar?zm(t.sidebar):null,w=jm();b&&(n.sidebar=b,n.sidebar_memo=w),Vm(),Um();const x=Xm(t.items);x&&(n.items=x,n.items_memo=jm()),Vm(),i_(o,null===(i=null===(e=t.frameworkUpdates)||void 0===e?void 0:e.entityBatchUpdate)||void 0===i?void 0:i.mutations);const S=t.continuation?Qm(t.continuation):null;S&&(n.continuation=S);const T=Xm(t.metadata);T&&(n.metadata=T);const I=zm(t.microformat);I&&(n.microformat=I);const C=zm(t.overlay);C&&(n.overlay=C);const E=qm(t.alerts,[st,rt]);E.length&&(n.alerts=E);const R=t.refinements;R&&(n.refinements=R);const A=t.estimatedResults?parseInt(t.estimatedResults):null;A&&(n.estimated_results=A);const M=Xm(t.playerOverlays);M&&(n.player_overlays=M);const P=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;P&&(n.playback_tracking=P);const O=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playablility:zm(t.playabilityStatus.audioOnlyPlayability,k),error_screen:zm(t.playabilityStatus.errorScreen)}:null;if(O&&(n.playability_status=O),t.streamingData){const e=new Map,i={expires:new Date(Date.now()+1e3*parseInt(t.streamingData.expiresInSeconds)),formats:e_(t.streamingData.formats,e),adaptive_formats:e_(t.streamingData.adaptiveFormats,e),dash_manifest_url:t.streamingData.dashManifestUrl||null,hls_manifest_url:t.streamingData.hlsManifestUrl||null};n.streaming_data=i}const D=t.currentVideoEndpoint?new U(t.currentVideoEndpoint):null;D&&(n.current_video_endpoint=D);const N=t.endpoint?new U(t.endpoint):null;N&&(n.endpoint=N);const L=zm(t.captions,J);L&&(n.captions=L);const B=t.videoDetails?new we(t.videoDetails):null;B&&(n.video_details=B);const V=qm(t.annotations,X);V.length&&(n.annotations=V);const j=zm(t.storyboards,[it,tt]);j&&(n.storyboards=j);const W=zm(t.endscreen,z);W&&(n.endscreen=W);const F=zm(t.cards,Y);F&&(n.cards=F);const H=qm(t.engagementPanels,me);return H.length&&(n.engagement_panels=H),n}function zm(t,e){if(!t)return null;const i=Object.keys(t);if(!i.length)return null;const n=Fm(i[0]);if(!Wm(n))try{const s=$m(n)?Hm(n):pm(n,t[i[0]],Lm);if(e)if(Array.isArray(e)){if(!e.some((t=>t.type===s.type)))return Lm({classdata:t[i[0]],classname:n,error_type:"typecheck",expected:e.map((t=>t.type))}),null}else if(s.type!==e.type)return Lm({classdata:t[i[0]],classname:n,error_type:"typecheck",expected:e.type}),null;const o=new s(t[i[0]]);return function(t,e){if(!Nm)return;const i=Nm.get(t);if(!i)return Nm.set(t,[e]);i.push(e)}(n,o),o}catch(e){return Lm({classname:n,classdata:t[i[0]],error:e,error_type:"parse"}),null}return null}function qm(t,e){if(Array.isArray(t)){const i=[];for(const n of t){const t=zm(n,e);t&&i.push(t)}return b(i)}if(!t)return b([]);throw new mb("Expected array but got a single item")}function Xm(t,e,i){if(!t)return null;if(Array.isArray(t)){const n=[];for(const e of t){const t=zm(e,i);t&&n.push(t)}const s=b(n);return e?s:new y(s)}if(e)throw new mb("Expected array but got a single item");return new y(zm(t,i))}function Qm(t){return t.timedContinuationData?new Am({continuation:t.timedContinuationData,type:"timed"}):null}function Jm(t){return t.itemSectionContinuation?new wm(t.itemSectionContinuation):t.sectionListContinuation?new Im(t.sectionListContinuation):t.liveChatContinuation?new Mm(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new Cm(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new km(t.musicShelfContinuation):t.gridContinuation?new Em(t.gridContinuation):t.playlistPanelContinuation?new Rm(t.playlistPanelContinuation):null}function Zm(t){return b(t.map((t=>t.navigateAction?new xm(t.navigateAction):t.showMiniplayerCommand?new Sm(t.showMiniplayerCommand):t.reloadContinuationItemsCommand?new Tm(t.reloadContinuationItemsCommand):t.appendContinuationItemsAction?new Pe(t.appendContinuationItemsAction):void 0)).filter((t=>t)))}function t_(t){return Array.isArray(t)?Xm(t.map((t=>(delete t.clickTrackingParams,t)))):new y(zm(t))}function e_(t,e){return(null==t?void 0:t.map((t=>new be(t,e))))||[]}function i_(t,e){const i=t.getType(ge);if(i.length>0&&!e)Lm({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{const t=[];for(const n of i){const i=e.find((t=>{var e,i;return(null===(i=null===(e=t.payload)||void 0===e?void 0:e.musicFormBooleanChoice)||void 0===i?void 0:i.id)===n.form_item_entity_key})),s=null==i?void 0:i.payload.musicFormBooleanChoice;void 0!==(null==s?void 0:s.selected)&&(null==s?void 0:s.opaqueToken)?n.selected=s.selected:t.push(`'${n.title}'`)}t.length>0&&Lm({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:t.length,titles:t})}}var n_;n_=new WeakMap;const s_=class{constructor(t){if(n_.set(this,void 0),v(this,n_,cb.parseResponse(t.data),"f"),!f(this,n_,"f").contents)throw new vb("Page contents not found");const e=f(this,n_,"f").contents.array().as(Ae).first();if(!e)throw new vb("Account section list not found");this.contents=e.contents,this.footers=e.footers}get page(){return f(this,n_,"f")}};var o_;o_=new WeakMap;const r_=class{constructor(t){var e;o_.set(this,void 0),v(this,o_,cb.parseResponse(t.data),"f"),this.sections=null===(e=f(this,o_,"f").contents_memo)||void 0===e?void 0:e.getType(xr).map((t=>t.model)).flatMap((t=>t||[]))}get page(){return f(this,o_,"f")}};var a_,c_,l_,u_,h_,d_;class p_{constructor(t,e,i=!1){a_.add(this),c_.set(this,void 0),l_.set(this,void 0),u_.set(this,void 0),h_.set(this,void 0),f(this,a_,"m",d_).call(this,e)||i?v(this,c_,e,"f"):v(this,c_,cb.parseResponse(e.data),"f");const n=function(...t){const e=new w;for(const i of t)if(i)for(const t of i)e.set(...t);return e}(f(this,c_,"f").contents_memo,f(this,c_,"f").continuation_contents_memo,f(this,c_,"f").on_response_received_commands_memo,f(this,c_,"f").on_response_received_endpoints_memo,f(this,c_,"f").on_response_received_actions_memo,f(this,c_,"f").sidebar_memo,f(this,c_,"f").header_memo);if(!n)throw new vb("No memo found in feed");v(this,h_,n,"f"),v(this,u_,t,"f")}static getVideosFromMemo(t){return t.getType(Vt,fa,lp,ie,Bd,Nh,Fv)}static getPlaylistsFromMemo(t){return t.getType(Bo,ra)}get videos(){return p_.getVideosFromMemo(f(this,h_,"f"))}get posts(){return f(this,h_,"f").getType(Ti,Hd,sf)}get channels(){return f(this,h_,"f").getType(Qi,Jr)}get playlists(){return p_.getPlaylistsFromMemo(f(this,h_,"f"))}get memo(){return f(this,h_,"f")}get page_contents(){var t;const e=null===(t=f(this,h_,"f").getType(gf))||void 0===t?void 0:t.first().content,i=f(this,h_,"f").getType(Tm).first(),n=f(this,h_,"f").getType(Pe).first();return e||i||n}get shelves(){return f(this,h_,"f").getType(rf,kp,hp)}getShelf(t){return this.shelves.get({title:t})}get secondary_contents(){var t,e;if(!(null===(t=f(this,c_,"f").contents)||void 0===t?void 0:t.is_node))return;const i=null===(e=f(this,c_,"f").contents)||void 0===e?void 0:e.item();return i.is(gv,bv)?i.secondary_contents:void 0}get actions(){return f(this,u_,"f")}get page(){return f(this,c_,"f")}get has_continuation(){return(f(this,h_,"f").get("ContinuationItem")||[]).length>0}getContinuationData(){return h(this,void 0,void 0,(function*(){if(f(this,l_,"f")){if(0===f(this,l_,"f").length)throw new vb("There are no continuations.");return yield f(this,l_,"f")[0].endpoint.call(f(this,u_,"f"),{parse:!0})}if(v(this,l_,f(this,h_,"f").getType(ct),"f"),f(this,l_,"f"))return this.getContinuationData()}))}getContinuation(){return h(this,void 0,void 0,(function*(){const t=yield this.getContinuationData();if(!t)throw new vb("Could not get continuation data");return new p_(this.actions,t,!0)}))}}c_=new WeakMap,l_=new WeakMap,u_=new WeakMap,h_=new WeakMap,a_=new WeakSet,d_=function(t){return!("data"in t)};const f_=p_;var v_,m_;class __ extends f_{constructor(t,e,i=!1){var n;super(t,e,i),v_.set(this,void 0),m_.set(this,void 0),v(this,m_,t,"f"),v(this,v_,null===(n=this.page.contents_memo)||void 0===n?void 0:n.getType(gf),"f")}get tabs(){var t,e;return null!==(e=null===(t=f(this,v_,"f"))||void 0===t?void 0:t.map((t=>t.title.toString())))&&void 0!==e?e:[]}getTabByName(t){var e;return h(this,void 0,void 0,(function*(){const i=null===(e=f(this,v_,"f"))||void 0===e?void 0:e.find((e=>e.title.toLowerCase()===t.toLowerCase()));if(!i)throw new vb(`Tab "${t}" not found`);if(i.selected)return this;const n=yield i.endpoint.call(f(this,m_,"f"));return new __(f(this,m_,"f"),n,!1)}))}getTabByURL(t){var e;return h(this,void 0,void 0,(function*(){const i=null===(e=f(this,v_,"f"))||void 0===e?void 0:e.find((e=>{var i;return(null===(i=e.endpoint.metadata.url)||void 0===i?void 0:i.split("/").pop())===t}));if(!i)throw new vb(`Tab "${t}" not found`);if(i.selected)return this;const n=yield i.endpoint.call(f(this,m_,"f"));return new __(f(this,m_,"f"),n,!1)}))}hasTabWithURL(t){var e,i;return null!==(i=null===(e=f(this,v_,"f"))||void 0===e?void 0:e.some((e=>{var i;return(null===(i=e.endpoint.metadata.url)||void 0===i?void 0:i.split("/").pop())===t})))&&void 0!==i&&i}get title(){var t,e,i;return null===(i=null===(e=null===(t=this.page.contents_memo)||void 0===t?void 0:t.getType(gf))||void 0===e?void 0:e.find((t=>t.selected)))||void 0===i?void 0:i.title.toString()}}v_=new WeakMap,m_=new WeakMap;const g_=__;var y_;y_=new WeakMap;const b_=class extends f_{constructor(t,e,i=!1){super(t,e,i),y_.set(this,void 0)}get filter_chips(){var t,e;if(f(this,y_,"f"))return f(this,y_,"f")||[];if((null===(t=this.memo.getType($r))||void 0===t?void 0:t.length)>1)throw new vb("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(0===(null===(e=this.memo.getType($r))||void 0===e?void 0:e.length))throw new vb("There are no feed filter chipbars");return v(this,y_,this.memo.getType(xn),"f"),f(this,y_,"f")||[]}get filters(){return this.filter_chips.map((t=>t.text.toString()))||[]}getFilteredFeed(t){var e;return h(this,void 0,void 0,(function*(){let i;if("string"==typeof t){if(!this.filters.includes(t))throw new vb("Filter not found",{available_filters:this.filters});i=this.filter_chips.find((e=>e.text.toString()===t))}else{if("ChipCloudChip"!==t.type)throw new vb("Invalid filter");i=t}if(!i)throw new vb("Filter not found");if(i.is_selected)return this;const n=yield null===(e=i.endpoint)||void 0===e?void 0:e.call(this.actions,{parse:!0});if(!n)throw new vb("Failed to get filtered feed");return new f_(this.actions,n,!0)}))}};class w_ extends g_{constructor(t,e,i=!1){var n,s,o,r,a,c;super(t,e,i),this.header=null===(s=null===(n=this.page.header)||void 0===n?void 0:n.item())||void 0===s?void 0:s.as(Wi,Ki,Qa,od);const l=null===(o=this.page.metadata)||void 0===o?void 0:o.item().as(rn),u=null===(r=this.page.microformat)||void 0===r?void 0:r.as(xu);if(this.page.alerts){const t=this.page.alerts.first();if("ERROR"===(null==t?void 0:t.alert_type))throw new wb(t.text.toString())}if(!l&&!this.page.contents)throw new vb("Invalid channel",this);this.metadata=Object.assign(Object.assign({},l),u||{}),this.subscribe_button=null===(a=this.page.header_memo)||void 0===a?void 0:a.getType(Ui).first(),this.current_tab=null===(c=this.page.contents)||void 0===c?void 0:c.item().as(gv).tabs.array().filterType(gf,Vr).get({selected:!0})}applyFilter(t){var e;return h(this,void 0,void 0,(function*(){let i;const n=this.memo.getType($r).first();if("string"==typeof t){if(i=null==n?void 0:n.contents.get({text:t}),!i)throw new vb(`Filter ${t} not found`,{available_filters:this.filters})}else t instanceof xn&&(i=t);if(!i)throw new vb("Invalid filter",t);const s=yield null===(e=i.endpoint)||void 0===e?void 0:e.call(this.actions,{parse:!0});if(!s)throw new vb("No page returned",{filter:i});return new S_(this.actions,s,!0)}))}applySort(t){var e,i;return h(this,void 0,void 0,(function*(){const n=this.memo.getType(De).first();if(!n)throw new vb("No sort filter sub menu found");const s=null===(e=null==n?void 0:n.sub_menu_items)||void 0===e?void 0:e.find((e=>e.title===t));if(!s)throw new vb(`Sort filter ${t} not found`,{available_sort_filters:this.sort_filters});if(s.selected)return this;const o=yield null===(i=s.endpoint)||void 0===i?void 0:i.call(this.actions,{parse:!0});return new w_(this.actions,o,!0)}))}applyContentTypeFilter(t){var e,i,n,s;return h(this,void 0,void 0,(function*(){const o=null===(n=null===(i=null===(e=this.current_tab)||void 0===e?void 0:e.content)||void 0===i?void 0:i.as(xt).sub_menu)||void 0===n?void 0:n.as(dn);if(!o)throw new vb("Sub menu not found");const r=o.content_type_sub_menu_items.find((e=>e.title===t));if(!r)throw new vb(`Sub menu item ${t} not found`,{available_filters:this.content_type_filters});if(r.selected)return this;const a=yield null===(s=r.endpoint)||void 0===s?void 0:s.call(this.actions,{parse:!0});return new w_(this.actions,a,!0)}))}get filters(){var t,e;return(null===(e=null===(t=this.memo.getType($r))||void 0===t?void 0:t[0])||void 0===e?void 0:e.contents.filterType(xn).map((t=>t.text)))||[]}get sort_filters(){var t;const e=this.memo.getType(De).first();return(null===(t=null==e?void 0:e.sub_menu_items)||void 0===t?void 0:t.map((t=>t.title)))||[]}get content_type_filters(){var t,e,i;const n=null===(i=null===(e=null===(t=this.current_tab)||void 0===t?void 0:t.content)||void 0===e?void 0:e.as(xt).sub_menu)||void 0===i?void 0:i.as(dn);return(null==n?void 0:n.content_type_sub_menu_items.map((t=>t.title)))||[]}getHome(){return h(this,void 0,void 0,(function*(){const t=yield this.getTabByURL("featured");return new w_(this.actions,t.page,!0)}))}getVideos(){return h(this,void 0,void 0,(function*(){const t=yield this.getTabByURL("videos");return new w_(this.actions,t.page,!0)}))}getShorts(){return h(this,void 0,void 0,(function*(){const t=yield this.getTabByURL("shorts");return new w_(this.actions,t.page,!0)}))}getLiveStreams(){return h(this,void 0,void 0,(function*(){const t=yield this.getTabByURL("streams");return new w_(this.actions,t.page,!0)}))}getReleases(){return h(this,void 0,void 0,(function*(){const t=yield this.getTabByURL("releases");return new w_(this.actions,t.page,!0)}))}getPodcasts(){return h(this,void 0,void 0,(function*(){const t=yield this.getTabByURL("podcasts");return new w_(this.actions,t.page,!0)}))}getPlaylists(){return h(this,void 0,void 0,(function*(){const t=yield this.getTabByURL("playlists");return new w_(this.actions,t.page,!0)}))}getCommunity(){return h(this,void 0,void 0,(function*(){const t=yield this.getTabByURL("community");return new w_(this.actions,t.page,!0)}))}getChannels(){return h(this,void 0,void 0,(function*(){const t=yield this.getTabByURL("channels");return new w_(this.actions,t.page,!0)}))}getAbout(){var t;return h(this,void 0,void 0,(function*(){const e=yield this.getTabByURL("about");return null===(t=e.memo.getType(Zi))||void 0===t?void 0:t[0]}))}search(t){var e,i;return h(this,void 0,void 0,(function*(){const n=null===(e=this.memo.getType(Vr))||void 0===e?void 0:e[0];if(!n)throw new vb("Search tab not found",this);const s=yield null===(i=n.endpoint)||void 0===i?void 0:i.call(this.actions,{query:t,parse:!0});return new w_(this.actions,s,!0)}))}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_channels(){return this.hasTabWithURL("channels")}get has_about(){return this.hasTabWithURL("about")}get has_search(){var t;return(null===(t=this.memo.getType(Vr))||void 0===t?void 0:t.length)>0}getContinuation(){const t=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return h(this,void 0,void 0,(function*(){const e=yield t.getContinuationData.call(this);if(!e)throw new vb("Could not get continuation data");return new x_(this.actions,e,!0)}))}}class x_ extends f_{constructor(t,e,i=!1){var n,s;super(t,e,i),this.contents=(null===(n=this.page.on_response_received_actions)||void 0===n?void 0:n.first())||(null===(s=this.page.on_response_received_endpoints)||void 0===s?void 0:s.first())}getContinuation(){const t=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return h(this,void 0,void 0,(function*(){const e=yield t.getContinuationData.call(this);if(!e)throw new vb("Could not get continuation data");return new x_(this.actions,e,!0)}))}}class S_ extends b_{constructor(t,e,i=!1){super(t,e,i),this.applied_filter=this.memo.getType(xn).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=this.page.on_response_received_actions.first()}applyFilter(t){const e=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return h(this,void 0,void 0,(function*(){const i=yield e.getFilteredFeed.call(this,t);return new S_(this.actions,i.page,!0)}))}getContinuation(){const t=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return h(this,void 0,void 0,(function*(){const e=yield t.getContinuationData.call(this);if(!(null==e?void 0:e.on_response_received_actions_memo))throw new vb("Unexpected continuation data",e);return e.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType($r)),e.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(xn)),new S_(this.actions,e,!0)}))}}var T_,I_,C_;class k_{constructor(t,e,i=!1){var n,s,o;T_.set(this,void 0),I_.set(this,void 0),C_.set(this,void 0),v(this,T_,i?e:cb.parseResponse(e),"f"),v(this,I_,t,"f");const r=f(this,T_,"f").on_response_received_endpoints;if(!r)throw new vb("Comments page did not have any content.");const a=r.at(0),c=r.at(1);this.header=null===(n=null==a?void 0:a.contents)||void 0===n?void 0:n.firstOfType(wo);const l=(null===(s=null==c?void 0:c.contents)||void 0===s?void 0:s.filterType(ko))||[];this.contents=b(l.map((t=>{var e;return null===(e=t.comment)||void 0===e||e.setActions(f(this,I_,"f")),t.setActions(f(this,I_,"f")),t}))),v(this,C_,null===(o=null==c?void 0:c.contents)||void 0===o?void 0:o.firstOfType(ct),"f")}applySort(t){var e,i,n,s;return h(this,void 0,void 0,(function*(){if(!this.header)throw new vb("Page header is missing. Cannot apply sort option.");let o;if("TOP_COMMENTS"===t?o=null===(i=null===(e=this.header.sort_menu)||void 0===e?void 0:e.sub_menu_items)||void 0===i?void 0:i.at(0):"NEWEST_FIRST"===t&&(o=null===(s=null===(n=this.header.sort_menu)||void 0===n?void 0:n.sub_menu_items)||void 0===s?void 0:s.at(1)),!o)throw new vb("Could not find target button.");if(o.selected)return this;const r=yield o.endpoint.call(f(this,I_,"f"),{parse:!0});return new k_(f(this,I_,"f"),r,!0)}))}createComment(t){var e;return h(this,void 0,void 0,(function*(){if(!this.header)throw new vb("Page header is missing. Cannot create comment.");const i=null===(e=this.header.create_renderer)||void 0===e?void 0:e.as(So).submit_button;if(!i)throw new vb("Could not find target button. You are probably not logged in.");if(!i.endpoint)throw new vb("Button does not have an endpoint.");return yield i.endpoint.call(f(this,I_,"f"),{commentText:t})}))}getContinuation(){return h(this,void 0,void 0,(function*(){if(!f(this,C_,"f"))throw new vb("Continuation not found");const t=yield f(this,C_,"f").endpoint.call(f(this,I_,"f"),{parse:!0}),e=Object.assign({},f(this,T_,"f"));if(!e.on_response_received_endpoints||!t.on_response_received_endpoints)throw new vb("Invalid reponse format, missing on_response_received_endpoints.");return e.on_response_received_endpoints.pop(),e.on_response_received_endpoints.push(t.on_response_received_endpoints[0]),new k_(f(this,I_,"f"),e,!0)}))}get has_continuation(){return!!f(this,C_,"f")}get page(){return f(this,T_,"f")}}T_=new WeakMap,I_=new WeakMap,C_=new WeakMap;const E_=k_;var R_;R_=new WeakMap;const A_=class{constructor(t){R_.set(this,void 0),v(this,R_,Km(t),"f"),this.contents=f(this,R_,"f").items.array().as(Ta,Ca)}get page(){return f(this,R_,"f")}};class M_ extends f_{constructor(t,e,i=!1){super(t,e,i),this.sections=this.memo.getType(oc),this.feed_actions=this.memo.getType(Ei).first()}getContinuation(){return h(this,void 0,void 0,(function*(){const t=yield this.getContinuationData();if(!t)throw new Error("No continuation data found");return new M_(this.actions,t,!0)}))}}const P_=M_;class O_ extends b_{constructor(t,e,i=!1){super(t,e,i),this.header=this.memo.getType(Yr).first(),this.contents=this.memo.getType(vp).first()||this.page.on_response_received_actions.first()}applyFilter(t){const e=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return h(this,void 0,void 0,(function*(){const i=yield e.getFilteredFeed.call(this,t);return new O_(this.actions,i.page,!0)}))}getContinuation(){const t=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});var e;return h(this,void 0,void 0,(function*(){const i=yield t.getContinuation.call(this);return i.page.header=this.page.header,null===(e=i.page.header_memo)||void 0===e||e.set(this.header.type,[this.header]),new O_(this.actions,i.page,!0)}))}}class D_ extends b_{constructor(t,e){if(super(t,e),!this.page.contents_memo)throw new vb("Unexpected response",this.page);const i=this.page.contents_memo.getType(gf).first();if(!i.content)throw new vb("Content tab has no content",i);this.page.header&&(this.header=this.page.header.item().as(Ea,od)),this.contents=i.content.as(vp)}applyFilter(t){const e=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return h(this,void 0,void 0,(function*(){const i=yield e.getFilteredFeed.call(this,t);return new D_(this.actions,i.page)}))}}var N_,L_,B_;N_=new WeakMap,L_=new WeakMap,B_=new WeakMap;const V_=class{constructor(t,e){N_.set(this,void 0),L_.set(this,void 0),B_.set(this,void 0),v(this,N_,t,"f"),v(this,L_,e,"f");const i=null==t?void 0:t.live_chat_item_context_menu_supported_renderers;if(!i||!i.is(dt))throw new vb('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');v(this,B_,i.as(dt).items,"f")}selectItem(t){return h(this,void 0,void 0,(function*(){let e;if(t instanceof R){if(!t.endpoint)throw new vb("Item does not have an endpoint.");e=t.endpoint}else{const i=f(this,B_,"f").find((e=>!!e.is(zl)&&e.as(zl).icon_type===t));if(!i||!i.is(zl))throw new vb(`Button "${t}" not found.`);e=i.endpoint}if(!e)throw new vb("Target button does not have an endpoint.");return yield e.call(f(this,L_,"f"),{parse:!0})}))}items(){return f(this,B_,"f")}page(){return f(this,N_,"f")}};var U_,j_;class W_ extends f_{constructor(t,e,i=!1){var n,s,o,r,a;super(t,e,i),U_.add(this);const c=this.memo.getType(Id).first(),l=this.memo.getType(Od).first(),u=this.memo.getType(Nd).first(),h=null===(n=this.page.alerts)||void 0===n?void 0:n.firstOfType(st);if(h&&"ERROR"===h.alert_type)throw new vb(h.text.toString(),h);if(!l&&!u&&0===Object.keys(this.page).length)throw new vb("Got empty continuation response. This is likely the end of the playlist.");this.info=Object.assign(Object.assign({},null===(s=this.page.metadata)||void 0===s?void 0:s.item().as(Rd)),{subtitle:c?c.subtitle:null,author:null!==(r=null===(o=null==u?void 0:u.owner)||void 0===o?void 0:o.as(Lv).author)&&void 0!==r?r:null==c?void 0:c.author,thumbnails:null===(a=null==l?void 0:l.thumbnail_renderer)||void 0===a?void 0:a.as(No,Oo).thumbnail,total_items:f(this,U_,"m",j_).call(this,0,l),views:f(this,U_,"m",j_).call(this,1,l),last_updated:f(this,U_,"m",j_).call(this,2,l),can_share:null==c?void 0:c.can_share,can_delete:null==c?void 0:c.can_delete,is_editable:null==c?void 0:c.is_editable,privacy:null==c?void 0:c.privacy}),this.menu=null==l?void 0:l.menu,this.endpoint=null==l?void 0:l.endpoint,this.messages=this.memo.getType(Qo)}get items(){return this.videos}getContinuation(){return h(this,void 0,void 0,(function*(){const t=yield this.getContinuationData();if(!t)throw new vb("Could not get continuation data");return new W_(this.actions,t,!0)}))}}U_=new WeakSet,j_=function(t,e){var i;return e&&e.stats&&(null===(i=e.stats[t])||void 0===i?void 0:i.toString())||"N/A"};const F_=W_;var H_,$_;H_=new WeakSet,$_=function(t){var e;return h(this,void 0,void 0,(function*(){if(!(null===(e=t.menu)||void 0===e?void 0:e.as(dt).hasKey("top_level_buttons")))throw new vb(`The ${t.title.text} shelf doesn't have more items`);const i=t.menu.as(dt).top_level_buttons.firstOfType(R);if(!i)throw new vb("Did not find target button.");const n=yield i.as(R).endpoint.call(this.actions,{parse:!0});switch(t.icon_type){case"LIKE":case"WATCH_LATER":return new F_(this.actions,n,!0);case"WATCH_HISTORY":return new P_(this.actions,n,!0);case"CONTENT_CUT":return new f_(this.actions,n,!0);default:throw new vb("Target shelf not implemented.")}}))};const G_=class extends f_{constructor(t,e){if(super(t,e),H_.add(this),!this.page.contents_memo)throw new vb("Page contents not found");const i=this.page.contents_memo.getType(Zd).first(),n=this.page.contents_memo.getType(np).first();this.profile={stats:i,user_info:n};const s=this.page.contents_memo.getType(rf);this.sections=s.map((t=>{var e;return{type:t.icon_type,title:t.title,contents:(null===(e=t.content)||void 0===e?void 0:e.key("items").array())||[],getAll:()=>f(this,H_,"m",$_).call(this,t)}}))}get history(){return this.sections.find((t=>"WATCH_HISTORY"===t.type))}get watch_later(){return this.sections.find((t=>"WATCH_LATER"===t.type))}get liked_videos(){return this.sections.find((t=>"LIKE"===t.type))}get playlists_section(){return this.sections.find((t=>"PLAYLISTS"===t.type))}get clips(){return this.sections.find((t=>"CONTENT_CUT"===t.type))}};var Y_;class K_ extends EventTarget{constructor(){super(),Y_.set(this,new Map)}emit(t,...e){const i=new fb.shim.CustomEvent(t,{detail:e});this.dispatchEvent(i)}on(t,e){const i=t=>{t instanceof fb.shim.CustomEvent?e(...t.detail):e(t)};f(this,Y_,"f").set(e,i),this.addEventListener(t,i)}once(t,e){const i=i=>{i instanceof fb.shim.CustomEvent?e(...i.detail):e(i),this.off(t,e)};f(this,Y_,"f").set(e,i),this.addEventListener(t,i)}off(t,e){const i=f(this,Y_,"f").get(e);i&&(this.removeEventListener(t,i),f(this,Y_,"f").delete(e))}}Y_=new WeakMap;const z_=K_;var q_,X_,Q_,J_,Z_,tg;class eg{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}}q_=new WeakMap,X_=new WeakMap,Q_=new WeakMap,J_=new WeakMap,Z_=new WeakMap,tg=new WeakMap;const ig=class{constructor(){q_.set(this,void 0),X_.set(this,void 0),Q_.set(this,void 0),J_.set(this,void 0),Z_.set(this,void 0),tg.set(this,void 0),v(this,q_,null,"f"),v(this,X_,null,"f"),v(this,Q_,null,"f"),v(this,J_,[],"f"),v(this,Z_,null,"f"),v(this,tg,new eg,"f")}enqueueActionGroup(t){if(null!==f(this,q_,"f")){const t=Date.now()-f(this,q_,"f");f(this,tg,"f").back.push(t),5<f(this,tg,"f").front.length+f(this,tg,"f").back.length&&(f(this,tg,"f").front.length||(f(this,tg,"f").front=f(this,tg,"f").back,f(this,tg,"f").front.reverse(),f(this,tg,"f").back=[]),f(this,tg,"f").front.pop()),v(this,X_,Math.max(...f(this,tg,"f").getValues()),"f")}v(this,q_,Date.now(),"f"),f(this,J_,"f").push(t),null===f(this,Z_,"f")&&v(this,Z_,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(v(this,Z_,null,"f"),f(this,J_,"f").length){let t=1e4;null!==f(this,X_,"f")&&null!==f(this,q_,"f")&&(t=f(this,X_,"f")-Date.now()+f(this,q_,"f")),t=f(this,J_,"f").length<t/80?1:Math.ceil(f(this,J_,"f").length/(t/80));const e=function(t){const e=[];for(const i of t)if(Array.isArray(i))for(const t of i)e.push(t);else e.push(i);return e}(f(this,J_,"f").splice(0,t));f(this,Q_,"f")&&f(this,Q_,"f").call(this,e),null!==f(this,J_,"f")&&(1==t?(t=f(this,X_,"f")/f(this,J_,"f").length,t*=Math.random()+.5,t=Math.min(1e3,t),t=Math.max(80,t)):t=80,v(this,Z_,setTimeout(this.emitSmoothedActions.bind(this),t),"f"))}}clear(){null!==f(this,Z_,"f")&&(clearTimeout(f(this,Z_,"f")),v(this,Z_,null,"f")),v(this,J_,[],"f")}set callback(t){v(this,Q_,t,"f")}get callback(){return f(this,Q_,"f")}get action_queue(){return f(this,J_,"f")}get estimated_update_interval(){return f(this,X_,"f")}get last_update_time(){return f(this,q_,"f")}get next_update_id(){return f(this,Z_,"f")}get poll_response_delay_queue(){return f(this,tg,"f")}};var ng,sg,og,rg,ag,cg,lg,ug,hg,dg,pg;sg=new WeakMap,og=new WeakMap,rg=new WeakMap,ag=new WeakMap,cg=new WeakMap,lg=new WeakMap,ng=new WeakSet,ug=function t(){(()=>{h(this,void 0,void 0,(function*(){var e,i;try{const e=yield f(this,sg,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:f(this,ag,"f"),parse:!0}),i=e.continuation_contents;if(i||(this.emit("error",new vb("Unexpected live chat incremental continuation response",e)),this.emit("end"),this.stop()),!(i instanceof Mm))return this.stop(),void this.emit("end");v(this,ag,i.continuation.token,"f"),i.header?(this.initial_info=i,this.emit("start",i),this.running&&f(this,ng,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(i.actions),v(this,lg,0,"f")}catch(n){this.emit("error",n),v(this,lg,(i=f(this,lg,"f"),e=i++,i),"f"),e<10?(yield f(this,ng,"m",pg).call(this,2e3),f(this,ng,"m",t).call(this)):(this.emit("error",new vb("Reached retry limit for incremental continuation requests",n)),this.emit("end"),this.stop())}}))})()},hg=function(t){return h(this,void 0,void 0,(function*(){let e=t.length<125?1:Math.ceil(t.length/125);const i=1==e?(e=1e4/t.length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80;for(const e of t)yield f(this,ng,"m",pg).call(this,i),this.emit("chat-update",e)}))},dg=function t(){(()=>{h(this,void 0,void 0,(function*(){var e,i,n,s,o,r,a,c,l,u,h;try{const d={videoId:f(this,og,"f")};f(this,cg,"f")&&(d.continuation=f(this,cg,"f"));const p=yield f(this,sg,"f").execute("/updated_metadata",d),m=cb.parseResponse(p.data);v(this,cg,null===(e=m.continuation)||void 0===e?void 0:e.token,"f"),this.metadata={title:(null===(i=m.actions)||void 0===i?void 0:i.array().firstOfType(Cl))||(null===(n=this.metadata)||void 0===n?void 0:n.title),description:(null===(s=m.actions)||void 0===s?void 0:s.array().firstOfType(xl))||(null===(o=this.metadata)||void 0===o?void 0:o.description),views:(null===(r=m.actions)||void 0===r?void 0:r.array().firstOfType(Al))||(null===(a=this.metadata)||void 0===a?void 0:a.views),likes:(null===(c=m.actions)||void 0===c?void 0:c.array().firstOfType(El))||(null===(l=this.metadata)||void 0===l?void 0:l.likes),date:(null===(u=m.actions)||void 0===u?void 0:u.array().firstOfType(bl))||(null===(h=this.metadata)||void 0===h?void 0:h.date)},this.emit("metadata-update",this.metadata),yield f(this,ng,"m",pg).call(this,5e3),this.running&&f(this,ng,"m",t).call(this)}catch(e){yield f(this,ng,"m",pg).call(this,2e3),this.running&&f(this,ng,"m",t).call(this)}}))})()},pg=function(t){return h(this,void 0,void 0,(function*(){return new Promise((e=>setTimeout((()=>e()),t)))}))};const fg=class extends z_{constructor(t){var e,i;super(),ng.add(this),sg.set(this,void 0),og.set(this,void 0),rg.set(this,void 0),ag.set(this,void 0),cg.set(this,void 0),lg.set(this,0),this.running=!1,this.is_replay=!1,v(this,og,t.basic_info.id,"f"),v(this,rg,t.basic_info.channel_id,"f"),v(this,sg,t.actions,"f"),v(this,ag,null===(e=t.livechat)||void 0===e?void 0:e.continuation,"f"),this.is_replay=(null===(i=t.livechat)||void 0===i?void 0:i.is_replay)||!1,this.smoothed_queue=new ig,this.smoothed_queue.callback=t=>h(this,void 0,void 0,(function*(){t.length?t.length<10?yield f(this,ng,"m",hg).call(this,t):this.is_replay?(f(this,ng,"m",hg).call(this,t),yield f(this,ng,"m",pg).call(this,2e3)):f(this,ng,"m",hg).call(this,t):yield f(this,ng,"m",pg).call(this,2e3),this.running&&f(this,ng,"m",ug).call(this)}))}on(t,e){super.on(t,e)}once(t,e){super.once(t,e)}start(){this.running||(this.running=!0,f(this,ng,"m",ug).call(this),f(this,ng,"m",dg).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(t){return h(this,void 0,void 0,(function*(){const e=yield f(this,sg,"f").execute("/live_chat/send_message",{params:Js(f(this,rg,"f"),f(this,og,"f")),richMessage:{textSegments:[{text:t}]},clientMessageId:fb.shim.uuidv4(),client:"ANDROID",parse:!0});if(!e.actions)throw new vb("Unexpected response from send_message",e);return e.actions.array().as(_c)}))}applyFilter(t){var e,i,n,s,o,r,a;if(!this.initial_info)throw new vb("Cannot apply filter before initial info is retrieved.");const c=null===(n=null===(i=null===(e=this.initial_info)||void 0===e?void 0:e.header)||void 0===i?void 0:i.view_selector)||void 0===n?void 0:n.sub_menu_items;if("TOP_CHAT"===t){if(null===(s=null==c?void 0:c.at(0))||void 0===s?void 0:s.selected)return;v(this,ag,null===(o=null==c?void 0:c.at(0))||void 0===o?void 0:o.continuation,"f")}else{if(null===(r=null==c?void 0:c.at(1))||void 0===r?void 0:r.selected)return;v(this,ag,null===(a=null==c?void 0:c.at(1))||void 0===a?void 0:a.continuation,"f")}}getItemMenu(t){return h(this,void 0,void 0,(function*(){if(!t.hasKey("menu_endpoint")||!t.key("menu_endpoint").isInstanceof(U))throw new vb("This item does not have a menu.",t);const e=yield t.key("menu_endpoint").instanceof(U).call(f(this,sg,"f"),{parse:!0});if(!e)throw new vb("Could not retrieve item menu.",t);return new V_(e,f(this,sg,"f"))}))}selectButton(t){return h(this,void 0,void 0,(function*(){return yield t.endpoint.call(f(this,sg,"f"),{parse:!0})}))}};var vg,mg;class _g{constructor(t,e){vg.set(this,void 0),mg.set(this,void 0),v(this,mg,t,"f"),v(this,vg,cb.parseResponse(e.data),"f"),this.header=f(this,vg,"f").actions_memo.getType(cu).first(),this.contents=f(this,vg,"f").actions_memo.getType(ed)}getContinuation(){return h(this,void 0,void 0,(function*(){const t=f(this,vg,"f").actions_memo.getType(ct).first();if(!t)throw new vb("Continuation not found");const e=yield t.endpoint.call(f(this,mg,"f"),{parse:!1});return new _g(f(this,mg,"f"),e)}))}get page(){return f(this,vg,"f")}}vg=new WeakMap,mg=new WeakMap;const gg=_g;class yg extends f_{constructor(t,e,i=!1){var n,s,o,r,a,c;super(t,e,i);const l=(null===(n=this.page.contents_memo)||void 0===n?void 0:n.getType(xt).first().contents)||(null===(s=this.page.on_response_received_commands)||void 0===s?void 0:s.first().contents);if(!l)throw new vb("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(Bp)),this.results=null===(o=l.find((t=>t.is(oc)&&t.contents&&t.contents.length>0)))||void 0===o?void 0:o.as(oc).contents,this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.sub_menu=null===(r=this.page.contents_memo)||void 0===r?void 0:r.getType(Up).first(),this.watch_card=null===(a=this.page.contents_memo)||void 0===a?void 0:a.getType(Cv).first(),this.refinement_cards=null===(c=this.results)||void 0===c?void 0:c.firstOfType(Ft)}selectRefinementCard(t){var e,i;return h(this,void 0,void 0,(function*(){let n;if("string"==typeof t){if(!this.refinement_cards)throw new vb("No refinement cards found.");if(n=null===(i=null===(e=this.refinement_cards)||void 0===e?void 0:e.cards.get({query:t}))||void 0===i?void 0:i.as(Ct),!n)throw new vb(`Refinement card "${t}" not found`,{available_cards:this.refinement_card_queries})}else{if("SearchRefinementCard"!==t.type)throw new vb("Invalid refinement card!");n=t}const s=yield n.endpoint.call(this.actions,{parse:!0});return new yg(this.actions,s,!0)}))}get refinement_card_queries(){var t;return(null===(t=this.refinement_cards)||void 0===t?void 0:t.cards.as(Ct).map((t=>t.query)))||[]}getContinuation(){return h(this,void 0,void 0,(function*(){const t=yield this.getContinuationData();if(!t)throw new vb("Could not get continuation data");return new yg(this.actions,t,!0)}))}}const bg=yg;var wg,xg;class Sg{constructor(t,e){var i,n,s,o;if(wg.set(this,void 0),xg.set(this,void 0),v(this,xg,t,"f"),v(this,wg,cb.parseResponse(e.data),"f"),this.sidebar=null===(i=f(this,wg,"f").sidebar)||void 0===i?void 0:i.as(ef),!f(this,wg,"f").contents)throw new vb("Page contents not found");const r=f(this,wg,"f").contents.item().as(gv).tabs.array().as(gf).get({selected:!0});if(!r)throw new vb("Target tab not found");const a=null===(n=r.content)||void 0===n?void 0:n.as(xt).contents.as(oc);this.introduction=null===(o=null===(s=null==a?void 0:a.shift())||void 0===s?void 0:s.contents)||void 0===o?void 0:o.firstOfType(ad),this.sections=null==a?void 0:a.map((t=>{var e;return{title:(null===(e=t.header)||void 0===e?void 0:e.title.toString())||null,contents:t.contents}}))}selectSidebarItem(t){return h(this,void 0,void 0,(function*(){if(!this.sidebar)throw new vb("Sidebar not available");let e;if("string"==typeof t){if(e=this.sidebar.items.get({title:t}),!e)throw new vb(`Item "${t}" not found`,{available_items:this.sidebar_items})}else{if(!(null==t?void 0:t.is(Mo)))throw new vb("Invalid item",{target_item:t});e=t}const i=yield e.endpoint.call(f(this,xg,"f"),{parse:!1});return new Sg(f(this,xg,"f"),i)}))}getSettingOption(t){var e;if(!this.sections)throw new vb("Sections not available");for(const i of this.sections)if(i.contents)for(const n of i.contents){const i=n.as(Zp).options;if(i)for(const n of i)if(n.is(Qp)&&(null===(e=n.title)||void 0===e?void 0:e.toString())===t)return n}throw new vb(`Option "${t}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new vb("Sections not available");let t=[];for(const e of this.sections)if(e.contents)for(const i of e.contents)i.as(Zp).options&&(t=t.concat(i.as(Zp).options));return t.map((t=>{var e;return null===(e=t.title)||void 0===e?void 0:e.toString()})).filter((t=>t))}get sidebar_items(){if(!this.sidebar)throw new vb("Sidebar not available");return this.sidebar.items.map((t=>t.title.toString()))}get page(){return f(this,wg,"f")}}wg=new WeakMap,xg=new WeakMap;const Tg=Sg;var Ig;Ig=new WeakMap;const Cg=class{constructor(t){var e;if(Ig.set(this,void 0),v(this,Ig,cb.parseResponse(t.data),"f"),!f(this,Ig,"f").contents)throw new vb("Page contents not found");const i=f(this,Ig,"f").contents.item().as(bf).tabs.get({selected:!0});if(!i)throw new vb("Could not find target tab.");this.contents=null===(e=i.content)||void 0===e?void 0:e.as(xt).contents.as(oc)}get page(){return f(this,Ig,"f")}},kg={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function Eg(t){return t.replace(/([&"<>'])/g,((t,e)=>kg[e]))}function Rg(t,e,...i){const n=i.flat().map((t=>"string"==typeof t?{type:"TEXT_ELEMENT",props:{nodeValue:t}}:t));return"function"==typeof t?t(Object.assign(Object.assign({},e),{children:n})):{type:(s=t,"mpd"===s?"MPD":"base-url"===s?"BaseURL":s.split("-").map((t=>t.charAt(0).toUpperCase()+t.slice(1))).join("")),props:Object.assign(Object.assign({},e),{children:n})};var s}function Ag(t){return h(this,void 0,void 0,(function*(){if("TEXT_ELEMENT"===t.type)return Eg("string"==typeof t.props.nodeValue?t.props.nodeValue:"");let e=`<${t.type}`;if(t.props){const i=Object.keys(t.props).filter((e=>!["children","nodeValue"].includes(e)&&void 0!==t.props[e])).map((e=>`${e}="${Eg(`${t.props[e]}`)}"`));i.length>0&&(e+=` ${i.join(" ")}`)}if(t.props.children){const i=yield Promise.all((yield Promise.all(t.props.children.flat())).flat().filter((t=>!!t)).map((t=>Ag(t))));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`}))}function Mg(t){return h(this,void 0,void 0,(function*(){return`<?xml version="1.0" encoding="utf-8"?>${yield Ag(yield t)}`}))}function Pg(t){return t.children}var Og;Og=new WeakMap;const Dg=class{constructor(t,e){Og.set(this,void 0),v(this,Og,new fb.shim.Cache(t,e),"f")}get cache_dir(){return f(this,Og,"f").cache_dir}get(t){return f(this,Og,"f").get(t)}set(t,e){return f(this,Og,"f").set(t,e)}remove(t){return f(this,Og,"f").remove(t)}};var Ng,Lg,Bg,Vg,Ug;Lg=new WeakMap,Bg=new WeakMap,Vg=new WeakMap,Ng=new WeakSet,Ug=function(t,e){switch("ANDROID"!==e&&"YTMUSIC_ANDROID"!==e&&"YTMUSIC_ANDROID"!==e&&"YTSTUDIO_ANDROID"!==e||(t.client.androidSdkVersion=T.ANDROID.SDK_VERSION,t.client.userAgent=T.ANDROID.USER_AGENT,t.client.osName="Android",t.client.osVersion="10",t.client.platform="MOBILE"),e){case"iOS":t.client.deviceModel=T.iOS.DEVICE_MODEL,t.client.clientVersion=T.iOS.VERSION,t.client.clientName=T.iOS.NAME,t.client.platform="MOBILE";break;case"YTMUSIC":t.client.clientVersion=T.YTMUSIC.VERSION,t.client.clientName=T.YTMUSIC.NAME;break;case"ANDROID":t.client.clientVersion=T.ANDROID.VERSION,t.client.clientFormFactor="SMALL_FORM_FACTOR",t.client.clientName=T.ANDROID.NAME;break;case"YTMUSIC_ANDROID":t.client.clientVersion=T.YTMUSIC_ANDROID.VERSION,t.client.clientFormFactor="SMALL_FORM_FACTOR",t.client.clientName=T.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":t.client.clientVersion=T.YTSTUDIO_ANDROID.VERSION,t.client.clientFormFactor="SMALL_FORM_FACTOR",t.client.clientName=T.YTSTUDIO_ANDROID.NAME;break;case"TV_EMBEDDED":t.client.clientName=T.TV_EMBEDDED.NAME,t.client.clientVersion=T.TV_EMBEDDED.VERSION,t.client.clientScreen="EMBED",t.thirdParty={embedUrl:x.YT_BASE};break;case"YTKIDS":t.client.clientVersion=T.WEB_KIDS.VERSION,t.client.clientName=T.WEB_KIDS.NAME,t.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}}}};const jg=class{constructor(t,e,i){Ng.add(this),Lg.set(this,void 0),Bg.set(this,void 0),Vg.set(this,void 0),v(this,Lg,t,"f"),v(this,Bg,e,"f"),v(this,Vg,i||fb.shim.fetch,"f")}get fetch_function(){return f(this,Vg,"f")}fetch(t,e){return h(this,void 0,void 0,(function*(){const i=x.API.PRODUCTION_1+f(this,Lg,"f").api_version,n=(null==e?void 0:e.baseURL)||i,s="string"==typeof t?n.endsWith("/")||t.startsWith("/")?new URL(n+t):new URL(`${n}/${t}`):t instanceof URL?t:new URL(t.url,n),o=(null==e?void 0:e.headers)||(t instanceof fb.shim.Request?t.headers:new fb.shim.Headers)||new fb.shim.Headers,r=(null==e?void 0:e.body)||(t instanceof fb.shim.Request?t.body:void 0),a=new fb.shim.Headers(o);a.set("Accept","*/*"),a.set("Accept-Language","*"),a.set("X-Goog-Visitor-Id",f(this,Lg,"f").context.client.visitorData||""),a.set("X-Origin",s.origin),a.set("X-Youtube-Client-Version",f(this,Lg,"f").context.client.clientVersion||""),fb.shim.server&&(a.set("User-Agent",Ib("desktop")),a.set("origin",s.origin)),s.searchParams.set("key",f(this,Lg,"f").key),s.searchParams.set("prettyPrint","false"),s.searchParams.set("alt","json");const c=a.get("Content-Type");let l=r,u=!1;const d=n===i||n===x.YT_UPLOAD;if("application/json"===c&&d&&"string"==typeof r){const t=JSON.parse(r),e=Object.assign(Object.assign({},t),{context:JSON.parse(JSON.stringify(f(this,Lg,"f").context))});f(this,Ng,"m",Ug).call(this,e.context,e.client),a.set("x-youtube-client-version",e.context.client.clientVersion),delete e.client,fb.shim.server&&("ANDROID"===e.context.client.clientName||"ANDROID_MUSIC"===e.context.client.clientName?a.set("User-Agent",T.ANDROID.USER_AGENT):"iOS"===e.context.client.clientName&&a.set("User-Agent",T.iOS.USER_AGENT)),u="WEB_KIDS"===e.context.client.clientName,l=JSON.stringify(e)}if(f(this,Lg,"f").logged_in&&d&&!u){const t=f(this,Lg,"f").oauth;if(t.validateCredentials()&&(yield t.refreshIfRequired(),a.set("authorization",`Bearer ${t.credentials.access_token}`),s.searchParams.delete("key")),f(this,Bg,"f")){const t=Sb(f(this,Bg,"f"),"PAPISID=",";");t&&(a.set("authorization",yield function(t){return h(this,void 0,void 0,(function*(){const e=Math.floor((new Date).getTime()/1e3),i=[e,t,"https://www.youtube.com"].join(" ");return["SAPISIDHASH",[e,yield fb.shim.sha1Hash(i)].join("_")].join(" ")}))}(t)),a.set("x-goog-authuser",f(this,Lg,"f").account_index.toString())),a.set("cookie",f(this,Bg,"f"))}}const p=new fb.shim.Request(s,t instanceof fb.shim.Request?t:e),v=yield f(this,Vg,"f").call(this,p,{body:l,headers:a,credentials:"include",redirect:t instanceof fb.shim.Request?t.redirect:(null==e?void 0:e.redirect)||"follow"});if(v.ok)return v;throw new vb(`Request to ${v.url} failed with status ${v.status}`,yield v.text())}))}};function Wg(t,e){if(t.length>1&&1===new Set(t.map((t=>Sb(t.mime_type,'codecs="','"')))).size)return e.push("codecs"),Sb(t[0].mime_type,'codecs="','"')}function Fg(t,e,i){if(t.length>1&&1===new Set(t.map((t=>t.fps))).size)return i.push(e),Number(t[0][e])}function Hg(t,e){if(t.length>1&&1===new Set(t.map((t=>t.audio_channels||2))).size)return e.push("AudioChannelConfiguration"),t[0].audio_channels}function $g(t,e,i,n,s){const o=new URL(t.decipher(n));o.searchParams.set("cpn",s||"");const r=e(o).toString();if(t.is_type_otf){if(!i)throw new vb("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});const e={is_oft:!0,getSegmentTemplate:()=>function(t,e){var i;return h(this,void 0,void 0,(function*(){const n=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:I,redirect:"follow"}),s=n.url.replace("&rn=0","").replace("&sq=0",""),o=yield n.text(),r=null===(i=Sb(o,"Segment-Durations-Ms:","\r\n"))||void 0===i?void 0:i.split(",");if(!r)throw new vb("Failed to extract the segment durations from this OTF stream",{url:t});const a=[];for(const t of r){const e=t.trim();if(0===e.length)continue;let i;const n=Sb(e,"(r=",")");n&&(i=parseInt(n)),a.push({duration:parseInt(e),repeat_count:i})}return{init_url:`${s}&sq=0`,media_url:`${s}&sq=$Number$`,timeline:a}}))}(r,i)};return e}if(!t.index_range||!t.init_range)throw new vb("Index and init ranges not available",{format:t});return{is_oft:!1,base_url:r,index_range:t.index_range,init_range:t.init_range}}function Gg(t){const{audio_track:e}=t;if(e)return e.audio_is_default?"main":t.is_dubbed?"dub":t.is_descriptive?"description":"alternate"}const Yg={BT709:"1",BT2020:"9"},Kg={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},zg={BT709:"1",BT2020_NCL:"14"};function qg(t,e,i,n){const s=function(t){var e;const i=new Map;for(const n of t.boards){const t=new URL(n.template_url).pathname.split(".").pop(),s=`image/${"jpg"===t?"jpeg":t}`;i.has(s)||i.set(s,[]),null===(e=i.get(s))||void 0===e||e.push(n)}return i}(i),o={};return Array.from(s.entries()).map((([i,s])=>({probable_mime_type:i,getMimeType:()=>function(t,e,i,n,s){return h(this,void 0,void 0,(function*(){const o=e.template_url,r=i(new URL(o.replace("$M","0"))),a=s.response?s.response:t.session.http.fetch_function(r,{method:"HEAD",headers:I});return s.response=a,(yield a).headers.get("Content-Type")||n}))}(e,s[0],n,i,o),representations:s.map((i=>function(t,e,i,n,s){const o=i.template_url,r=new URL(o.replace("$M","$Number$")),a={uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate:()=>function(t,e,i){return h(this,void 0,void 0,(function*(){const n=e.template_url,s=[],o=Math.min(e.storyboard_count,10);for(let e=0;e<o;e++){const o=new URL(n.replace("$M",e.toString())),r=0===e&&i.response?i.response:t.session.http.fetch_function(o,{method:"HEAD",headers:I});0===e&&(i.response=r),s.push(r)}const r=yield Promise.all(s),a=[];for(const t of r)a.push(parseInt(t.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...a)/(e.rows*e.columns)*8)}))}(e,i,s),sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:t/i.storyboard_count,template_url:n(r).toString(),getURL:t=>r.toString().replace("$Number$",t.toString())};return a}(t,e,i,n,o)))})))}function Xg(t,e=(t=>t),i,n,s,o,r){if(!t)throw new vb("Streaming data not available");const a=i?t.adaptive_formats.filter((t=>!i(t))):t.adaptive_formats,c=a[0].approx_duration_ms/1e3,{groups:l,has_multiple_audio_tracks:u}=function(t){var e,i,n;const s=new Map,o=t.some((t=>!!t.audio_track));for(const o of t){if(!(o.index_range&&o.init_range||o.is_type_otf))continue;const t=`${o.mime_type.split(";")[0]}-${null===(e=Sb(o.mime_type,'codecs="','"'))||void 0===e?void 0:e.split(".")[0]}-${o.color_info?Object.values(o.color_info).join("-"):""}-${(null===(i=o.audio_track)||void 0===i?void 0:i.id)||""}`;s.has(t)||s.set(t,[]),null===(n=s.get(t))||void 0===n||n.push(o)}return{groups:Array.from(s.values()),has_multiple_audio_tracks:o}}(a),{video_groups:h,audio_groups:d}=l.reduce(((t,e)=>e[0].has_audio?(u&&!e[0].audio_track||t.audio_groups.push(e),t):(t.video_groups.push(e),t)),{video_groups:[],audio_groups:[]}),p=d.map((t=>function(t,e,i,n,s){var o;const r=t[0],{audio_track:a}=r,c=[],l={mime_type:r.mime_type.split(";")[0],language:null!==(o=r.language)&&void 0!==o?o:void 0,codecs:Wg(t,c),audio_sample_rate:Fg(t,"audio_sample_rate",c),track_name:null==a?void 0:a.display_name,track_role:Gg(r),channels:Hg(t,c),representations:t.map((t=>function(t,e,i,n,s,o){return new URL(t.decipher(s)).searchParams.set("cpn",o||""),{uid:t.audio_track?`${t.itag}-${t.audio_track.id}`:t.itag.toString(),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:Sb(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:$g(t,i,n,s,o)}}(t,c,e,i,n,s)))};return l}(t,e,o,s,n))),f=h.map((t=>function(t,e,i,n,s){const o=t[0],r=function(t){const e=t.color_info,i=(null==e?void 0:e.primaries)?Yg[e.primaries]:void 0,n=(null==e?void 0:e.transfer_characteristics)?Kg[e.transfer_characteristics]:void 0,s=(null==e?void 0:e.matrix_coefficients)?zg[e.matrix_coefficients]:void 0;if((null==e?void 0:e.matrix_coefficients)&&!s){const i=new URL(t.url),n=JSON.parse(JSON.stringify(t));n.url="REDACTED",n.signature_cipher="REDACTED",n.cipher="REDACTED",console.warn(`YouTube.js toDash(): Unknown matrix coefficients "${e.matrix_coefficients}", the DASH manifest is still usuable without this.\nPlease report it at ${fb.shim.info.bugs_url} so we can add support for it.\nInnertube client: ${i.searchParams.get("c")}\nformat:`,n)}return{primaries:i,transfer_characteristics:n,matrix_coefficients:s}}(o),a=[],c={mime_type:o.mime_type.split(";")[0],color_info:r,codecs:Wg(t,a),fps:Fg(t,"fps",a),representations:t.map((t=>function(t,e,i,n,s,o){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:Sb(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:$g(t,e,s,n,o)}}(t,e,a,i,n,s)))};return c}(t,e,s,o,n)));return{duration:c,audio_sets:p,video_sets:f,image_sets:r&&o?qg(c,o,r,e):[]}}function Qg({info:t}){return h(this,void 0,void 0,(function*(){if(!t.is_oft)return null;const e=yield t.getSegmentTemplate();return Rg("segment-template",{startNumber:"1",timescale:"1000",initialization:e.init_url,media:e.media_url},Rg("segment-timeline",null,e.timeline.map((t=>Rg("s",{d:t.duration,r:t.repeat_count})))))}))}function Jg({info:t}){return t.is_oft?Rg(Qg,{info:t}):Rg(Pg,null,Rg("base-url",null,t.base_url),Rg("segment-base",{indexRange:`${t.index_range.start}-${t.index_range.end}`},Rg("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}function Zg({streamingData:t,transformURL:e,rejectFormat:i,cpn:n,player:s,actions:o,storyboards:r}){const{duration:a,audio_sets:c,video_sets:l,image_sets:u}=Xg(t,e,i,n,s,o,r);return Rg("mpd",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${a}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},Rg("period",null,c.map(((t,e)=>Rg("adaptation-set",{id:e,mimeType:t.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:t.language,codecs:t.codecs,audioSamplingRate:t.audio_sample_rate},t.track_role&&Rg("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:t.track_role}),t.track_name&&Rg("label",{id:e},t.track_name),t.channels&&Rg("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:t.channels}),t.representations.map((t=>Rg("representation",{id:t.uid,bandwidth:t.bitrate,codecs:t.codecs,audioSamplingRate:t.audio_sample_rate},t.channels&&Rg("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:t.channels}),Rg(Jg,{info:t.segment_info}))))))),l.map(((t,e)=>Rg("adaptation-set",{id:e+c.length,mimeType:t.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:t.codecs,maxPlayoutRate:"1",frameRate:t.fps},t.color_info.primaries&&Rg("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:t.color_info.primaries}),t.color_info.transfer_characteristics&&Rg("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:t.color_info.transfer_characteristics}),t.color_info.matrix_coefficients&&Rg("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:t.color_info.matrix_coefficients}),t.representations.map((t=>Rg("representation",{id:t.uid,bandwidth:t.bitrate,width:t.width,height:t.height,codecs:t.codecs,frameRate:t.fps},Rg(Jg,{info:t.segment_info}))))))),u.map(((t,e)=>h(this,void 0,void 0,(function*(){return Rg("adaptation-set",{id:e+c.length+l.length,mimeType:yield t.getMimeType(),contentType:"image"},t.representations.map((t=>h(this,void 0,void 0,(function*(){return Rg("representation",{id:`thumbnails_${t.thumbnail_width}x${t.thumbnail_height}`,bandwidth:yield t.getBitrate(),width:t.sheet_width,height:t.sheet_height},Rg("essential-property",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${t.columns}x${t.rows}`}),Rg("segment-template",{media:t.template_url,duration:t.template_duration,startNumber:"0"}))})))))}))))))}function ty(t,e,i,n,s,o){return h(this,void 0,void 0,(function*(){if("UNPLAYABLE"===(null==i?void 0:i.status))throw new vb("Video is unplayable",{error_type:"UNPLAYABLE"});if("LOGIN_REQUIRED"===(null==i?void 0:i.status))throw new vb("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!n)throw new vb("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});const r=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},t),a=ey(r,n),c=a.decipher(s);if("video+audio"===r.type&&!t.range){const t=yield e.session.http.fetch_function(`${c}&cpn=${o}`,{method:"GET",headers:I,redirect:"follow"});if(!t.ok)throw new vb("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:t});const i=t.body;if(!i)throw new vb("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:t});return i}const l=10485760;let u,f=t.range?t.range.start:0,v=t.range?t.range.end:l,m=!1;const _=new fb.shim.ReadableStream({start(){},pull:i=>h(this,void 0,void 0,(function*(){if(!m)return(v>=(a.content_length?a.content_length:0)||t.range)&&(m=!0),new Promise(((t,n)=>h(this,void 0,void 0,(function*(){var s,r,a,h;try{u=new AbortController;const n=yield e.session.http.fetch_function(`${c}&cpn=${o}&range=${f}-${v||""}`,{method:"GET",headers:Object.assign({},I),signal:u.signal}),y=n.body;if(!y)throw new vb("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:n});try{for(var m,_=!0,g=p(function(t){return function(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,s=i.apply(t,e||[]),o=[];return n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n;function r(t){s[t]&&(n[t]=function(e){return new Promise((function(i,n){o.push([t,e,i,n])>1||a(t,e)}))})}function a(t,e){try{(i=s[t](e)).value instanceof d?Promise.resolve(i.value.v).then(c,l):u(o[0][2],i)}catch(t){u(o[0][3],t)}var i}function c(t){a("next",t)}function l(t){a("throw",t)}function u(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,(function*(){const e=t.getReader();try{for(;;){const{done:t,value:i}=yield d(e.read());if(t)return yield d(void 0);yield yield d(i)}}finally{e.releaseLock()}}))}(y));!(s=(m=yield g.next()).done);_=!0){h=m.value,_=!1;const t=h;i.enqueue(t)}}catch(t){r={error:t}}finally{try{_||s||!(a=g.return)||(yield a.call(g))}finally{if(r)throw r.error}}f=v+1,v+=l,t()}catch(t){n(t)}}))));i.close()})),cancel(t){return h(this,void 0,void 0,(function*(){u.abort(t)}))}},{highWaterMark:1,size:t=>t.byteLength});return _}))}function ey(t,e){if(!e)throw new vb("Streaming data not available");const i=[...e.formats||[],...e.adaptive_formats||[]],n=!t.type||t.type.includes("audio"),s=!t.type||t.type.includes("video"),o=t.language||"original",r=t.quality||"best";let a=-1;const c=["best","bestefficiency"].includes(r),l="best"!==r;let u=i.filter((e=>!(n&&!e.has_audio||s&&!e.has_video||"any"!==t.format&&!e.mime_type.includes(t.format||"mp4")||!c&&e.quality_label!==r||(a<e.width&&(a=e.width),0))));if(!u.length)throw new vb("No matching formats found",{options:t});if(c&&s&&(u=u.filter((t=>t.width===a))),n&&!s){const t=u.filter((t=>"original"!==o?!t.has_video&&t.language===o:!t.has_video&&t.is_original));t.length>0&&(u=t)}return l?u.sort(((t,e)=>t.bitrate-e.bitrate)):u.sort(((t,e)=>e.bitrate-t.bitrate)),u[0]}var iy,ny;class sy{constructor(t,e){iy.set(this,void 0),ny.set(this,void 0),v(this,iy,cb.parseResponse(e.data),"f"),v(this,ny,t,"f"),this.transcript=f(this,iy,"f").actions_memo.getType(ze).first()}selectLanguage(t){var e,i,n,s;return h(this,void 0,void 0,(function*(){const o=null===(s=null===(n=null===(i=null===(e=this.transcript.content)||void 0===e?void 0:e.footer)||void 0===i?void 0:i.language_menu)||void 0===n?void 0:n.sub_menu_items)||void 0===s?void 0:s.find((e=>e.title.toString()===t));if(!o)throw new Error(`Language not found: ${t}`);if(o.selected)return this;const r=yield f(this,ny,"f").execute("/get_transcript",{params:o.continuation});return new sy(f(this,ny,"f"),r)}))}get languages(){var t,e,i,n;return(null===(n=null===(i=null===(e=null===(t=this.transcript.content)||void 0===t?void 0:t.footer)||void 0===e?void 0:e.language_menu)||void 0===i?void 0:i.sub_menu_items)||void 0===n?void 0:n.map((t=>t.title.toString())))||[]}get selectedLanguage(){var t,e,i,n,s;return(null===(s=null===(n=null===(i=null===(e=null===(t=this.transcript.content)||void 0===t?void 0:t.footer)||void 0===e?void 0:e.language_menu)||void 0===i?void 0:i.sub_menu_items)||void 0===n?void 0:n.find((t=>t.selected)))||void 0===s?void 0:s.title.toString())||""}get page(){return f(this,iy,"f")}}iy=new WeakMap,ny=new WeakMap;const oy=sy;var ry,ay,cy,ly;ry=new WeakMap,ay=new WeakMap,cy=new WeakMap,ly=new WeakMap;const uy=class{constructor(t,e,i){var n,s;ry.set(this,void 0),ay.set(this,void 0),cy.set(this,void 0),ly.set(this,void 0),v(this,ay,e,"f");const o=cb.parseResponse(t[0].data),r=(null===(n=null==t?void 0:t[1])||void 0===n?void 0:n.data)?cb.parseResponse(t[1].data):void 0;if(v(this,ry,[o,r],"f"),v(this,cy,i,"f"),"ERROR"===(null===(s=o.playability_status)||void 0===s?void 0:s.status))throw new vb("This video is unavailable",o.playability_status);this.streaming_data=o.streaming_data,this.playability_status=o.playability_status,v(this,ly,o.playback_tracking,"f")}toDash(t,e,i={include_thumbnails:!1}){var n;return h(this,void 0,void 0,(function*(){let s;return i.include_thumbnails&&(null===(n=f(this,ry,"f")[0].storyboards)||void 0===n?void 0:n.is(it))&&(s=f(this,ry,"f")[0].storyboards),function(t,e=(t=>t),i,n,s,o,r){if(!t)throw new vb("Streaming data not available");return Mg(Rg(Zg,{streamingData:t,transformURL:e,rejectFormat:i,cpn:n,player:s,actions:o,storyboards:r}))}(this.streaming_data,t,e,f(this,cy,"f"),f(this,ay,"f").session.player,f(this,ay,"f"),s)}))}getStreamingInfo(t,e){var i;return Xg(this.streaming_data,t,e,this.cpn,f(this,ay,"f").session.player,f(this,ay,"f"),(null===(i=f(this,ry,"f")[0].storyboards)||void 0===i?void 0:i.is(it))?f(this,ry,"f")[0].storyboards:void 0)}chooseFormat(t){return ey(t,this.streaming_data)}download(t={}){return h(this,void 0,void 0,(function*(){return ty(t,f(this,ay,"f"),this.playability_status,this.streaming_data,f(this,ay,"f").session.player,this.cpn)}))}getTranscript(){var t;return h(this,void 0,void 0,(function*(){const e=this.page[1];if(!e)throw new vb("Cannot get transcript from basic video info.");if(!e.engagement_panels)throw new vb("Engagement panels not found. Video likely has no transcript.");const i=e.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!i)throw new vb("Transcript panel not found. Video likely has no transcript.");const n=null===(t=i.content)||void 0===t?void 0:t.as(ct);if(!n)throw new vb("Transcript continuation not found.");const s=yield n.endpoint.call(this.actions);return new oy(this.actions,s)}))}addToWatchHistory(t=T.WEB.NAME,e=T.WEB.VERSION,i="https://www."){return h(this,void 0,void 0,(function*(){if(!f(this,ly,"f"))throw new vb("Playback tracking not available");const n={cpn:f(this,cy,"f"),fmt:251,rtn:0,rt:0},s=f(this,ly,"f").videostats_playback_url.replace("https://s.",i);return yield f(this,ay,"f").stats(s,{client_name:t,client_version:e},n)}))}get actions(){return f(this,ay,"f")}get cpn(){return f(this,cy,"f")}get page(){return f(this,ry,"f")}};var hy;class dy extends uy{constructor(t,e,i){var n,s,o,r,a,c,l,u,h,d,p,f,m,_,g,y,b,w,x,S,T,I,C,k,E,R,A,M,P,O,D,N,L,B,V,U,j,W,F,H,$,G;super(t,e,i),hy.set(this,void 0);const[Y,K]=this.page;if(Y.microformat&&!(null===(n=Y.microformat)||void 0===n?void 0:n.is(_d,xu)))throw new vb("Invalid microformat",Y.microformat);if(this.basic_info=Object.assign(Object.assign(Object.assign({},Y.video_details),{embed:(null===(s=Y.microformat)||void 0===s?void 0:s.is(_d))?null===(o=Y.microformat)||void 0===o?void 0:o.embed:null,channel:(null===(r=Y.microformat)||void 0===r?void 0:r.is(_d))?null===(a=Y.microformat)||void 0===a?void 0:a.channel:null,is_unlisted:null===(c=Y.microformat)||void 0===c?void 0:c.is_unlisted,is_family_safe:null===(l=Y.microformat)||void 0===l?void 0:l.is_family_safe,category:(null===(u=Y.microformat)||void 0===u?void 0:u.is(_d))?null===(h=Y.microformat)||void 0===h?void 0:h.category:null,has_ypc_metadata:(null===(d=Y.microformat)||void 0===d?void 0:d.is(_d))?null===(p=Y.microformat)||void 0===p?void 0:p.has_ypc_metadata:null,start_timestamp:(null===(f=Y.microformat)||void 0===f?void 0:f.is(_d))?Y.microformat.start_timestamp:null,view_count:(null===(m=Y.microformat)||void 0===m?void 0:m.is(_d))&&isNaN(null===(_=Y.video_details)||void 0===_?void 0:_.view_count)?Y.microformat.view_count:null===(g=Y.video_details)||void 0===g?void 0:g.view_count}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=Y.annotations,this.storyboards=Y.storyboards,this.endscreen=Y.endscreen,this.captions=Y.captions,this.cards=Y.cards,this.streaming_data){const t=this.streaming_data.adaptive_formats.find((t=>{var e;return null===(e=t.audio_track)||void 0===e?void 0:e.audio_is_default}));if(t)this.streaming_data.formats.forEach((e=>e.language=t.language));else if(void 0!==(null===(y=this.captions)||void 0===y?void 0:y.default_audio_track_index)&&(null===(b=this.captions)||void 0===b?void 0:b.audio_tracks)&&this.captions.caption_tracks){const t=this.captions.audio_tracks[this.captions.default_audio_track_index].default_caption_track_index||0,e=this.captions.caption_tracks[t].language_code;this.streaming_data.adaptive_formats.forEach((t=>{t.has_audio&&(t.language=e)})),this.streaming_data.formats.forEach((t=>t.language=e))}}const z=null===(w=null==K?void 0:K.contents)||void 0===w?void 0:w.item().as(Tv),q=null==z?void 0:z.results,X=null==z?void 0:z.secondary_results;if(q&&X){if((null===(x=Y.microformat)||void 0===x?void 0:x.is(_d))&&"Gaming"===(null===(S=Y.microformat)||void 0===S?void 0:S.category)){const t=null===(C=null===(I=null===(T=q.firstOfType(jv))||void 0===T?void 0:T.metadata)||void 0===I?void 0:I.rows)||void 0===C?void 0:C.firstOfType(Sp);(null==t?void 0:t.is(Sp))&&(this.game_info={title:null===(E=null===(k=null==t?void 0:t.contents)||void 0===k?void 0:k.firstOfType(wp))||void 0===E?void 0:E.title,release_year:null===(A=null===(R=null==t?void 0:t.contents)||void 0===R?void 0:R.firstOfType(wp))||void 0===A?void 0:A.subtitle})}this.primary_info=q.firstOfType(Vv),this.secondary_info=q.firstOfType(jv),this.merchandise=q.firstOfType(du),this.related_chip_cloud=null===(M=X.firstOfType(pp))||void 0===M?void 0:M.content.as(Tn),(null==z?void 0:z.playlist)&&(this.playlist=z.playlist),this.watch_next_feed=(null===(P=X.firstOfType(oc))||void 0===P?void 0:P.contents)||X,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&(null===(O=this.watch_next_feed.at(-1))||void 0===O?void 0:O.is(ct))&&v(this,hy,null===(D=this.watch_next_feed.pop())||void 0===D?void 0:D.as(ct),"f"),this.player_overlays=null===(N=null==K?void 0:K.player_overlays)||void 0===N?void 0:N.item().as(Sd),(null==z?void 0:z.autoplay)&&(this.autoplay=z.autoplay);const t=null===(B=null===(L=this.primary_info)||void 0===L?void 0:L.menu)||void 0===B?void 0:B.top_level_buttons.firstOfType(Gp);(null===(V=null==t?void 0:t.like_button)||void 0===V?void 0:V.is(gi))&&(null===(U=null==t?void 0:t.dislike_button)||void 0===U?void 0:U.is(gi))&&(this.basic_info.like_count=null===(j=null==t?void 0:t.like_button)||void 0===j?void 0:j.like_count,this.basic_info.is_liked=null===(W=null==t?void 0:t.like_button)||void 0===W?void 0:W.is_toggled,this.basic_info.is_disliked=null===(F=null==t?void 0:t.dislike_button)||void 0===F?void 0:F.is_toggled);const e=null===(H=q.get({target_id:"comments-entry-point"}))||void 0===H?void 0:H.as(oc);this.comments_entry_point_header=null===($=null==e?void 0:e.contents)||void 0===$?void 0:$.firstOfType(yo),this.livechat=null===(G=null==K?void 0:K.contents_memo)||void 0===G?void 0:G.getType(lc).first()}}selectFilter(t){var e,i,n,s;return h(this,void 0,void 0,(function*(){if(!this.related_chip_cloud)throw new vb("Chip cloud not found, cannot apply filter");let o;if("string"==typeof t){const n=null===(i=null===(e=this.related_chip_cloud)||void 0===e?void 0:e.chips)||void 0===i?void 0:i.get({text:t});if(!n)throw new vb("Invalid filter",{available_filters:this.filters});o=n}else{if(!(null==t?void 0:t.is(xn)))throw new vb("Invalid cloud chip",t);o=t}if(o.is_selected)return this;const r=yield null===(n=o.endpoint)||void 0===n?void 0:n.call(this.actions,{parse:!0}),a=null===(s=null==r?void 0:r.on_response_received_endpoints)||void 0===s?void 0:s.get({target_id:"watch-next-feed"});return this.watch_next_feed=null==a?void 0:a.contents,this}))}addToWatchHistory(){const t=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return h(this,void 0,void 0,(function*(){return t.addToWatchHistory.call(this)}))}getWatchNextContinuation(){var t,e,i,n,s;return h(this,void 0,void 0,(function*(){if(!f(this,hy,"f"))throw new vb("Watch next feed continuation not found");const o=yield null===(t=f(this,hy,"f"))||void 0===t?void 0:t.endpoint.call(this.actions,{parse:!0}),r=null===(e=null==o?void 0:o.on_response_received_endpoints)||void 0===e?void 0:e.get({type:"appendContinuationItemsAction"});if(!r)throw new vb("AppendContinuationItemsAction not found");return this.watch_next_feed=null==r?void 0:r.contents,(null===(n=null===(i=this.watch_next_feed)||void 0===i?void 0:i.at(-1))||void 0===n?void 0:n.is(ct))?v(this,hy,null===(s=this.watch_next_feed.pop())||void 0===s?void 0:s.as(ct),"f"):v(this,hy,void 0,"f"),this}))}like(){var t,e;return h(this,void 0,void 0,(function*(){const i=null===(e=null===(t=this.primary_info)||void 0===t?void 0:t.menu)||void 0===e?void 0:e.top_level_buttons.firstOfType(Gp),n=null==i?void 0:i.like_button;if(!n)throw new vb("Like button not found",{video_id:this.basic_info.id});if(!n.is(gi))throw new vb("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(n.is_toggled)throw new vb("This video is already liked",{video_id:this.basic_info.id});return yield n.endpoint.call(this.actions)}))}dislike(){var t,e;return h(this,void 0,void 0,(function*(){const i=null===(e=null===(t=this.primary_info)||void 0===t?void 0:t.menu)||void 0===e?void 0:e.top_level_buttons.firstOfType(Gp),n=null==i?void 0:i.dislike_button;if(!n)throw new vb("Dislike button not found",{video_id:this.basic_info.id});if(!n.is(gi))throw new vb("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(n.is_toggled)throw new vb("This video is already disliked",{video_id:this.basic_info.id});return yield n.endpoint.call(this.actions)}))}removeRating(){var t,e;return h(this,void 0,void 0,(function*(){let i;const n=null===(e=null===(t=this.primary_info)||void 0===t?void 0:t.menu)||void 0===e?void 0:e.top_level_buttons.firstOfType(Gp),s=null==n?void 0:n.like_button,o=null==n?void 0:n.dislike_button;if(!(null==s?void 0:s.is(gi))||!(null==o?void 0:o.is(gi)))throw new vb("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if((null==s?void 0:s.is_toggled)?i=s:(null==o?void 0:o.is_toggled)&&(i=o),!i)throw new vb("This video is not liked/disliked",{video_id:this.basic_info.id});return yield i.toggled_endpoint.call(this.actions)}))}getLiveChat(){if(!this.livechat)throw new vb("Live Chat is not available",{video_id:this.basic_info.id});return new fg(this)}getTrailerInfo(){var t,e;if(this.has_trailer){const i=null===(e=null===(t=this.playability_status.error_screen)||void 0===t?void 0:t.as(vd).trailer)||void 0===e?void 0:e.player_response;if(i)return new dy([{data:i}],this.actions,this.cpn)}return null}get filters(){var t,e;return(null===(e=null===(t=this.related_chip_cloud)||void 0===t?void 0:t.chips)||void 0===e?void 0:e.map((t=>{var e;return null===(e=t.text)||void 0===e?void 0:e.toString()})))||[]}get wn_has_continuation(){return!!f(this,hy,"f")}get autoplay_video_endpoint(){var t,e,i;return(null===(i=null===(e=null===(t=this.autoplay)||void 0===t?void 0:t.sets)||void 0===e?void 0:e[0])||void 0===i?void 0:i.autoplay_video)||null}get has_trailer(){var t;return!!(null===(t=this.playability_status.error_screen)||void 0===t?void 0:t.is(vd))}get music_tracks(){var t,e,i,n,s,o;const r=null===(e=null===(t=this.page[1])||void 0===t?void 0:t.engagement_panels)||void 0===e?void 0:e.filter((t=>{var e;return null===(e=t.content)||void 0===e?void 0:e.is(fe)}));if(void 0!==r&&r.length>0){const t=null===(s=null===(n=null===(i=r[0].content)||void 0===i?void 0:i.as(fe))||void 0===n?void 0:n.items)||void 0===s?void 0:s.filterType(re);if(void 0!==t&&t.length>0)return null===(o=t[0].carousel_lockups)||void 0===o?void 0:o.map((t=>{var e,i,n,s,o,r,a,c,l,u,h,d,p,f,v,m,_,g,y;let b,w,x,S,T,I;b=null===(i=null===(e=t.video_lockup)||void 0===e?void 0:e.title)||void 0===i?void 0:i.toString(),T=null===(n=t.video_lockup)||void 0===n?void 0:n.endpoint.payload.videoId;for(let e=0;e<t.info_rows.length;e++){const i=t.info_rows[e];if(void 0===i.info_row_expand_status_key)if(void 0===b){if(b=(null===(s=i.default_metadata)||void 0===s?void 0:s.toString())||(null===(o=i.expanded_metadata)||void 0===o?void 0:o.toString()),void 0===T){const t=(null===(r=i.default_metadata)||void 0===r?void 0:r.endpoint)||(null===(a=i.expanded_metadata)||void 0===a?void 0:a.endpoint);T=null===(c=null==t?void 0:t.payload)||void 0===c?void 0:c.videoId}}else x=(null===(l=i.default_metadata)||void 0===l?void 0:l.toString())||(null===(u=i.expanded_metadata)||void 0===u?void 0:u.toString());else{if(-1!==(null===(h=i.info_row_expand_status_key)||void 0===h?void 0:h.indexOf("structured-description-music-section-artists-row-state-id"))&&(w=(null===(d=i.default_metadata)||void 0===d?void 0:d.toString())||(null===(p=i.expanded_metadata)||void 0===p?void 0:p.toString()),void 0===I)){const t=(null===(f=i.default_metadata)||void 0===f?void 0:f.endpoint)||(null===(v=i.expanded_metadata)||void 0===v?void 0:v.endpoint);I=null===(m=null==t?void 0:t.payload)||void 0===m?void 0:m.browseId}-1!==(null===(_=i.info_row_expand_status_key)||void 0===_?void 0:_.indexOf("structured-description-music-section-licenses-row-state-id"))&&(S=(null===(g=i.default_metadata)||void 0===g?void 0:g.toString())||(null===(y=i.expanded_metadata)||void 0===y?void 0:y.toString()))}}return{song:b,artist:w,album:x,license:S,videoId:T,channelId:I}}))}return[]}}hy=new WeakMap;const py=dy;var fy;fy=new WeakMap;const vy=class{constructor(t){var e,i,n;if(fy.set(this,void 0),v(this,fy,cb.parseResponse(t.data),"f"),this.header=null===(e=f(this,fy,"f").header)||void 0===e?void 0:e.item().as(_h),this.url=(null===(i=f(this,fy,"f").microformat)||void 0===i?void 0:i.as(xu).url_canonical)||null,!f(this,fy,"f").contents_memo)throw new Error("No contents found in the response");this.contents=null===(n=f(this,fy,"f").contents_memo.getType(Hh))||void 0===n?void 0:n.first().contents,this.sections=f(this,fy,"f").contents_memo.getType(ph)||[]}get page(){return f(this,fy,"f")}};var my,_y;my=new WeakMap,_y=new WeakMap;const gy=class{constructor(t,e){var i,n,s;my.set(this,void 0),_y.set(this,void 0),v(this,my,cb.parseResponse(t.data),"f"),v(this,_y,e,"f"),this.header=null===(i=this.page.header)||void 0===i?void 0:i.item().as(kh,Zh,Ih);const o=(null===(n=f(this,my,"f").contents_memo)||void 0===n?void 0:n.getType(Hh))||[],r=(null===(s=f(this,my,"f").contents_memo)||void 0===s?void 0:s.getType(ph))||[];this.sections=[...o,...r]}getAllSongs(){var t,e;return h(this,void 0,void 0,(function*(){const i=this.sections.filter((t=>"MusicShelf"===t.type));if(!i.length)throw new vb("Could not find any node of type MusicShelf.");const n=i.find((t=>"Songs"===t.title.toString()));if(!n)throw new vb("Could not find target shelf (Songs).");if(!n.endpoint)throw new vb("Target shelf (Songs) did not have an endpoint.");const s=yield n.endpoint.call(f(this,_y,"f"),{client:"YTMUSIC",parse:!0});return null===(e=null===(t=s.contents_memo)||void 0===t?void 0:t.getType(Oh))||void 0===e?void 0:e.first()}))}get page(){return f(this,my,"f")}};var yy;yy=new WeakMap;const by=class{constructor(t){var e,i,n;yy.set(this,void 0),v(this,yy,cb.parseResponse(t.data),"f");const s=null===(e=f(this,yy,"f").contents)||void 0===e?void 0:e.item().as(bf).tabs.get({selected:!0});if(!s)throw new vb("Could not find target tab.");const o=null===(i=s.content)||void 0===i?void 0:i.as(xt);if(!o)throw new vb("Target tab did not have any content.");this.top_buttons=(null===(n=o.contents.firstOfType(Xr))||void 0===n?void 0:n.items.as(Yu))||[],this.sections=o.contents.filterType(ph)}get page(){return f(this,yy,"f")}};var wy,xy,Sy;class Ty{constructor(t,e){var i,n,s,o,r,a;wy.set(this,void 0),xy.set(this,void 0),Sy.set(this,void 0),v(this,xy,e,"f"),v(this,wy,cb.parseResponse(t.data),"f");const c=null===(i=f(this,wy,"f").contents)||void 0===i?void 0:i.item().as(bf).tabs.get({selected:!0});if(!c)throw new vb("Could not find Home tab.");if(null===c.content){if(!f(this,wy,"f").continuation_contents)throw new vb("Continuation did not have any content.");return v(this,Sy,f(this,wy,"f").continuation_contents.as(Im).continuation,"f"),void(this.sections=null===(n=f(this,wy,"f").continuation_contents.as(Im).contents)||void 0===n?void 0:n.as(ph))}this.header=null===(o=null===(s=c.content)||void 0===s?void 0:s.as(xt).header)||void 0===o?void 0:o.as(Tn),v(this,Sy,null===(r=c.content)||void 0===r?void 0:r.as(xt).continuation,"f"),this.sections=null===(a=c.content)||void 0===a?void 0:a.as(xt).contents.as(ph,Qh)}getContinuation(){return h(this,void 0,void 0,(function*(){if(!f(this,Sy,"f"))throw new vb("Continuation not found.");const t=yield f(this,xy,"f").execute("/browse",{client:"YTMUSIC",continuation:f(this,Sy,"f")});return new Ty(t,f(this,xy,"f"))}))}applyFilter(t){var e,i;return h(this,void 0,void 0,(function*(){let n;if("string"==typeof t){if(n=null===(i=null===(e=this.header)||void 0===e?void 0:e.chips)||void 0===i?void 0:i.as(xn).get({text:t}),!n)throw new vb("Could not find filter with given name.",{available_filters:this.filters})}else(null==t?void 0:t.is(xn))&&(n=t);if(!n)throw new vb("Invalid filter",{available_filters:this.filters});if(null==n?void 0:n.is_selected)return this;if(!n.endpoint)throw new vb("Selected filter does not have an endpoint.");const s=yield n.endpoint.call(f(this,xy,"f"),{client:"YTMUSIC"});return new Ty(s,f(this,xy,"f"))}))}get filters(){var t,e;return(null===(e=null===(t=this.header)||void 0===t?void 0:t.chips)||void 0===e?void 0:e.as(xn).map((t=>t.text)))||[]}get has_continuation(){return!!f(this,Sy,"f")}get page(){return f(this,wy,"f")}}wy=new WeakMap,xy=new WeakMap,Sy=new WeakMap;const Iy=Ty;var Cy,ky,Ey,Ry,Ay,My;class Py{constructor(t,e){var i,n,s,o,r;Cy.set(this,void 0),ky.set(this,void 0),Ey.set(this,void 0),v(this,Cy,cb.parseResponse(t.data),"f"),v(this,ky,e,"f");const a=null===(i=f(this,Cy,"f").contents_memo)||void 0===i?void 0:i.getType(xt).first();this.header=null===(n=null==a?void 0:a.header)||void 0===n?void 0:n.as(Gh),this.contents=null===(s=null==a?void 0:a.contents)||void 0===s?void 0:s.as(Xr,Hh),v(this,Ey,null===(r=null===(o=this.contents)||void 0===o?void 0:o.find((t=>t.continuation)))||void 0===r?void 0:r.continuation,"f")}applySort(t){var e,i,n,s,o,r,a,c,l,u;return h(this,void 0,void 0,(function*(){let h;if("string"==typeof t){const n=null===(e=f(this,Cy,"f").contents_memo)||void 0===e?void 0:e.getType(Kh).first(),s=null===(i=null==n?void 0:n.menu)||void 0===i?void 0:i.options.filter((t=>t instanceof ge));if(h=null==s?void 0:s.find((e=>e.title===t)),!h)throw new vb(`Sort option "${t}" not found`,{available_filters:s.map((t=>t.title))})}else t instanceof ge&&(h=t);if(!h)throw new vb("Invalid sort option");if(h.selected)return this;const d=null===(r=null===(o=null===(s=null===(n=h.endpoint)||void 0===n?void 0:n.payload)||void 0===s?void 0:s.commands)||void 0===o?void 0:o.find((t=>t.browseSectionListReloadEndpoint)))||void 0===r?void 0:r.browseSectionListReloadEndpoint;if(!d)throw new vb("Failed to find sort option command");const p=yield f(this,ky,"f").execute("/browse",{client:"YTMUSIC",continuation:d.continuation.reloadContinuationData.continuation,parse:!0}),v=null===(c=null===(a=f(this,Cy,"f").contents_memo)||void 0===a?void 0:a.getType(ge))||void 0===c?void 0:c.find((t=>t.selected));return v&&(v.selected=!1),h.selected=!0,this.contents=null===(u=null===(l=p.continuation_contents)||void 0===l?void 0:l.as(Im).contents)||void 0===u?void 0:u.as(Xr,Hh),this}))}applyFilter(t){var e,i,n,s;return h(this,void 0,void 0,(function*(){let o;const r=null===(e=f(this,Cy,"f").contents_memo)||void 0===e?void 0:e.getType(Tn).first();if("string"==typeof t){if(o=null==r?void 0:r.chips.get({text:t}),!o)throw new vb(`Filter "${t}" not found`,{available_filters:this.filters})}else t instanceof xn&&(o=t);if(!o)throw new vb("Invalid filter",t);const a=new U(null===(s=null===(n=null===(i=o.endpoint)||void 0===i?void 0:i.payload)||void 0===n?void 0:n.commands)||void 0===s?void 0:s[0]),c=yield a.call(f(this,ky,"f"),{client:"YTMUSIC"});return new Py(c,f(this,ky,"f"))}))}getContinuation(){return h(this,void 0,void 0,(function*(){if(!f(this,Ey,"f"))throw new vb("No continuation available");const t=yield f(this,ky,"f").execute("/browse",{client:"YTMUSIC",continuation:f(this,Ey,"f")});return new Oy(t,f(this,ky,"f"))}))}get has_continuation(){return!!f(this,Ey,"f")}get sort_options(){var t,e;const i=null===(t=f(this,Cy,"f").contents_memo)||void 0===t?void 0:t.getType(Kh).first();return(null===(e=null==i?void 0:i.menu)||void 0===e?void 0:e.options.filter((t=>t instanceof ge))).map((t=>t.title))}get filters(){var t,e;return(null===(e=null===(t=f(this,Cy,"f").contents_memo)||void 0===t?void 0:t.getType(Tn))||void 0===e?void 0:e.first().chips.map((t=>t.text)))||[]}get page(){return f(this,Cy,"f")}}Cy=new WeakMap,ky=new WeakMap,Ey=new WeakMap;class Oy{constructor(t,e){if(Ry.set(this,void 0),Ay.set(this,void 0),My.set(this,void 0),v(this,Ry,cb.parseResponse(t.data),"f"),v(this,Ay,e,"f"),!f(this,Ry,"f").continuation_contents)throw new vb("No continuation contents found");this.contents=f(this,Ry,"f").continuation_contents.as(km,Em),v(this,My,this.contents.continuation||null,"f")}getContinuation(){return h(this,void 0,void 0,(function*(){if(!f(this,My,"f"))throw new vb("No continuation available");const t=yield f(this,Ay,"f").execute("/browse",{client:"YTMUSIC",continuation:f(this,My,"f")});return new Oy(t,f(this,Ay,"f"))}))}get has_continuation(){return!!f(this,My,"f")}get page(){return f(this,Ry,"f")}}Ry=new WeakMap,Ay=new WeakMap,My=new WeakMap;const Dy=Py;var Ny,Ly,By,Vy,Uy,jy,Wy;class Fy{constructor(t,e){var i,n,s,o,r,a,c;if(Ny.add(this),Ly.set(this,void 0),By.set(this,void 0),Vy.set(this,void 0),Uy.set(this,void 0),jy.set(this,void 0),v(this,By,e,"f"),v(this,Ly,cb.parseResponse(t.data),"f"),v(this,Uy,null,"f"),v(this,jy,null,"f"),f(this,Ly,"f").continuation_contents){const t=null===(i=f(this,Ly,"f").continuation_contents)||void 0===i?void 0:i.as(Cm);this.items=t.contents,v(this,Vy,t.continuation,"f")}else"MusicEditablePlaylistDetailHeader"===(null===(n=f(this,Ly,"f").header)||void 0===n?void 0:n.item().type)?this.header=null===(o=null===(s=f(this,Ly,"f").header)||void 0===s?void 0:s.item().as(wh).header)||void 0===o?void 0:o.as(_h):this.header=null===(r=f(this,Ly,"f").header)||void 0===r?void 0:r.item().as(_h),this.items=(null===(a=f(this,Ly,"f").contents_memo)||void 0===a?void 0:a.getType(Oh).first().contents)||null,v(this,Vy,(null===(c=f(this,Ly,"f").contents_memo)||void 0===c?void 0:c.getType(Oh).first().continuation)||null,"f")}getContinuation(){return h(this,void 0,void 0,(function*(){if(!f(this,Vy,"f"))throw new vb("Continuation not found.");const t=yield f(this,By,"f").execute("/browse",{client:"YTMUSIC",continuation:f(this,Vy,"f")});return new Fy(t,f(this,By,"f"))}))}getRelated(){var t,e,i,n,s;return h(this,void 0,void 0,(function*(){let o=null===(e=null===(t=f(this,Ly,"f").contents_memo)||void 0===t?void 0:t.getType(xt))||void 0===e?void 0:e[0].continuation;for(;o;){const t=yield f(this,By,"f").execute("/browse",{client:"YTMUSIC",continuation:o,parse:!0}),e=null===(i=t.continuation_contents)||void 0===i?void 0:i.as(Im),r=null===(n=null==e?void 0:e.contents)||void 0===n?void 0:n.as(ph,Hh),a=null===(s=null==r?void 0:r.matchCondition((t=>t.is(ph))))||void 0===s?void 0:s.as(ph);if(a)return a;o=null==e?void 0:e.continuation}throw new vb("Target section not found.")}))}getSuggestions(t=!0){return h(this,void 0,void 0,(function*(){const e=t||!f(this,Uy,"f")?f(this,Ny,"m",Wy).call(this):Promise.resolve(null),i=yield e;return i&&(v(this,Uy,i.items,"f"),v(this,jy,i.continuation,"f")),(null==i?void 0:i.items)||f(this,Uy,"f")}))}get page(){return f(this,Ly,"f")}get has_continuation(){return!!f(this,Vy,"f")}}Ly=new WeakMap,By=new WeakMap,Vy=new WeakMap,Uy=new WeakMap,jy=new WeakMap,Ny=new WeakSet,Wy=function(){var t,e,i,n,s;return h(this,void 0,void 0,(function*(){const o=f(this,jy,"f")||(null===(e=null===(t=f(this,Ly,"f").contents_memo)||void 0===t?void 0:t.get("SectionList"))||void 0===e?void 0:e[0].as(xt).continuation);if(o){const t=yield f(this,By,"f").execute("/browse",{client:"YTMUSIC",continuation:o,parse:!0}),e=null===(i=t.continuation_contents)||void 0===i?void 0:i.as(Im),r=null===(n=null==e?void 0:e.contents)||void 0===n?void 0:n.as(ph,Hh),a=null===(s=null==r?void 0:r.matchCondition((t=>t.is(Hh))))||void 0===s?void 0:s.as(Hh);return{items:(null==a?void 0:a.contents)||[],continuation:(null==a?void 0:a.continuation)||null}}return{items:[],continuation:null}}))};const Hy=Fy;var $y,Gy;$y=new WeakMap,Gy=new WeakMap;const Yy=class{constructor(t,e){var i,n,s,o,r,a,c;$y.set(this,void 0),Gy.set(this,void 0),v(this,$y,cb.parseResponse(t.data),"f"),v(this,Gy,e,"f");const l=null===(i=f(this,$y,"f").header)||void 0===i?void 0:i.item();this.header=(null==l?void 0:l.is(Sh))?null===(o=null===(s=null===(n=f(this,$y,"f").header)||void 0===n?void 0:n.item().as(Sh).element)||void 0===s?void 0:s.model)||void 0===o?void 0:o.as(Na):null===(r=f(this,$y,"f").header)||void 0===r?void 0:r.item().as(Ih);const u=null===(a=f(this,$y,"f").contents)||void 0===a?void 0:a.item().as(bf).tabs.firstOfType(gf);if(!u)throw new vb("Target tab not found");this.sections=null===(c=u.content)||void 0===c?void 0:c.as(xt).contents.as(oc,ph,Qo)}getPlaylist(){return h(this,void 0,void 0,(function*(){if(!this.header)throw new vb("Header not found");if(!this.header.is(Na))throw new vb("Recap playlist not available, check back later.");const t=this.header.panels[0].text_on_tap_endpoint,e=yield t.call(f(this,Gy,"f"),{client:"YTMUSIC"});return new Hy(e,f(this,Gy,"f"))}))}get page(){return f(this,$y,"f")}};var Ky,zy,qy,Xy,Qy;class Jy{constructor(t,e,i){var n,s,o;if(Ky.set(this,void 0),zy.set(this,void 0),qy.set(this,void 0),v(this,zy,e,"f"),v(this,Ky,cb.parseResponse(t.data),"f"),!f(this,Ky,"f").contents||!f(this,Ky,"f").contents_memo)throw new vb("Response did not contain any contents.");const r=f(this,Ky,"f").contents.item().as(Lf).tabs.get({selected:!0});if(!r)throw new vb("Could not find target tab.");const a=null===(n=r.content)||void 0===n?void 0:n.as(xt);if(!a)throw new vb("Target tab did not have any content.");this.header=null===(s=a.header)||void 0===s?void 0:s.as(Tn),this.contents=a.contents.as(Hh,ju,oc),i&&v(this,qy,null===(o=this.contents.firstOfType(Hh))||void 0===o?void 0:o.continuation,"f")}getMore(t){return h(this,void 0,void 0,(function*(){if(!t||!t.endpoint)throw new vb("Cannot retrieve more items for this shelf because it does not have an endpoint.");const e=yield t.endpoint.call(f(this,zy,"f"),{client:"YTMUSIC"});if(!e)throw new vb("Endpoint did not return any data");return new Jy(e,f(this,zy,"f"),!0)}))}getContinuation(){return h(this,void 0,void 0,(function*(){if(!f(this,qy,"f"))throw new vb("Continuation not found.");const t=yield f(this,zy,"f").execute("/search",{continuation:f(this,qy,"f"),client:"YTMUSIC"});return new tb(f(this,zy,"f"),t)}))}applyFilter(t){var e,i;return h(this,void 0,void 0,(function*(){let n;if("string"==typeof t){if(n=null===(i=null===(e=this.header)||void 0===e?void 0:e.chips)||void 0===i?void 0:i.as(xn).get({text:t}),!n)throw new vb("Could not find filter with given name.",{available_filters:this.filters})}else(null==t?void 0:t.is(xn))&&(n=t);if(!n)throw new vb("Invalid filter",{available_filters:this.filters});if(null==n?void 0:n.is_selected)return this;if(!n.endpoint)throw new vb("Selected filter does not have an endpoint.");const s=yield n.endpoint.call(f(this,zy,"f"),{client:"YTMUSIC"});return new Jy(s,f(this,zy,"f"),!0)}))}get filters(){var t,e;return(null===(e=null===(t=this.header)||void 0===t?void 0:t.chips)||void 0===e?void 0:e.as(xn).map((t=>t.text)))||[]}get has_continuation(){return!!f(this,qy,"f")}get did_you_mean(){var t;return null===(t=f(this,Ky,"f").contents_memo)||void 0===t?void 0:t.getType(fr).first()}get showing_results_for(){var t;return null===(t=f(this,Ky,"f").contents_memo)||void 0===t?void 0:t.getType(cf).first()}get message(){var t;return null===(t=f(this,Ky,"f").contents_memo)||void 0===t?void 0:t.getType(Qo).first()}get songs(){var t;return null===(t=this.contents)||void 0===t?void 0:t.filterType(Hh).find((t=>"Songs"===t.title.toString()))}get videos(){var t;return null===(t=this.contents)||void 0===t?void 0:t.filterType(Hh).find((t=>"Videos"===t.title.toString()))}get albums(){var t;return null===(t=this.contents)||void 0===t?void 0:t.filterType(Hh).find((t=>"Albums"===t.title.toString()))}get artists(){var t;return null===(t=this.contents)||void 0===t?void 0:t.filterType(Hh).find((t=>"Artists"===t.title.toString()))}get playlists(){var t;return null===(t=this.contents)||void 0===t?void 0:t.filterType(Hh).find((t=>"Community playlists"===t.title.toString()))}get results(){var t,e;return null===(e=null===(t=this.contents)||void 0===t?void 0:t.firstOfType(Hh))||void 0===e?void 0:e.contents}get sections(){var t;return null===(t=this.contents)||void 0===t?void 0:t.filterType(Hh)}get page(){return f(this,Ky,"f")}}Ky=new WeakMap,zy=new WeakMap,qy=new WeakMap;const Zy=Jy;class tb{constructor(t,e){var i,n;Xy.set(this,void 0),Qy.set(this,void 0),v(this,Xy,t,"f"),v(this,Qy,cb.parseResponse(e.data),"f"),this.header=null===(i=f(this,Qy,"f").header)||void 0===i?void 0:i.item().as(Ih),this.contents=null===(n=f(this,Qy,"f").continuation_contents)||void 0===n?void 0:n.as(km)}getContinuation(){var t;return h(this,void 0,void 0,(function*(){if(!(null===(t=this.contents)||void 0===t?void 0:t.continuation))throw new vb("Continuation not found.");const e=yield f(this,Xy,"f").execute("/search",{continuation:this.contents.continuation,client:"YTMUSIC"});return new tb(f(this,Xy,"f"),e)}))}get has_continuation(){var t;return!!(null===(t=this.contents)||void 0===t?void 0:t.continuation)}get page(){return f(this,Qy,"f")}}Xy=new WeakMap,Qy=new WeakMap;const eb=class extends uy{constructor(t,e,i){var n,s,o,r,a,c,l,u,h;super(t,e,i);const[d,p]=this.page;if(!(null===(n=d.microformat)||void 0===n?void 0:n.is(xu)))throw new vb("Invalid microformat",d.microformat);if(this.basic_info=Object.assign(Object.assign({},d.video_details),{description:null===(s=d.microformat)||void 0===s?void 0:s.description,is_unlisted:null===(o=d.microformat)||void 0===o?void 0:o.is_unlisted,is_family_safe:null===(r=d.microformat)||void 0===r?void 0:r.is_family_safe,url_canonical:null===(a=d.microformat)||void 0===a?void 0:a.url_canonical,tags:null===(c=d.microformat)||void 0===c?void 0:c.tags}),this.storyboards=d.storyboards,this.endscreen=d.endscreen,p){const t=null===(u=null===(l=p.contents_memo)||void 0===l?void 0:l.getType(Xv))||void 0===u?void 0:u[0];this.tabs=null==t?void 0:t.tabs.array().as(gf),this.current_video_endpoint=p.current_video_endpoint,this.player_overlays=null===(h=p.player_overlays)||void 0===h?void 0:h.item().as(Sd)}}getTab(t){var e,i;return h(this,void 0,void 0,(function*(){if(!this.tabs)throw new vb("Could not find any tab");const n=this.tabs.get({title:t})||this.tabs.matchCondition((e=>{var i,n;return(null===(n=null===(i=e.endpoint.payload.browseEndpointContextSupportedConfigs)||void 0===i?void 0:i.browseEndpointContextMusicConfig)||void 0===n?void 0:n.pageType)===t}))||(null===(e=this.tabs)||void 0===e?void 0:e[0]);if(!n)throw new vb(`Tab "${t}" not found`,{available_tabs:this.available_tabs});if(n.content)return n.content;const s=yield n.endpoint.call(this.actions,{client:"YTMUSIC",parse:!0});if("Message"===(null===(i=s.contents)||void 0===i?void 0:i.item().type))return s.contents.item().as(Qo);if(!s.contents)throw new vb("Page contents was empty",s);return s.contents.item().as(xt).contents}))}getUpNext(t=!0){var e,i;return h(this,void 0,void 0,(function*(){const n=yield this.getTab("Up next");if(!n||!n.content)throw new vb("Music queue was empty, the video id is probably invalid.",n);const s=n.content.as(Uh);if(!s.playlist_id&&t){const t=s.contents.firstOfType(fi);if(!t)throw new vb("Automix item not found");const n=yield null===(e=t.playlist_video)||void 0===e?void 0:e.endpoint.call(this.actions,{videoId:this.basic_info.id,client:"YTMUSIC",parse:!0});if(!n||!n.contents_memo)throw new vb("Could not fetch automix");return null===(i=n.contents_memo.getType(Uh))||void 0===i?void 0:i[0]}return s}))}getRelated(){return h(this,void 0,void 0,(function*(){return yield this.getTab("MUSIC_PAGE_TYPE_TRACK_RELATED")}))}getLyrics(){return h(this,void 0,void 0,(function*(){return(yield this.getTab("MUSIC_PAGE_TYPE_TRACK_LYRICS")).firstOfType(vh)}))}addToWatchHistory(){const t=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return h(this,void 0,void 0,(function*(){return t.addToWatchHistory.call(this,T.YTMUSIC.NAME,T.YTMUSIC.VERSION,"https://music.")}))}get available_tabs(){return this.tabs?this.tabs.map((t=>t.title)):[]}};class ib extends f_{constructor(t,e,i=!1){var n,s;super(t,e,i),this.header=null===(n=this.page.header)||void 0===n?void 0:n.item().as(Wi),this.contents=this.memo.getType(oc).first()||(null===(s=this.page.continuation_contents)||void 0===s?void 0:s.as(wm))}getContinuation(){var t;return h(this,void 0,void 0,(function*(){const e=yield this.actions.execute("/browse",{continuation:null===(t=this.contents)||void 0===t?void 0:t.continuation,client:"YTKIDS"});return new ib(this.actions,e)}))}get has_continuation(){var t;return!!(null===(t=this.contents)||void 0===t?void 0:t.continuation)}}const nb=ib;class sb extends f_{constructor(t,e,i=!1){var n,s;super(t,e,i),this.header=null===(n=this.page.header)||void 0===n?void 0:n.item().as(im),this.contents=null===(s=this.page.contents)||void 0===s?void 0:s.item().as(sm)}selectCategoryTab(t){var e;return h(this,void 0,void 0,(function*(){let i;if("string"==typeof t?i=null===(e=this.header)||void 0===e?void 0:e.category_tabs.find((e=>e.title.toString()===t)):(null==t?void 0:t.is(tm))&&(i=t),!i)throw new vb(`Tab "${t}" not found`);const n=yield i.endpoint.call(this.actions,{client:"YTKIDS",parse:!0});return n.header=this.page.header,n.header_memo=this.page.header_memo,new sb(this.actions,n,!0)}))}get categories(){var t;return(null===(t=this.header)||void 0===t?void 0:t.category_tabs.map((t=>t.title.toString())))||[]}}const ob=sb,rb=class extends f_{constructor(t,e){super(t,e),this.estimated_results=this.page.estimated_results;const i=this.memo.getType(oc).first();if(!i)throw new vb("No item section found in search response.");this.contents=i.contents}},ab=class extends uy{constructor(t,e,i){var n,s,o,r,a;super(t,e,i);const[c,l]=this.page;this.basic_info=c.video_details,this.captions=c.captions;const u=null===(n=null==l?void 0:l.contents)||void 0===n?void 0:n.item().as(Tv),h=null==u?void 0:u.results,d=null==u?void 0:u.secondary_results;h&&d&&(this.slim_video_metadata=null===(o=null===(s=h.firstOfType(oc))||void 0===s?void 0:s.contents)||void 0===o?void 0:o.firstOfType(Ef),this.watch_next_feed=(null===(r=d.firstOfType(oc))||void 0===r?void 0:r.contents)||d,this.current_video_endpoint=null==l?void 0:l.current_video_endpoint,this.player_overlays=null===(a=null==l?void 0:l.player_overlays)||void 0===a?void 0:a.item().as(Sd))}addToWatchHistory(){const t=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return h(this,void 0,void 0,(function*(){return t.addToWatchHistory.call(this)}))}},cb=e;var lb;lb=new WeakMap;const ub=class{constructor(t,e,i,n){var s,o,r,a,c,l,u,h,d,p,m,_,g,y,w,S,T,I,C,k,E,R,A,M,P,O,D,N,L,B,V,U,W,F,H,G,Y;lb.set(this,void 0),v(this,lb,new $(t),"f"),this.id=n||(null===(c=null===(a=null===(r=null===(o=null===(s=f(this,lb,"f"))||void 0===s?void 0:s.runs)||void 0===o?void 0:o[0])||void 0===r?void 0:r.endpoint)||void 0===a?void 0:a.payload)||void 0===c?void 0:c.browseId)||(null===(h=null===(u=null===(l=f(this,lb,"f"))||void 0===l?void 0:l.endpoint)||void 0===u?void 0:u.payload)||void 0===h?void 0:h.browseId)||"N/A",this.name=(null===(d=f(this,lb,"f"))||void 0===d?void 0:d.text)||"N/A",this.thumbnails=i?j.fromResponse(i):[],this.endpoint=(null===(_=null===(m=null===(p=f(this,lb,"f"))||void 0===p?void 0:p.runs)||void 0===m?void 0:m[0])||void 0===_?void 0:_.endpoint)||(null===(g=f(this,lb,"f"))||void 0===g?void 0:g.endpoint),this.badges=Array.isArray(e)?cb.parseArray(e):b([]),this.is_moderator=null===(y=this.badges)||void 0===y?void 0:y.some((t=>"MODERATOR"==t.icon_type)),this.is_verified=null===(w=this.badges)||void 0===w?void 0:w.some((t=>"BADGE_STYLE_TYPE_VERIFIED"==t.style)),this.is_verified_artist=null===(S=this.badges)||void 0===S?void 0:S.some((t=>"BADGE_STYLE_TYPE_VERIFIED_ARTIST"==t.style)),this.url="/browse"===(null===(E=null===(k=null===(C=null===(I=null===(T=f(this,lb,"f"))||void 0===T?void 0:T.runs)||void 0===I?void 0:I[0])||void 0===C?void 0:C.endpoint)||void 0===k?void 0:k.metadata)||void 0===E?void 0:E.api_url)&&`${x.YT_BASE}${(null===(O=null===(P=null===(M=null===(A=null===(R=f(this,lb,"f"))||void 0===R?void 0:R.runs)||void 0===A?void 0:A[0])||void 0===M?void 0:M.endpoint)||void 0===P?void 0:P.payload)||void 0===O?void 0:O.canonicalBaseUrl)||`/u/${null===(V=null===(B=null===(L=null===(N=null===(D=f(this,lb,"f"))||void 0===D?void 0:D.runs)||void 0===N?void 0:N[0])||void 0===L?void 0:L.endpoint)||void 0===B?void 0:B.payload)||void 0===V?void 0:V.browseId}`}`||`${x.YT_BASE}${(null===(F=null===(W=null===(U=f(this,lb,"f"))||void 0===U?void 0:U.endpoint)||void 0===W?void 0:W.payload)||void 0===F?void 0:F.canonicalBaseUrl)||`/u/${null===(Y=null===(G=null===(H=f(this,lb,"f"))||void 0===H?void 0:H.endpoint)||void 0===G?void 0:G.payload)||void 0===Y?void 0:Y.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}},hb={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var db,pb;class fb{static load(t){v(fb,db,t,"f",pb)}static get shim(){if(!f(fb,db,"f",pb))throw new Error("Platform is not loaded");return f(fb,db,"f",pb)}}db=fb,pb={value:void 0};class vb extends Error{constructor(t,e){super(t),e&&(this.info=e),this.date=new Date,this.version=fb.shim.info.version}}class mb extends vb{}class _b extends vb{}class gb extends vb{}class yb extends Error{}class bb extends Error{}class wb extends Error{}function xb(t,e){return Reflect.ownKeys(t).some((i=>{const n=e[i]instanceof $;return n||"object"!=typeof e[i]?t[i]===(n?e[i].toString():e[i]):JSON.stringify(t[i])===JSON.stringify(e[i])}))}function Sb(t,e,i){const n=new RegExp(`${Tb(e)}(.*?)${Tb(i)}`,"s"),s=t.match(n);return s?s[1]:void 0}function Tb(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Ib(t){const e=hb[t];return e[Math.floor(Math.random()*e.length)]}function Cb(t){const e=[];for(let i=0;i<t;i++)e.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(Math.floor(64*Math.random())));return e.join("")}function kb(t){const e=t.split(":").map((t=>parseInt(t.replace(/\D/g,""))));switch(e.length){case 1:return e[0];case 2:return 60*e[0]+e[1];case 3:return 3600*e[0]+60*e[1]+e[2];default:throw new Error("Invalid time string")}}function Eb(t){for(const[e,i]of Object.entries(t))if(!i)throw new _b(`${e} is missing`)}function Rb(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}function Ab(t){return!("emoji"in t)}const Mb=JSON.parse('{"i8":"6.4.1","eN":{"H":"https://github.com/LuanRT/YouTube.js/issues"},"Xh":"https://github.com/LuanRT/YouTube.js#readme"}');class Pb{constructor(t,e){this.node=t,this.visitor=e}run(){}}class Ob extends Pb{run(){return this.node.elements.map((t=>this.visitor.visitNode(t)))}}const Db=(t,e)=>Object.defineProperty(e,"name",{value:t});class Nb extends Pb{run(){const{params:t,body:e}=this.node;return Db("anonymous function",(i=>{let n=0;for(const e of t)this.visitor.visitNode(e),"Identifier"===e.type?this.visitor.scope.set(e.name,i[n]):console.warn("Unhandled param type",e.type),n++;return this.visitor.visitNode(e)}))}}class Lb extends Pb{run(){const t=this.node.operator,e=this.visitor.visitNode(this.node.right);switch(t){case"=":if("MemberExpression"===this.node.left.type)return this.visitor.visitNode(this.node.left.object)[this.visitor.visitNode(this.node.left.property)]=e;if("Identifier"===this.node.left.type)return this.visitor.scope.set(this.node.left.name,e),this.visitor.scope.get(this.node.left.name);console.warn("Unhandled left node",this.node.left);break;case"+=":if("MemberExpression"===this.node.left.type)return this.visitor.visitNode(this.node.left.object)[this.visitor.visitNode(this.node.left.property)]+=e;if("Identifier"===this.node.left.type){const t=this.visitor.visitNode(this.node.left)+e;return this.visitor.scope.set(this.node.left.name,t),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"-=":if("MemberExpression"===this.node.left.type)return this.visitor.visitNode(this.node.left.object)[this.visitor.visitNode(this.node.left.property)]-=e;if("Identifier"===this.node.left.type){const t=this.visitor.visitNode(this.node.left)-e;return this.visitor.scope.set(this.node.left.name,t),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"*=":if("MemberExpression"===this.node.left.type)return this.visitor.visitNode(this.node.left.object)[this.visitor.visitNode(this.node.left.property)]*=e;if("Identifier"===this.node.left.type){const t=this.visitor.visitNode(this.node.left)*e;return this.visitor.scope.set(this.node.left.name,t),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"/=":if("MemberExpression"===this.node.left.type)return this.visitor.visitNode(this.node.left.object)[this.visitor.visitNode(this.node.left.property)]/=e;if("Identifier"===this.node.left.type){const t=this.visitor.visitNode(this.node.left)/e;return this.visitor.scope.set(this.node.left.name,t),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"%=":if("MemberExpression"===this.node.left.type)return this.visitor.visitNode(this.node.left.object)[this.visitor.visitNode(this.node.left.property)]%=e;if("Identifier"===this.node.left.type){const t=this.visitor.visitNode(this.node.left)%e;return this.visitor.scope.set(this.node.left.name,t),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"**=":if("MemberExpression"===this.node.left.type)return this.visitor.visitNode(this.node.left.object)[this.visitor.visitNode(this.node.left.property)]**=e;if("Identifier"===this.node.left.type){const t=this.visitor.visitNode(this.node.left)**e;return this.visitor.scope.set(this.node.left.name,t),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"<<=":if("MemberExpression"===this.node.left.type)return this.visitor.visitNode(this.node.left.object)[this.visitor.visitNode(this.node.left.property)]<<=e;if("Identifier"===this.node.left.type){const t=this.visitor.visitNode(this.node.left)<<e;return this.visitor.scope.set(this.node.left.name,t),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>=":if("MemberExpression"===this.node.left.type)return this.visitor.visitNode(this.node.left.object)[this.visitor.visitNode(this.node.left.property)]>>=e;if("Identifier"===this.node.left.type){const t=this.visitor.visitNode(this.node.left)>>e;return this.visitor.scope.set(this.node.left.name,t),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>>=":if("MemberExpression"===this.node.left.type)return this.visitor.visitNode(this.node.left.object)[this.visitor.visitNode(this.node.left.property)]>>>=e;if("Identifier"===this.node.left.type){const t=this.visitor.visitNode(this.node.left)>>>e;return this.visitor.scope.set(this.node.left.name,t),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"&=":if("MemberExpression"===this.node.left.type)return this.visitor.visitNode(this.node.left.object)[this.visitor.visitNode(this.node.left.property)]&=e;if("Identifier"===this.node.left.type){const t=this.visitor.visitNode(this.node.left)&e;return this.visitor.scope.set(this.node.left.name,t),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left)}}}class Bb extends Pb{run(){const t=this.node.operator,e=this.visitor.visitNode(this.node.left),i=this.visitor.visitNode(this.node.right);switch(t){case"!=":return e!=i;case"!==":return e!==i;case"%":return e%i;case"&":return e&i;case"*":return e*i;case"**":return e**i;case"+":return e+i;case"-":return e-i;case"/":return e/i;case"<":return e<i;case"<<":return e<<i;case"<=":return e<=i;case"==":return e==i;case"===":return e===i;case">":return e>i;case">=":return e>=i;case">>":return e>>i;case">>>":return e>>>i;case"^":return e^i;case"|":return e|i;case"in":return e in i;case"instanceof":return e instanceof i}}}class Vb extends Pb{run(){for(const t of this.node.body){const e=this.visitor.visitNode(t);if("ReturnStatement"===t.type)return e;if("break"===e||"continue"===e)return e;if(("WhileStatement"===t.type||"IfStatement"===t.type||"ForStatement"===t.type||"TryStatement"===t.type)&&e)return e}}}class Ub extends Pb{run(){return"break"}}var jb,Wb,Fb=function(t,e,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(t):n?n.value:e.get(t)};class Hb extends Pb{constructor(){super(...arguments),jb.add(this)}run(){let t,e;if("MemberExpression"===this.node.callee.type?(t=this.visitor.getName(this.node.callee.object),e=this.visitor.getName(this.node.callee.property)):"Identifier"===this.node.callee.type&&(e=this.node.callee.name),t&&this.visitor.listeners[t]){const e=this.visitor.listeners[t](this.node,this.visitor);if("proceed"!==e)return e}if(e&&"toString"!==e&&this.visitor.listeners[e]){const t=this.visitor.listeners[e](this.node,this.visitor);if("proceed"!==t)return t}if("MemberExpression"===this.node.callee.type){if($b.has(this.node,this.visitor))return $b.execute(this.node,this.visitor);const t=this.visitor.visitNode(this.node.callee.object),e=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),i=this.node.arguments.map((t=>this.visitor.visitNode(t)));return"function"!=typeof t[e]&&Fb(this,jb,"m",Wb).call(this),t[e].toString().includes("[native code]")?t[e](...i):t[e](i)}const i=this.visitor.visitNode(this.node.callee),n=this.node.arguments.map((t=>this.visitor.visitNode(t)));return"function"!=typeof i&&Fb(this,jb,"m",Wb).call(this),i(n)}}jb=new WeakSet,Wb=function(){if("MemberExpression"===this.node.callee.type)throw new Error(`${"Identifier"===this.node.callee.object.type?this.node.callee.object.name:"<object>"}.${"Identifier"===this.node.callee.property.type?this.node.callee.property.name:"?"} is not a function`);if("Identifier"===this.node.callee.type)throw new Error(`${this.node.callee.name} is not a function`);if("SequenceExpression"===this.node.callee.type){const t=[],e=[];throw t.push("("),this.node.callee.expressions.forEach((t=>{"Literal"===t.type?e.push(t.raw||""):"Identifier"===t.type?e.push(t.name):"MemberExpression"===t.type&&(t.computed?e.push(`${this.visitor.getName(t.object)}[${this.visitor.getName(t.property)||"..."}]`):e.push(`${this.visitor.getName(t.object)}.${this.visitor.getName(t.property)}`))})),t.push(e.join(", ")),t.push(")"),new Error(`${t.join("")} is not a function`)}};class $b{static has(t,e){var i;return"MemberExpression"===t.callee.type&&!!(null===(i=this.builtins)||void 0===i?void 0:i[e.getName(t.callee.property)||""])}static execute(t,e){if("MemberExpression"===t.callee.type)return this.builtins[e.getName(t.callee.property)||""](t,e)}}$b.builtins={forEach:(t,e)=>{const i=t.arguments.map((t=>e.visitNode(t)));if("MemberExpression"===t.callee.type){const n=e.visitNode(t.callee.object);i.length>1&&e.scope.set("_this",i.slice(-1)[0]);let s=0;for(const t of n)i[0]([t,s++,n])}else console.warn("Unhandled callee type:",t.callee.type)},toString:(t,e)=>{if("MemberExpression"===t.callee.type)return e.visitNode(t.callee.object).toString()}};class Gb extends Pb{run(){const{test:t,consequent:e,alternate:i}=this.node;return this.visitor.visitNode(t)?this.visitor.visitNode(e):this.visitor.visitNode(i)}}class Yb extends Pb{run(){return"continue"}}class Kb extends Pb{run(){return this.visitor.visitNode(this.node.expression)}}class zb extends Pb{run(){this.visitor.visitNode(this.node.left);const t=this.visitor.visitNode(this.node.right);for(const e of t){if("VariableDeclaration"===this.node.left.type&&"Identifier"===this.node.left.declarations[0].id.type)this.visitor.scope.set(this.node.left.declarations[0].id.name,e);else if("VariableDeclaration"===this.node.left.type&&"ObjectPattern"===this.node.left.declarations[0].id.type)for(const t of this.node.left.declarations[0].id.properties)"Property"===t.type&&"Identifier"===t.value.type&&"Identifier"===t.key.type&&this.visitor.scope.set(t.value.name,e[t.key.name]);const t=this.visitor.visitNode(this.node.body);if("break"===t)break;if("continue"!==t&&t&&"ExpressionStatement"!==this.node.body.type)return t}}}class qb extends Pb{run(){this.node.init&&this.visitor.visitNode(this.node.init);const t=()=>!this.node.test||this.visitor.visitNode(this.node.test);for(;t();){const t=this.visitor.visitNode(this.node.body);if("continue"!==t){if("break"===t)break;if(this.node.update&&this.visitor.visitNode(this.node.update),t&&"ExpressionStatement"!==this.node.body.type)return t}}}}class Xb extends Pb{run(){const{params:t,body:e}=this.node,i=this.visitor.visitNode(this.node.id),n=Db(i,(i=>{let n=0;for(const e of t)this.visitor.visitNode(e),"Identifier"===e.type?this.visitor.scope.set(e.name,i[n]):console.warn("Unhandled param type",e.type),n++;return this.visitor.visitNode(e)}));this.visitor.scope.set(i,n)}}class Qb extends Pb{run(){const{params:t,body:e}=this.node;return Db("anonymous function",(i=>{let n=0;for(const e of t)this.visitor.visitNode(e),"Identifier"===e.type?this.visitor.scope.set(e.name,i[n]):console.warn("Unhandled param type",e.type),n++;return this.visitor.visitNode(e)}))}}class Jb extends Pb{run(){if(this.visitor.listeners[this.node.name]){const t=this.visitor.listeners[this.node.name](this.node,this.visitor);if("proceed"!==t)return t}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}}class Zb extends Pb{run(){return this.visitor.visitNode(this.node.test)?this.visitor.visitNode(this.node.consequent):this.node.alternate?this.visitor.visitNode(this.node.alternate):void 0}}class tw extends Pb{run(){return this.node.value}}class ew extends Pb{run(){switch(this.node.operator){case"&&":{const t=this.visitor.visitNode(this.node.left);return!0===t?this.visitor.visitNode(this.node.right):t}case"||":return this.visitor.visitNode(this.node.left)||this.visitor.visitNode(this.node.right);case"??":{const t=this.visitor.visitNode(this.node.left);return null!=t?t:this.visitor.visitNode(this.node.right)}}}}class iw extends Pb{run(){const{object:t,property:e,computed:i}=this.node,n=this.visitor.visitNode(t),s=i?this.visitor.visitNode(e):this.visitor.getName(e);if(void 0!==s||null!==s){if(this.visitor.listeners[s]){const t=this.visitor.listeners[s](this.node,this.visitor);if("proceed"!==t)return t}return null==n?void 0:n[s]}}}class nw extends Pb{run(){return new(this.visitor.visitNode(this.node.callee))(this.node.arguments.map((t=>this.visitor.visitNode(t))))}}class sw extends Pb{run(){let t={};for(const e of this.node.properties){if("Property"!==e.type)throw new Error(`Unhandled property type: ${e.type}`);t=Object.assign(Object.assign({},t),this.visitor.visitNode(e))}return t}}var ow,rw,aw,cw,lw=function(t,e,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(t):n?n.value:e.get(t)};class uw extends Pb{constructor(){super(...arguments),ow.add(this)}run(){switch(this.node.kind){case"init":return lw(this,ow,"m",rw).call(this);case"get":return lw(this,ow,"m",aw).call(this);case"set":return lw(this,ow,"m",cw).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}}ow=new WeakSet,rw=function(){const t=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),e=this.visitor.visitNode(this.node.value);if(t)return{[t]:e}},aw=function(){throw new TypeError("Not implemented: Property.get")},cw=function(){throw new TypeError("Not implemented: Property.set")};class hw extends Pb{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}}class dw extends Pb{run(){let t;for(const e of this.node.expressions)t=this.visitor.visitNode(e);return t}}class pw extends Pb{run(){for(const t of this.node.consequent){const e=this.visitor.visitNode(t);if("ContinueStatement"===t.type||"BreakStatement"===t.type)return e}}}class fw extends Pb{run(){const t=this.visitor.visitNode(this.node.discriminant);let e=!1,i=-1,n=0;for(;;){const s=this.node.cases[n];if(e){const t=this.visitor.visitNode(s);if("break"===t)break;if("continue"===t)return t;if(++n,n>=this.node.cases.length){n=0;break}}else{if(e=s&&t===this.visitor.visitNode(s.test),void 0===e&&n>this.node.cases.length)break;!s||e||s.test?s||e||-1===i?e||++n:(e=!0,n=i):(i=n,n+=1)}}}}class vw extends Pb{run(){return this.visitor.scope.get("_this")}}class mw extends Pb{run(){throw this.visitor.visitNode(this.node.argument)}}class _w extends Pb{run(){try{return this.visitor.visitNode(this.node.block)}catch(t){if(this.node.handler)return this.node.handler.param&&"Identifier"===this.node.handler.param.type&&this.visitor.scope.set(this.node.handler.param.name,t),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}}class gw extends Pb{run(){const t=this.node.operator;switch(t){case"-":return-this.visitor.visitNode(this.node.argument);case"+":return+this.visitor.visitNode(this.node.argument);case"!":return!this.visitor.visitNode(this.node.argument);case"~":return~this.visitor.visitNode(this.node.argument);case"void":return void this.visitor.visitNode(this.node.argument);case"typeof":return typeof this.visitor.visitNode(this.node.argument);case"delete":return"MemberExpression"===this.node.argument.type?delete this.visitor.visitNode(this.node.argument.object)[this.node.argument.computed?this.visitor.visitNode(this.node.argument.property):this.visitor.getName(this.node.argument.property)]:"Identifier"!==this.node.argument.type||this.visitor.scope.delete(this.node.argument.name);default:console.warn("Unhandled UnaryExpression operator",t)}}}class yw extends Pb{run(){switch(this.node.operator){case"++":if("MemberExpression"===this.node.argument.type)return this.visitor.visitNode(this.node.argument.object)[this.visitor.visitNode(this.node.argument.property)]++;if("Identifier"===this.node.argument.type){let t=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,t+1),this.node.prefix?++t:t}break;case"--":if("MemberExpression"===this.node.argument.type)return this.visitor.visitNode(this.node.argument.object)[this.visitor.visitNode(this.node.argument.property)]--;if("Identifier"===this.node.argument.type){let t=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,t-1),this.node.prefix?--t:t}}}}class bw extends Pb{run(){this.node.declarations.forEach((t=>{const{id:e,init:i}=t,n=this.visitor.getName(e),s=i?this.visitor.visitNode(i):void 0;n&&this.visitor.scope.set(n,s),"object"==typeof s&&null!==s&&this.visitor.scope.set("_this",s)}))}}class ww extends Pb{run(){for(;this.visitor.visitNode(this.node.test);){const t=this.visitor.visitNode(this.node.body);if("break"===t)break;if("continue"!==t&&t)return t}}}var xw,Sw;class Tw{constructor(t){xw.add(this),this.scope=new Map,this.listeners={},this.ast=t}run(){let t;for(const e of this.ast)t=this.visitNode(e);return t}visitNode(t){if(!t)return null;const e=function(t,e,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(t):n?n.value:e.get(t)}(this,xw,"m",Sw).call(this,t.type);return e?new e(t,this).run():void 0}getName(t){return"Identifier"===t.type?t.name:"Literal"===t.type?t.value:void 0}on(t,e){this.listeners[t]=e}}xw=new WeakSet,Sw=function(t){const e=u[t];return e||console.warn("[JINTER]:",`JavaScript node "${t}" not implemented!\nIf this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),e};var Iw=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],Cw=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],kw="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",Ew={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Rw="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",Aw={5:Rw,"5module":Rw+" export import",6:Rw+" const class extends export import super"},Mw=/^in(stanceof)?$/,Pw=new RegExp("["+kw+"]"),Ow=new RegExp("["+kw+"‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･]");function Dw(t,e){for(var i=65536,n=0;n<e.length;n+=2){if((i+=e[n])>t)return!1;if((i+=e[n+1])>=t)return!0}return!1}function Nw(t,e){return t<65?36===t:t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&Pw.test(String.fromCharCode(t)):!1!==e&&Dw(t,Cw)))}function Lw(t,e){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&Ow.test(String.fromCharCode(t)):!1!==e&&(Dw(t,Cw)||Dw(t,Iw)))))}var Bw=function(t,e){void 0===e&&(e={}),this.label=t,this.keyword=e.keyword,this.beforeExpr=!!e.beforeExpr,this.startsExpr=!!e.startsExpr,this.isLoop=!!e.isLoop,this.isAssign=!!e.isAssign,this.prefix=!!e.prefix,this.postfix=!!e.postfix,this.binop=e.binop||null,this.updateContext=null};function Vw(t,e){return new Bw(t,{beforeExpr:!0,binop:e})}var Uw={beforeExpr:!0},jw={startsExpr:!0},Ww={};function Fw(t,e){return void 0===e&&(e={}),e.keyword=t,Ww[t]=new Bw(t,e)}var Hw={num:new Bw("num",jw),regexp:new Bw("regexp",jw),string:new Bw("string",jw),name:new Bw("name",jw),privateId:new Bw("privateId",jw),eof:new Bw("eof"),bracketL:new Bw("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Bw("]"),braceL:new Bw("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Bw("}"),parenL:new Bw("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Bw(")"),comma:new Bw(",",Uw),semi:new Bw(";",Uw),colon:new Bw(":",Uw),dot:new Bw("."),question:new Bw("?",Uw),questionDot:new Bw("?."),arrow:new Bw("=>",Uw),template:new Bw("template"),invalidTemplate:new Bw("invalidTemplate"),ellipsis:new Bw("...",Uw),backQuote:new Bw("`",jw),dollarBraceL:new Bw("${",{beforeExpr:!0,startsExpr:!0}),eq:new Bw("=",{beforeExpr:!0,isAssign:!0}),assign:new Bw("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Bw("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Bw("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Vw("||",1),logicalAND:Vw("&&",2),bitwiseOR:Vw("|",3),bitwiseXOR:Vw("^",4),bitwiseAND:Vw("&",5),equality:Vw("==/!=/===/!==",6),relational:Vw("</>/<=/>=",7),bitShift:Vw("<</>>/>>>",8),plusMin:new Bw("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Vw("%",10),star:Vw("*",10),slash:Vw("/",10),starstar:new Bw("**",{beforeExpr:!0}),coalesce:Vw("??",1),_break:Fw("break"),_case:Fw("case",Uw),_catch:Fw("catch"),_continue:Fw("continue"),_debugger:Fw("debugger"),_default:Fw("default",Uw),_do:Fw("do",{isLoop:!0,beforeExpr:!0}),_else:Fw("else",Uw),_finally:Fw("finally"),_for:Fw("for",{isLoop:!0}),_function:Fw("function",jw),_if:Fw("if"),_return:Fw("return",Uw),_switch:Fw("switch"),_throw:Fw("throw",Uw),_try:Fw("try"),_var:Fw("var"),_const:Fw("const"),_while:Fw("while",{isLoop:!0}),_with:Fw("with"),_new:Fw("new",{beforeExpr:!0,startsExpr:!0}),_this:Fw("this",jw),_super:Fw("super",jw),_class:Fw("class",jw),_extends:Fw("extends",Uw),_export:Fw("export"),_import:Fw("import",jw),_null:Fw("null",jw),_true:Fw("true",jw),_false:Fw("false",jw),_in:Fw("in",{beforeExpr:!0,binop:7}),_instanceof:Fw("instanceof",{beforeExpr:!0,binop:7}),_typeof:Fw("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Fw("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Fw("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},$w=/\r\n?|\n|\u2028|\u2029/,Gw=new RegExp($w.source,"g");function Yw(t){return 10===t||13===t||8232===t||8233===t}function Kw(t,e,i){void 0===i&&(i=t.length);for(var n=e;n<i;n++){var s=t.charCodeAt(n);if(Yw(s))return n<i-1&&13===s&&10===t.charCodeAt(n+1)?n+2:n+1}return-1}var zw=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,qw=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Xw=Object.prototype,Qw=Xw.hasOwnProperty,Jw=Xw.toString,Zw=Object.hasOwn||function(t,e){return Qw.call(t,e)},tx=Array.isArray||function(t){return"[object Array]"===Jw.call(t)},ex=Object.create(null);function ix(t){return ex[t]||(ex[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}function nx(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}var sx=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,ox=function(t,e){this.line=t,this.column=e};ox.prototype.offset=function(t){return new ox(this.line,this.column+t)};var rx=function(t,e,i){this.start=e,this.end=i,null!==t.sourceFile&&(this.source=t.sourceFile)};function ax(t,e){for(var i=1,n=0;;){var s=Kw(t,n,e);if(s<0)return new ox(i,e-n);++i,n=s}}var cx={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},lx=!1;function ux(t,e){return 2|(t?4:0)|(e?8:0)}var hx=function(t,e,i){this.options=t=function(t){var e={};for(var i in cx)e[i]=t&&Zw(t,i)?t[i]:cx[i];if("latest"===e.ecmaVersion?e.ecmaVersion=1e8:null==e.ecmaVersion?(!lx&&"object"==typeof console&&console.warn&&(lx=!0,console.warn("Since Acorn 8.0.0, options.ecmaVersion is required.\nDefaulting to 2020, but this will stop working in the future.")),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),null==e.allowReserved&&(e.allowReserved=e.ecmaVersion<5),t&&null!=t.allowHashBang||(e.allowHashBang=e.ecmaVersion>=14),tx(e.onToken)){var n=e.onToken;e.onToken=function(t){return n.push(t)}}return tx(e.onComment)&&(e.onComment=function(t,e){return function(i,n,s,o,r,a){var c={type:i?"Block":"Line",value:n,start:s,end:o};t.locations&&(c.loc=new rx(this,r,a)),t.ranges&&(c.range=[s,o]),e.push(c)}}(e,e.onComment)),e}(t),this.sourceFile=t.sourceFile,this.keywords=ix(Aw[t.ecmaVersion>=6?6:"module"===t.sourceType?"5module":5]);var n="";!0!==t.allowReserved&&(n=Ew[t.ecmaVersion>=6?6:5===t.ecmaVersion?5:3],"module"===t.sourceType&&(n+=" await")),this.reservedWords=ix(n);var s=(n?n+" ":"")+Ew.strict;this.reservedWordsStrict=ix(s),this.reservedWordsStrictBind=ix(s+" "+Ew.strictBind),this.input=String(e),this.containsEsc=!1,i?(this.pos=i,this.lineStart=this.input.lastIndexOf("\n",i-1)+1,this.curLine=this.input.slice(0,this.lineStart).split($w).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=Hw.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===t.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),0===this.pos&&t.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null,this.privateNameStack=[]},dx={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};hx.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)},dx.inFunction.get=function(){return(2&this.currentVarScope().flags)>0},dx.inGenerator.get=function(){return(8&this.currentVarScope().flags)>0&&!this.currentVarScope().inClassFieldInit},dx.inAsync.get=function(){return(4&this.currentVarScope().flags)>0&&!this.currentVarScope().inClassFieldInit},dx.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||256&e.flags)return!1;if(2&e.flags)return(4&e.flags)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},dx.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(64&e)>0||i||this.options.allowSuperOutsideMethod},dx.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},dx.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},dx.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(258&e)>0||i},dx.inClassStaticBlock.get=function(){return(256&this.currentVarScope().flags)>0},hx.extend=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var i=this,n=0;n<t.length;n++)i=t[n](i);return i},hx.parse=function(t,e){return new this(e,t).parse()},hx.parseExpressionAt=function(t,e,i){var n=new this(i,t,e);return n.nextToken(),n.parseExpression()},hx.tokenizer=function(t,e){return new this(e,t)},Object.defineProperties(hx.prototype,dx);var px=hx.prototype,fx=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;px.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){qw.lastIndex=t,t+=qw.exec(this.input)[0].length;var e=fx.exec(this.input.slice(t));if(!e)return!1;if("use strict"===(e[1]||e[2])){qw.lastIndex=t+e[0].length;var i=qw.exec(this.input),n=i.index+i[0].length,s=this.input.charAt(n);return";"===s||"}"===s||$w.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(s)||"!"===s&&"="===this.input.charAt(n+1))}t+=e[0].length,qw.lastIndex=t,t+=qw.exec(this.input)[0].length,";"===this.input[t]&&t++}},px.eat=function(t){return this.type===t&&(this.next(),!0)},px.isContextual=function(t){return this.type===Hw.name&&this.value===t&&!this.containsEsc},px.eatContextual=function(t){return!!this.isContextual(t)&&(this.next(),!0)},px.expectContextual=function(t){this.eatContextual(t)||this.unexpected()},px.canInsertSemicolon=function(){return this.type===Hw.eof||this.type===Hw.braceR||$w.test(this.input.slice(this.lastTokEnd,this.start))},px.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},px.semicolon=function(){this.eat(Hw.semi)||this.insertSemicolon()||this.unexpected()},px.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0},px.expect=function(t){this.eat(t)||this.unexpected()},px.unexpected=function(t){this.raise(null!=t?t:this.start,"Unexpected token")};var vx=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};px.checkPatternErrors=function(t,e){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}},px.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,n=t.doubleProto;if(!e)return i>=0||n>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),n>=0&&this.raiseRecoverable(n,"Redefinition of __proto__ property")},px.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},px.isSimpleAssignTarget=function(t){return"ParenthesizedExpression"===t.type?this.isSimpleAssignTarget(t.expression):"Identifier"===t.type||"MemberExpression"===t.type};var mx=hx.prototype;mx.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==Hw.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var n=0,s=Object.keys(this.undefinedExports);n<s.length;n+=1){var o=s[n];this.raiseRecoverable(this.undefinedExports[o].start,"Export '"+o+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var _x={kind:"loop"},gx={kind:"switch"};mx.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;qw.lastIndex=this.pos;var e=qw.exec(this.input),i=this.pos+e[0].length,n=this.input.charCodeAt(i);if(91===n||92===n)return!0;if(t)return!1;if(123===n||n>55295&&n<56320)return!0;if(Nw(n,!0)){for(var s=i+1;Lw(n=this.input.charCodeAt(s),!0);)++s;if(92===n||n>55295&&n<56320)return!0;var o=this.input.slice(i,s);if(!Mw.test(o))return!0}return!1},mx.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;qw.lastIndex=this.pos;var t,e=qw.exec(this.input),i=this.pos+e[0].length;return!($w.test(this.input.slice(this.pos,i))||"function"!==this.input.slice(i,i+8)||i+8!==this.input.length&&(Lw(t=this.input.charCodeAt(i+8))||t>55295&&t<56320))},mx.parseStatement=function(t,e,i){var n,s=this.type,o=this.startNode();switch(this.isLet(t)&&(s=Hw._var,n="let"),s){case Hw._break:case Hw._continue:return this.parseBreakContinueStatement(o,s.keyword);case Hw._debugger:return this.parseDebuggerStatement(o);case Hw._do:return this.parseDoStatement(o);case Hw._for:return this.parseForStatement(o);case Hw._function:return t&&(this.strict||"if"!==t&&"label"!==t)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(o,!1,!t);case Hw._class:return t&&this.unexpected(),this.parseClass(o,!0);case Hw._if:return this.parseIfStatement(o);case Hw._return:return this.parseReturnStatement(o);case Hw._switch:return this.parseSwitchStatement(o);case Hw._throw:return this.parseThrowStatement(o);case Hw._try:return this.parseTryStatement(o);case Hw._const:case Hw._var:return n=n||this.value,t&&"var"!==n&&this.unexpected(),this.parseVarStatement(o,n);case Hw._while:return this.parseWhileStatement(o);case Hw._with:return this.parseWithStatement(o);case Hw.braceL:return this.parseBlock(!0,o);case Hw.semi:return this.parseEmptyStatement(o);case Hw._export:case Hw._import:if(this.options.ecmaVersion>10&&s===Hw._import){qw.lastIndex=this.pos;var r=qw.exec(this.input),a=this.pos+r[0].length,c=this.input.charCodeAt(a);if(40===c||46===c)return this.parseExpressionStatement(o,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),s===Hw._import?this.parseImport(o):this.parseExport(o,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(o,!0,!t);var l=this.value,u=this.parseExpression();return s===Hw.name&&"Identifier"===u.type&&this.eat(Hw.colon)?this.parseLabeledStatement(o,l,u,t):this.parseExpressionStatement(o,u)}},mx.parseBreakContinueStatement=function(t,e){var i="break"===e;this.next(),this.eat(Hw.semi)||this.insertSemicolon()?t.label=null:this.type!==Hw.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var n=0;n<this.labels.length;++n){var s=this.labels[n];if(null==t.label||s.name===t.label.name){if(null!=s.kind&&(i||"loop"===s.kind))break;if(t.label&&i)break}}return n===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")},mx.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")},mx.parseDoStatement=function(t){return this.next(),this.labels.push(_x),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(Hw._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(Hw.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")},mx.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(_x),this.enterScope(0),this.expect(Hw.parenL),this.type===Hw.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===Hw._var||this.type===Hw._const||i){var n=this.startNode(),s=i?"let":this.value;return this.next(),this.parseVar(n,!0,s),this.finishNode(n,"VariableDeclaration"),(this.type===Hw._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===n.declarations.length?(this.options.ecmaVersion>=9&&(this.type===Hw._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,n)):(e>-1&&this.unexpected(e),this.parseFor(t,n))}var o=this.isContextual("let"),r=!1,a=new vx,c=this.parseExpression(!(e>-1)||"await",a);return this.type===Hw._in||(r=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===Hw._in?e>-1&&this.unexpected(e):t.await=e>-1),o&&r&&this.raise(c.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(c,!1,a),this.checkLValPattern(c),this.parseForIn(t,c)):(this.checkExpressionErrors(a,!0),e>-1&&this.unexpected(e),this.parseFor(t,c))},mx.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,bx|(i?0:wx),!1,e)},mx.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(Hw._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")},mx.parseReturnStatement=function(t){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(Hw.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")},mx.parseSwitchStatement=function(t){var e;this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(Hw.braceL),this.labels.push(gx),this.enterScope(0);for(var i=!1;this.type!==Hw.braceR;)if(this.type===Hw._case||this.type===Hw._default){var n=this.type===Hw._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),n?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(Hw.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")},mx.parseThrowStatement=function(t){return this.next(),$w.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var yx=[];mx.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e="Identifier"===t.type;return this.enterScope(e?32:0),this.checkLValPattern(t,e?4:2),this.expect(Hw.parenR),t},mx.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===Hw._catch){var e=this.startNode();this.next(),this.eat(Hw.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(Hw._finally)?this.parseBlock():null,t.handler||t.finalizer||this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")},mx.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")},mx.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(_x),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")},mx.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")},mx.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")},mx.parseLabeledStatement=function(t,e,i,n){for(var s=0,o=this.labels;s<o.length;s+=1)o[s].name===e&&this.raise(i.start,"Label '"+e+"' is already declared");for(var r=this.type.isLoop?"loop":this.type===Hw._switch?"switch":null,a=this.labels.length-1;a>=0;a--){var c=this.labels[a];if(c.statementStart!==t.start)break;c.statementStart=this.start,c.kind=r}return this.labels.push({name:e,kind:r,statementStart:this.start}),t.body=this.parseStatement(n?-1===n.indexOf("label")?n+"label":n:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")},mx.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")},mx.parseBlock=function(t,e,i){for(void 0===t&&(t=!0),void 0===e&&(e=this.startNode()),e.body=[],this.expect(Hw.braceL),t&&this.enterScope(0);this.type!==Hw.braceR;){var n=this.parseStatement(null);e.body.push(n)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")},mx.parseFor=function(t,e){return t.init=e,this.expect(Hw.semi),t.test=this.type===Hw.semi?null:this.parseExpression(),this.expect(Hw.semi),t.update=this.type===Hw.parenR?null:this.parseExpression(),this.expect(Hw.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")},mx.parseForIn=function(t,e){var i=this.type===Hw._in;return this.next(),"VariableDeclaration"===e.type&&null!=e.declarations[0].init&&(!i||this.options.ecmaVersion<8||this.strict||"var"!==e.kind||"Identifier"!==e.declarations[0].id.type)&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(Hw.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")},mx.parseVar=function(t,e,i,n){for(t.declarations=[],t.kind=i;;){var s=this.startNode();if(this.parseVarId(s,i),this.eat(Hw.eq)?s.init=this.parseMaybeAssign(e):n||"const"!==i||this.type===Hw._in||this.options.ecmaVersion>=6&&this.isContextual("of")?n||"Identifier"===s.id.type||e&&(this.type===Hw._in||this.isContextual("of"))?s.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),t.declarations.push(this.finishNode(s,"VariableDeclarator")),!this.eat(Hw.comma))break}return t},mx.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,"var"===e?1:2,!1)};var bx=1,wx=2;function xx(t,e){var i=e.key.name,n=t[i],s="true";return"MethodDefinition"!==e.type||"get"!==e.kind&&"set"!==e.kind||(s=(e.static?"s":"i")+e.kind),"iget"===n&&"iset"===s||"iset"===n&&"iget"===s||"sget"===n&&"sset"===s||"sset"===n&&"sget"===s?(t[i]="true",!1):!!n||(t[i]=s,!1)}function Sx(t,e){var i=t.computed,n=t.key;return!i&&("Identifier"===n.type&&n.name===e||"Literal"===n.type&&n.value===e)}mx.parseFunction=function(t,e,i,n,s){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!n)&&(this.type===Hw.star&&e&wx&&this.unexpected(),t.generator=this.eat(Hw.star)),this.options.ecmaVersion>=8&&(t.async=!!n),e&bx&&(t.id=4&e&&this.type!==Hw.name?null:this.parseIdent(),!t.id||e&wx||this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?1:2:3));var o=this.yieldPos,r=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(ux(t.async,t.generator)),e&bx||(t.id=this.type===Hw.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,s),this.yieldPos=o,this.awaitPos=r,this.awaitIdentPos=a,this.finishNode(t,e&bx?"FunctionDeclaration":"FunctionExpression")},mx.parseFunctionParams=function(t){this.expect(Hw.parenL),t.params=this.parseBindingList(Hw.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},mx.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var n=this.enterClassBody(),s=this.startNode(),o=!1;for(s.body=[],this.expect(Hw.braceL);this.type!==Hw.braceR;){var r=this.parseClassElement(null!==t.superClass);r&&(s.body.push(r),"MethodDefinition"===r.type&&"constructor"===r.kind?(o&&this.raiseRecoverable(r.start,"Duplicate constructor in the same class"),o=!0):r.key&&"PrivateIdentifier"===r.key.type&&xx(n,r)&&this.raiseRecoverable(r.key.start,"Identifier '#"+r.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(s,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")},mx.parseClassElement=function(t){if(this.eat(Hw.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),n="",s=!1,o=!1,r="method",a=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(Hw.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===Hw.star?a=!0:n="static"}if(i.static=a,!n&&e>=8&&this.eatContextual("async")&&(!this.isClassElementNameStart()&&this.type!==Hw.star||this.canInsertSemicolon()?n="async":o=!0),!n&&(e>=9||!o)&&this.eat(Hw.star)&&(s=!0),!n&&!o&&!s){var c=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?r=c:n=c)}if(n?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=n,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===Hw.parenL||"method"!==r||s||o){var l=!i.static&&Sx(i,"constructor"),u=l&&t;l&&"method"!==r&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=l?"constructor":r,this.parseClassMethod(i,s,o,u)}else this.parseClassField(i);return i},mx.isClassElementNameStart=function(){return this.type===Hw.name||this.type===Hw.privateId||this.type===Hw.num||this.type===Hw.string||this.type===Hw.bracketL||this.type.keyword},mx.parseClassElementName=function(t){this.type===Hw.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)},mx.parseClassMethod=function(t,e,i,n){var s=t.key;"constructor"===t.kind?(e&&this.raise(s.start,"Constructor can't be a generator"),i&&this.raise(s.start,"Constructor can't be an async method")):t.static&&Sx(t,"prototype")&&this.raise(s.start,"Classes may not have a static property named prototype");var o=t.value=this.parseMethod(e,i,n);return"get"===t.kind&&0!==o.params.length&&this.raiseRecoverable(o.start,"getter should have no params"),"set"===t.kind&&1!==o.params.length&&this.raiseRecoverable(o.start,"setter should have exactly one param"),"set"===t.kind&&"RestElement"===o.params[0].type&&this.raiseRecoverable(o.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")},mx.parseClassField=function(t){if(Sx(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&Sx(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(Hw.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")},mx.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(320);this.type!==Hw.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")},mx.parseClassId=function(t,e){this.type===Hw.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,2,!1)):(!0===e&&this.unexpected(),t.id=null)},mx.parseClassSuper=function(t){t.superClass=this.eat(Hw._extends)?this.parseExprSubscripts(null,!1):null},mx.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared},mx.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(this.options.checkPrivateFields)for(var n=this.privateNameStack.length,s=0===n?null:this.privateNameStack[n-1],o=0;o<i.length;++o){var r=i[o];Zw(e,r.name)||(s?s.used.push(r):this.raiseRecoverable(r.start,"Private field '#"+r.name+"' must be declared in an enclosing class"))}},mx.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==Hw.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")},mx.parseExport=function(t,e){if(this.next(),this.eat(Hw.star))return this.parseExportAllDeclaration(t,e);if(this.eat(Hw._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),"VariableDeclaration"===t.declaration.type?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==Hw.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,n=t.specifiers;i<n.length;i+=1){var s=n[i];this.checkUnreserved(s.local),this.checkLocalExport(s.local),"Literal"===s.local.type&&this.raise(s.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")},mx.parseExportDeclaration=function(t){return this.parseStatement(null)},mx.parseExportDefaultDeclaration=function(){var t;if(this.type===Hw._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,4|bx,!1,t)}if(this.type===Hw._class){var i=this.startNode();return this.parseClass(i,"nullableID")}var n=this.parseMaybeAssign();return this.semicolon(),n},mx.checkExport=function(t,e,i){t&&("string"!=typeof e&&(e="Identifier"===e.type?e.name:e.value),Zw(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)},mx.checkPatternExport=function(t,e){var i=e.type;if("Identifier"===i)this.checkExport(t,e,e.start);else if("ObjectPattern"===i)for(var n=0,s=e.properties;n<s.length;n+=1){var o=s[n];this.checkPatternExport(t,o)}else if("ArrayPattern"===i)for(var r=0,a=e.elements;r<a.length;r+=1){var c=a[r];c&&this.checkPatternExport(t,c)}else"Property"===i?this.checkPatternExport(t,e.value):"AssignmentPattern"===i?this.checkPatternExport(t,e.left):"RestElement"===i&&this.checkPatternExport(t,e.argument)},mx.checkVariableExport=function(t,e){if(t)for(var i=0,n=e;i<n.length;i+=1){var s=n[i];this.checkPatternExport(t,s.id)}},mx.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},mx.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")},mx.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(Hw.braceL);!this.eat(Hw.braceR);){if(i)i=!1;else if(this.expect(Hw.comma),this.afterTrailingComma(Hw.braceR))break;e.push(this.parseExportSpecifier(t))}return e},mx.parseImport=function(t){return this.next(),this.type===Hw.string?(t.specifiers=yx,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===Hw.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")},mx.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,2),this.finishNode(t,"ImportSpecifier")},mx.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,2),this.finishNode(t,"ImportDefaultSpecifier")},mx.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,2),this.finishNode(t,"ImportNamespaceSpecifier")},mx.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===Hw.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(Hw.comma)))return t;if(this.type===Hw.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(Hw.braceL);!this.eat(Hw.braceR);){if(e)e=!1;else if(this.expect(Hw.comma),this.afterTrailingComma(Hw.braceR))break;t.push(this.parseImportSpecifier())}return t},mx.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===Hw.string){var t=this.parseLiteral(this.value);return sx.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)},mx.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)},mx.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"string"==typeof t.expression.value&&('"'===this.input[t.start]||"'"===this.input[t.start])};var Tx=hx.prototype;Tx.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&"await"===t.name&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var n=0,s=t.properties;n<s.length;n+=1){var o=s[n];this.toAssignable(o,e),"RestElement"!==o.type||"ArrayPattern"!==o.argument.type&&"ObjectPattern"!==o.argument.type||this.raise(o.argument.start,"Unexpected token")}break;case"Property":"init"!==t.kind&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),"AssignmentPattern"===t.argument.type&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==t.operator&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t},Tx.toAssignableList=function(t,e){for(var i=t.length,n=0;n<i;n++){var s=t[n];s&&this.toAssignable(s,e)}if(i){var o=t[i-1];6===this.options.ecmaVersion&&e&&o&&"RestElement"===o.type&&"Identifier"!==o.argument.type&&this.unexpected(o.argument.start)}return t},Tx.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")},Tx.parseRestBinding=function(){var t=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==Hw.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")},Tx.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case Hw.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(Hw.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case Hw.braceL:return this.parseObj(!0)}return this.parseIdent()},Tx.parseBindingList=function(t,e,i,n){for(var s=[],o=!0;!this.eat(t);)if(o?o=!1:this.expect(Hw.comma),e&&this.type===Hw.comma)s.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===Hw.ellipsis){var r=this.parseRestBinding();this.parseBindingListItem(r),s.push(r),this.type===Hw.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}s.push(this.parseAssignableListItem(n))}return s},Tx.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e},Tx.parseBindingListItem=function(t){return t},Tx.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(Hw.eq))return i;var n=this.startNodeAt(t,e);return n.left=i,n.right=this.parseMaybeAssign(),this.finishNode(n,"AssignmentPattern")},Tx.checkLValSimple=function(t,e,i){void 0===e&&(e=0);var n=0!==e;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(n?"Binding ":"Assigning to ")+t.name+" in strict mode"),n&&(2===e&&"let"===t.name&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(Zw(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),5!==e&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":n&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return n&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(n?"Binding":"Assigning to")+" rvalue")}},Tx.checkLValPattern=function(t,e,i){switch(void 0===e&&(e=0),t.type){case"ObjectPattern":for(var n=0,s=t.properties;n<s.length;n+=1){var o=s[n];this.checkLValInnerPattern(o,e,i)}break;case"ArrayPattern":for(var r=0,a=t.elements;r<a.length;r+=1){var c=a[r];c&&this.checkLValInnerPattern(c,e,i)}break;default:this.checkLValSimple(t,e,i)}},Tx.checkLValInnerPattern=function(t,e,i){switch(void 0===e&&(e=0),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var Ix=function(t,e,i,n,s){this.token=t,this.isExpr=!!e,this.preserveSpace=!!i,this.override=n,this.generator=!!s},Cx={b_stat:new Ix("{",!1),b_expr:new Ix("{",!0),b_tmpl:new Ix("${",!1),p_stat:new Ix("(",!1),p_expr:new Ix("(",!0),q_tmpl:new Ix("`",!0,!0,(function(t){return t.tryReadTemplateToken()})),f_stat:new Ix("function",!1),f_expr:new Ix("function",!0),f_expr_gen:new Ix("function",!0,!1,null,!0),f_gen:new Ix("function",!1,!1,null,!0)},kx=hx.prototype;kx.initialContext=function(){return[Cx.b_stat]},kx.curContext=function(){return this.context[this.context.length-1]},kx.braceIsBlock=function(t){var e=this.curContext();return e===Cx.f_expr||e===Cx.f_stat||(t!==Hw.colon||e!==Cx.b_stat&&e!==Cx.b_expr?t===Hw._return||t===Hw.name&&this.exprAllowed?$w.test(this.input.slice(this.lastTokEnd,this.start)):t===Hw._else||t===Hw.semi||t===Hw.eof||t===Hw.parenR||t===Hw.arrow||(t===Hw.braceL?e===Cx.b_stat:t!==Hw._var&&t!==Hw._const&&t!==Hw.name&&!this.exprAllowed):!e.isExpr)},kx.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if("function"===e.token)return e.generator}return!1},kx.updateContext=function(t){var e,i=this.type;i.keyword&&t===Hw.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr},kx.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)},Hw.parenR.updateContext=Hw.braceR.updateContext=function(){if(1!==this.context.length){var t=this.context.pop();t===Cx.b_stat&&"function"===this.curContext().token&&(t=this.context.pop()),this.exprAllowed=!t.isExpr}else this.exprAllowed=!0},Hw.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?Cx.b_stat:Cx.b_expr),this.exprAllowed=!0},Hw.dollarBraceL.updateContext=function(){this.context.push(Cx.b_tmpl),this.exprAllowed=!0},Hw.parenL.updateContext=function(t){var e=t===Hw._if||t===Hw._for||t===Hw._with||t===Hw._while;this.context.push(e?Cx.p_stat:Cx.p_expr),this.exprAllowed=!0},Hw.incDec.updateContext=function(){},Hw._function.updateContext=Hw._class.updateContext=function(t){!t.beforeExpr||t===Hw._else||t===Hw.semi&&this.curContext()!==Cx.p_stat||t===Hw._return&&$w.test(this.input.slice(this.lastTokEnd,this.start))||(t===Hw.colon||t===Hw.braceL)&&this.curContext()===Cx.b_stat?this.context.push(Cx.f_stat):this.context.push(Cx.f_expr),this.exprAllowed=!1},Hw.colon.updateContext=function(){"function"===this.curContext().token&&(this.context.pop(),this.exprAllowed=!0)},Hw.backQuote.updateContext=function(){this.curContext()===Cx.q_tmpl?this.context.pop():this.context.push(Cx.q_tmpl),this.exprAllowed=!1},Hw.star.updateContext=function(t){if(t===Hw._function){var e=this.context.length-1;this.context[e]===Cx.f_expr?this.context[e]=Cx.f_expr_gen:this.context[e]=Cx.f_gen}this.exprAllowed=!0},Hw.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==Hw.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var Ex=hx.prototype;function Rx(t){return"MemberExpression"===t.type&&"PrivateIdentifier"===t.property.type||"ChainExpression"===t.type&&Rx(t.expression)}Ex.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===t.type||this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var n,s=t.key;switch(s.type){case"Identifier":n=s.name;break;case"Literal":n=String(s.value);break;default:return}var o=t.kind;if(this.options.ecmaVersion>=6)"__proto__"===n&&"init"===o&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=s.start):this.raiseRecoverable(s.start,"Redefinition of __proto__ property")),e.proto=!0);else{var r=e[n="$"+n];r?("init"===o?this.strict&&r.init||r.get||r.set:r.init||r[o])&&this.raiseRecoverable(s.start,"Redefinition of property"):r=e[n]={init:!1,get:!1,set:!1},r[o]=!0}}},Ex.parseExpression=function(t,e){var i=this.start,n=this.startLoc,s=this.parseMaybeAssign(t,e);if(this.type===Hw.comma){var o=this.startNodeAt(i,n);for(o.expressions=[s];this.eat(Hw.comma);)o.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(o,"SequenceExpression")}return s},Ex.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var n=!1,s=-1,o=-1,r=-1;e?(s=e.parenthesizedAssign,o=e.trailingComma,r=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new vx,n=!0);var a=this.start,c=this.startLoc;this.type!==Hw.parenL&&this.type!==Hw.name||(this.potentialArrowAt=this.start,this.potentialArrowInForAwait="await"===t);var l=this.parseMaybeConditional(t,e);if(i&&(l=i.call(this,l,a,c)),this.type.isAssign){var u=this.startNodeAt(a,c);return u.operator=this.value,this.type===Hw.eq&&(l=this.toAssignable(l,!1,e)),n||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=l.start&&(e.shorthandAssign=-1),this.type===Hw.eq?this.checkLValPattern(l):this.checkLValSimple(l),u.left=l,this.next(),u.right=this.parseMaybeAssign(t),r>-1&&(e.doubleProto=r),this.finishNode(u,"AssignmentExpression")}return n&&this.checkExpressionErrors(e,!0),s>-1&&(e.parenthesizedAssign=s),o>-1&&(e.trailingComma=o),l},Ex.parseMaybeConditional=function(t,e){var i=this.start,n=this.startLoc,s=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return s;if(this.eat(Hw.question)){var o=this.startNodeAt(i,n);return o.test=s,o.consequent=this.parseMaybeAssign(),this.expect(Hw.colon),o.alternate=this.parseMaybeAssign(t),this.finishNode(o,"ConditionalExpression")}return s},Ex.parseExprOps=function(t,e){var i=this.start,n=this.startLoc,s=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||s.start===i&&"ArrowFunctionExpression"===s.type?s:this.parseExprOp(s,i,n,-1,t)},Ex.parseExprOp=function(t,e,i,n,s){var o=this.type.binop;if(null!=o&&(!s||this.type!==Hw._in)&&o>n){var r=this.type===Hw.logicalOR||this.type===Hw.logicalAND,a=this.type===Hw.coalesce;a&&(o=Hw.logicalAND.binop);var c=this.value;this.next();var l=this.start,u=this.startLoc,h=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,s),l,u,o,s),d=this.buildBinary(e,i,t,h,c,r||a);return(r&&this.type===Hw.coalesce||a&&(this.type===Hw.logicalOR||this.type===Hw.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,e,i,n,s)}return t},Ex.buildBinary=function(t,e,i,n,s,o){"PrivateIdentifier"===n.type&&this.raise(n.start,"Private identifier can only be left side of binary expression");var r=this.startNodeAt(t,e);return r.left=i,r.operator=s,r.right=n,this.finishNode(r,o?"LogicalExpression":"BinaryExpression")},Ex.parseMaybeUnary=function(t,e,i,n){var s,o=this.start,r=this.startLoc;if(this.isContextual("await")&&this.canAwait)s=this.parseAwait(n),e=!0;else if(this.type.prefix){var a=this.startNode(),c=this.type===Hw.incDec;a.operator=this.value,a.prefix=!0,this.next(),a.argument=this.parseMaybeUnary(null,!0,c,n),this.checkExpressionErrors(t,!0),c?this.checkLValSimple(a.argument):this.strict&&"delete"===a.operator&&"Identifier"===a.argument.type?this.raiseRecoverable(a.start,"Deleting local variable in strict mode"):"delete"===a.operator&&Rx(a.argument)?this.raiseRecoverable(a.start,"Private fields can not be deleted"):e=!0,s=this.finishNode(a,c?"UpdateExpression":"UnaryExpression")}else if(e||this.type!==Hw.privateId){if(s=this.parseExprSubscripts(t,n),this.checkExpressionErrors(t))return s;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=this.startNodeAt(o,r);l.operator=this.value,l.prefix=!1,l.argument=s,this.checkLValSimple(s),this.next(),s=this.finishNode(l,"UpdateExpression")}}else(n||0===this.privateNameStack.length)&&this.options.checkPrivateFields&&this.unexpected(),s=this.parsePrivateIdent(),this.type!==Hw._in&&this.unexpected();return i||!this.eat(Hw.starstar)?s:e?void this.unexpected(this.lastTokStart):this.buildBinary(o,r,s,this.parseMaybeUnary(null,!1,!1,n),"**",!1)},Ex.parseExprSubscripts=function(t,e){var i=this.start,n=this.startLoc,s=this.parseExprAtom(t,e);if("ArrowFunctionExpression"===s.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return s;var o=this.parseSubscripts(s,i,n,!1,e);return t&&"MemberExpression"===o.type&&(t.parenthesizedAssign>=o.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=o.start&&(t.parenthesizedBind=-1),t.trailingComma>=o.start&&(t.trailingComma=-1)),o},Ex.parseSubscripts=function(t,e,i,n,s){for(var o=this.options.ecmaVersion>=8&&"Identifier"===t.type&&"async"===t.name&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start==5&&this.potentialArrowAt===t.start,r=!1;;){var a=this.parseSubscript(t,e,i,n,o,r,s);if(a.optional&&(r=!0),a===t||"ArrowFunctionExpression"===a.type){if(r){var c=this.startNodeAt(e,i);c.expression=a,a=this.finishNode(c,"ChainExpression")}return a}t=a}},Ex.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(Hw.arrow)},Ex.parseSubscriptAsyncArrow=function(t,e,i,n){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,n)},Ex.parseSubscript=function(t,e,i,n,s,o,r){var a=this.options.ecmaVersion>=11,c=a&&this.eat(Hw.questionDot);n&&c&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var l=this.eat(Hw.bracketL);if(l||c&&this.type!==Hw.parenL&&this.type!==Hw.backQuote||this.eat(Hw.dot)){var u=this.startNodeAt(e,i);u.object=t,l?(u.property=this.parseExpression(),this.expect(Hw.bracketR)):this.type===Hw.privateId&&"Super"!==t.type?u.property=this.parsePrivateIdent():u.property=this.parseIdent("never"!==this.options.allowReserved),u.computed=!!l,a&&(u.optional=c),t=this.finishNode(u,"MemberExpression")}else if(!n&&this.eat(Hw.parenL)){var h=new vx,d=this.yieldPos,p=this.awaitPos,f=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var v=this.parseExprList(Hw.parenR,this.options.ecmaVersion>=8,!1,h);if(s&&!c&&this.shouldParseAsyncArrow())return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=p,this.awaitIdentPos=f,this.parseSubscriptAsyncArrow(e,i,v,r);this.checkExpressionErrors(h,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=p||this.awaitPos,this.awaitIdentPos=f||this.awaitIdentPos;var m=this.startNodeAt(e,i);m.callee=t,m.arguments=v,a&&(m.optional=c),t=this.finishNode(m,"CallExpression")}else if(this.type===Hw.backQuote){(c||o)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var _=this.startNodeAt(e,i);_.tag=t,_.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(_,"TaggedTemplateExpression")}return t},Ex.parseExprAtom=function(t,e,i){this.type===Hw.slash&&this.readRegexp();var n,s=this.potentialArrowAt===this.start;switch(this.type){case Hw._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),n=this.startNode(),this.next(),this.type!==Hw.parenL||this.allowDirectSuper||this.raise(n.start,"super() call outside constructor of a subclass"),this.type!==Hw.dot&&this.type!==Hw.bracketL&&this.type!==Hw.parenL&&this.unexpected(),this.finishNode(n,"Super");case Hw._this:return n=this.startNode(),this.next(),this.finishNode(n,"ThisExpression");case Hw.name:var o=this.start,r=this.startLoc,a=this.containsEsc,c=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!a&&"async"===c.name&&!this.canInsertSemicolon()&&this.eat(Hw._function))return this.overrideContext(Cx.f_expr),this.parseFunction(this.startNodeAt(o,r),0,!1,!0,e);if(s&&!this.canInsertSemicolon()){if(this.eat(Hw.arrow))return this.parseArrowExpression(this.startNodeAt(o,r),[c],!1,e);if(this.options.ecmaVersion>=8&&"async"===c.name&&this.type===Hw.name&&!a&&(!this.potentialArrowInForAwait||"of"!==this.value||this.containsEsc))return c=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(Hw.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(o,r),[c],!0,e)}return c;case Hw.regexp:var l=this.value;return(n=this.parseLiteral(l.value)).regex={pattern:l.pattern,flags:l.flags},n;case Hw.num:case Hw.string:return this.parseLiteral(this.value);case Hw._null:case Hw._true:case Hw._false:return(n=this.startNode()).value=this.type===Hw._null?null:this.type===Hw._true,n.raw=this.type.keyword,this.next(),this.finishNode(n,"Literal");case Hw.parenL:var u=this.start,h=this.parseParenAndDistinguishExpression(s,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(h)&&(t.parenthesizedAssign=u),t.parenthesizedBind<0&&(t.parenthesizedBind=u)),h;case Hw.bracketL:return n=this.startNode(),this.next(),n.elements=this.parseExprList(Hw.bracketR,!0,!0,t),this.finishNode(n,"ArrayExpression");case Hw.braceL:return this.overrideContext(Cx.b_expr),this.parseObj(!1,t);case Hw._function:return n=this.startNode(),this.next(),this.parseFunction(n,0);case Hw._class:return this.parseClass(this.startNode(),!1);case Hw._new:return this.parseNew();case Hw.backQuote:return this.parseTemplate();case Hw._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}},Ex.parseExprAtomDefault=function(){this.unexpected()},Ex.parseExprImport=function(t){var e=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var i=this.parseIdent(!0);return this.type!==Hw.parenL||t?this.type===Hw.dot?(e.meta=i,this.parseImportMeta(e)):void this.unexpected():this.parseDynamicImport(e)},Ex.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(Hw.parenR)){var e=this.start;this.eat(Hw.comma)&&this.eat(Hw.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")},Ex.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),"meta"!==t.property.name&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),"module"===this.options.sourceType||this.options.allowImportExportEverywhere||this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")},Ex.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),110===e.raw.charCodeAt(e.raw.length-1)&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")},Ex.parseParenExpression=function(){this.expect(Hw.parenL);var t=this.parseExpression();return this.expect(Hw.parenR),t},Ex.shouldParseArrow=function(t){return!this.canInsertSemicolon()},Ex.parseParenAndDistinguishExpression=function(t,e){var i,n=this.start,s=this.startLoc,o=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var r,a=this.start,c=this.startLoc,l=[],u=!0,h=!1,d=new vx,p=this.yieldPos,f=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==Hw.parenR;){if(u?u=!1:this.expect(Hw.comma),o&&this.afterTrailingComma(Hw.parenR,!0)){h=!0;break}if(this.type===Hw.ellipsis){r=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===Hw.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}l.push(this.parseMaybeAssign(!1,d,this.parseParenItem))}var v=this.lastTokEnd,m=this.lastTokEndLoc;if(this.expect(Hw.parenR),t&&this.shouldParseArrow(l)&&this.eat(Hw.arrow))return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=p,this.awaitPos=f,this.parseParenArrowList(n,s,l,e);l.length&&!h||this.unexpected(this.lastTokStart),r&&this.unexpected(r),this.checkExpressionErrors(d,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=f||this.awaitPos,l.length>1?((i=this.startNodeAt(a,c)).expressions=l,this.finishNodeAt(i,"SequenceExpression",v,m)):i=l[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var _=this.startNodeAt(n,s);return _.expression=i,this.finishNode(_,"ParenthesizedExpression")}return i},Ex.parseParenItem=function(t){return t},Ex.parseParenArrowList=function(t,e,i,n){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,n)};var Ax=[];Ex.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===Hw.dot){var e=this.startNodeAt(t.start,t.startLoc);e.name="new",t.meta=this.finishNode(e,"Identifier"),this.next();var i=this.containsEsc;return t.property=this.parseIdent(!0),"target"!==t.property.name&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var n=this.start,s=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),n,s,!0,!1),this.eat(Hw.parenL)?t.arguments=this.parseExprList(Hw.parenR,this.options.ecmaVersion>=8,!1):t.arguments=Ax,this.finishNode(t,"NewExpression")},Ex.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===Hw.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),i.tail=this.type===Hw.backQuote,this.finishNode(i,"TemplateElement")},Ex.parseTemplate=function(t){void 0===t&&(t={});var e=t.isTagged;void 0===e&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var n=this.parseTemplateElement({isTagged:e});for(i.quasis=[n];!n.tail;)this.type===Hw.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(Hw.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(Hw.braceR),i.quasis.push(n=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")},Ex.isAsyncProp=function(t){return!t.computed&&"Identifier"===t.key.type&&"async"===t.key.name&&(this.type===Hw.name||this.type===Hw.num||this.type===Hw.string||this.type===Hw.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===Hw.star)&&!$w.test(this.input.slice(this.lastTokEnd,this.start))},Ex.parseObj=function(t,e){var i=this.startNode(),n=!0,s={};for(i.properties=[],this.next();!this.eat(Hw.braceR);){if(n)n=!1;else if(this.expect(Hw.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(Hw.braceR))break;var o=this.parseProperty(t,e);t||this.checkPropClash(o,s,e),i.properties.push(o)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")},Ex.parseProperty=function(t,e){var i,n,s,o,r=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(Hw.ellipsis))return t?(r.argument=this.parseIdent(!1),this.type===Hw.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(r,"RestElement")):(r.argument=this.parseMaybeAssign(!1,e),this.type===Hw.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(r,"SpreadElement"));this.options.ecmaVersion>=6&&(r.method=!1,r.shorthand=!1,(t||e)&&(s=this.start,o=this.startLoc),t||(i=this.eat(Hw.star)));var a=this.containsEsc;return this.parsePropertyName(r),!t&&!a&&this.options.ecmaVersion>=8&&!i&&this.isAsyncProp(r)?(n=!0,i=this.options.ecmaVersion>=9&&this.eat(Hw.star),this.parsePropertyName(r)):n=!1,this.parsePropertyValue(r,t,i,n,s,o,e,a),this.finishNode(r,"Property")},Ex.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e="get"===t.kind?0:1;if(t.value.params.length!==e){var i=t.value.start;"get"===t.kind?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else"set"===t.kind&&"RestElement"===t.value.params[0].type&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")},Ex.parsePropertyValue=function(t,e,i,n,s,o,r,a){(i||n)&&this.type===Hw.colon&&this.unexpected(),this.eat(Hw.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,r),t.kind="init"):this.options.ecmaVersion>=6&&this.type===Hw.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,n)):e||a||!(this.options.ecmaVersion>=5)||t.computed||"Identifier"!==t.key.type||"get"!==t.key.name&&"set"!==t.key.name||this.type===Hw.comma||this.type===Hw.braceR||this.type===Hw.eq?this.options.ecmaVersion>=6&&!t.computed&&"Identifier"===t.key.type?((i||n)&&this.unexpected(),this.checkUnreserved(t.key),"await"!==t.key.name||this.awaitIdentPos||(this.awaitIdentPos=s),t.kind="init",e?t.value=this.parseMaybeDefault(s,o,this.copyNode(t.key)):this.type===Hw.eq&&r?(r.shorthandAssign<0&&(r.shorthandAssign=this.start),t.value=this.parseMaybeDefault(s,o,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected():((i||n)&&this.unexpected(),this.parseGetterSetter(t))},Ex.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(Hw.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(Hw.bracketR),t.key;t.computed=!1}return t.key=this.type===Hw.num||this.type===Hw.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},Ex.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)},Ex.parseMethod=function(t,e,i){var n=this.startNode(),s=this.yieldPos,o=this.awaitPos,r=this.awaitIdentPos;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=t),this.options.ecmaVersion>=8&&(n.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|ux(e,n.generator)|(i?128:0)),this.expect(Hw.parenL),n.params=this.parseBindingList(Hw.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1,!0,!1),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=r,this.finishNode(n,"FunctionExpression")},Ex.parseArrowExpression=function(t,e,i,n){var s=this.yieldPos,o=this.awaitPos,r=this.awaitIdentPos;return this.enterScope(16|ux(i,!1)),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,n),this.yieldPos=s,this.awaitPos=o,this.awaitIdentPos=r,this.finishNode(t,"ArrowFunctionExpression")},Ex.parseFunctionBody=function(t,e,i,n){var s=e&&this.type!==Hw.braceL,o=this.strict,r=!1;if(s)t.body=this.parseMaybeAssign(n),t.expression=!0,this.checkParams(t,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);o&&!a||(r=this.strictDirective(this.end))&&a&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list");var c=this.labels;this.labels=[],r&&(this.strict=!0),this.checkParams(t,!o&&!r&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,5),t.body=this.parseBlock(!1,void 0,r&&!o),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=c}this.exitScope()},Ex.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1)if("Identifier"!==i[e].type)return!1;return!0},Ex.checkParams=function(t,e){for(var i=Object.create(null),n=0,s=t.params;n<s.length;n+=1){var o=s[n];this.checkLValInnerPattern(o,1,e?null:i)}},Ex.parseExprList=function(t,e,i,n){for(var s=[],o=!0;!this.eat(t);){if(o)o=!1;else if(this.expect(Hw.comma),e&&this.afterTrailingComma(t))break;var r=void 0;i&&this.type===Hw.comma?r=null:this.type===Hw.ellipsis?(r=this.parseSpread(n),n&&this.type===Hw.comma&&n.trailingComma<0&&(n.trailingComma=this.start)):r=this.parseMaybeAssign(!1,n),s.push(r)}return s},Ex.checkUnreserved=function(t){var e=t.start,i=t.end,n=t.name;this.inGenerator&&"yield"===n&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===n&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&"arguments"===n&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),!this.inClassStaticBlock||"arguments"!==n&&"await"!==n||this.raise(e,"Cannot use "+n+" in class static initialization block"),this.keywords.test(n)&&this.raise(e,"Unexpected keyword '"+n+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(e,i).indexOf("\\")||(this.strict?this.reservedWordsStrict:this.reservedWords).test(n)&&(this.inAsync||"await"!==n||this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+n+"' is reserved"))},Ex.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),"await"!==e.name||this.awaitIdentPos||(this.awaitIdentPos=e.start)),e},Ex.parseIdentNode=function(){var t=this.startNode();return this.type===Hw.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,"class"!==t.name&&"function"!==t.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop(),this.type=Hw.name):this.unexpected(),t},Ex.parsePrivateIdent=function(){var t=this.startNode();return this.type===Hw.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(0===this.privateNameStack.length?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t},Ex.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===Hw.semi||this.canInsertSemicolon()||this.type!==Hw.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(Hw.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")},Ex.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var Mx=hx.prototype;Mx.raise=function(t,e){var i=ax(this.input,t);e+=" ("+i.line+":"+i.column+")";var n=new SyntaxError(e);throw n.pos=t,n.loc=i,n.raisedAt=this.pos,n},Mx.raiseRecoverable=Mx.raise,Mx.curPosition=function(){if(this.options.locations)return new ox(this.curLine,this.pos-this.lineStart)};var Px=hx.prototype,Ox=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};Px.enterScope=function(t){this.scopeStack.push(new Ox(t))},Px.exitScope=function(){this.scopeStack.pop()},Px.treatFunctionsAsVarInScope=function(t){return 2&t.flags||!this.inModule&&1&t.flags},Px.declareName=function(t,e,i){var n=!1;if(2===e){var s=this.currentScope();n=s.lexical.indexOf(t)>-1||s.functions.indexOf(t)>-1||s.var.indexOf(t)>-1,s.lexical.push(t),this.inModule&&1&s.flags&&delete this.undefinedExports[t]}else if(4===e)this.currentScope().lexical.push(t);else if(3===e){var o=this.currentScope();n=this.treatFunctionsAsVar?o.lexical.indexOf(t)>-1:o.lexical.indexOf(t)>-1||o.var.indexOf(t)>-1,o.functions.push(t)}else for(var r=this.scopeStack.length-1;r>=0;--r){var a=this.scopeStack[r];if(a.lexical.indexOf(t)>-1&&!(32&a.flags&&a.lexical[0]===t)||!this.treatFunctionsAsVarInScope(a)&&a.functions.indexOf(t)>-1){n=!0;break}if(a.var.push(t),this.inModule&&1&a.flags&&delete this.undefinedExports[t],259&a.flags)break}n&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")},Px.checkLocalExport=function(t){-1===this.scopeStack[0].lexical.indexOf(t.name)&&-1===this.scopeStack[0].var.indexOf(t.name)&&(this.undefinedExports[t.name]=t)},Px.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},Px.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(259&e.flags)return e}},Px.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(259&e.flags&&!(16&e.flags))return e}};var Dx=function(t,e,i){this.type="",this.start=e,this.end=0,t.options.locations&&(this.loc=new rx(t,i)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[e,0])},Nx=hx.prototype;function Lx(t,e,i,n){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=n),this.options.ranges&&(t.range[1]=i),t}Nx.startNode=function(){return new Dx(this,this.start,this.startLoc)},Nx.startNodeAt=function(t,e){return new Dx(this,t,e)},Nx.finishNode=function(t,e){return Lx.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)},Nx.finishNodeAt=function(t,e,i,n){return Lx.call(this,t,e,i,n)},Nx.copyNode=function(t){var e=new Dx(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var Bx,Vx,Ux="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",jx=Ux+" Extended_Pictographic",Wx=jx+" EBase EComp EMod EPres ExtPict",Fx={9:Ux,10:jx,11:jx,12:Wx,13:Wx,14:Wx},Hx={9:"",10:"",11:"",12:"",13:"",14:"Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji"},$x="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",Gx="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",Yx=Gx+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Kx=Yx+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",zx=Kx+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",qx=zx+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",Xx={9:Gx,10:Yx,11:Kx,12:zx,13:qx,14:qx+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz"},Qx={};for(var Jx=0,Zx=[9,10,11,12,13,14];Jx<Zx.length;Jx+=1)Vx=void 0,(Vx=Qx[Bx=Zx[Jx]]={binary:ix(Fx[Bx]+" "+$x),binaryOfStrings:ix(Hx[Bx]),nonBinary:{General_Category:ix($x),Script:ix(Xx[Bx])}}).nonBinary.Script_Extensions=Vx.nonBinary.Script,Vx.nonBinary.gc=Vx.nonBinary.General_Category,Vx.nonBinary.sc=Vx.nonBinary.Script,Vx.nonBinary.scx=Vx.nonBinary.Script_Extensions;var tS=hx.prototype,eS=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Qx[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function iS(t){return 36===t||t>=40&&t<=43||46===t||63===t||t>=91&&t<=94||t>=123&&t<=125}function nS(t){return t>=65&&t<=90||t>=97&&t<=122}function sS(t){return nS(t)||95===t}function oS(t){return sS(t)||rS(t)}function rS(t){return t>=48&&t<=57}function aS(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function cS(t){return t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:t-48}function lS(t){return t>=48&&t<=55}eS.prototype.reset=function(t,e,i){var n=-1!==i.indexOf("v"),s=-1!==i.indexOf("u");this.start=0|t,this.source=e+"",this.flags=i,n&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)},eS.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)},eS.prototype.at=function(t,e){void 0===e&&(e=!1);var i=this.source,n=i.length;if(t>=n)return-1;var s=i.charCodeAt(t);if(!e&&!this.switchU||s<=55295||s>=57344||t+1>=n)return s;var o=i.charCodeAt(t+1);return o>=56320&&o<=57343?(s<<10)+o-56613888:s},eS.prototype.nextIndex=function(t,e){void 0===e&&(e=!1);var i=this.source,n=i.length;if(t>=n)return n;var s,o=i.charCodeAt(t);return!e&&!this.switchU||o<=55295||o>=57344||t+1>=n||(s=i.charCodeAt(t+1))<56320||s>57343?t+1:t+2},eS.prototype.current=function(t){return void 0===t&&(t=!1),this.at(this.pos,t)},eS.prototype.lookahead=function(t){return void 0===t&&(t=!1),this.at(this.nextIndex(this.pos,t),t)},eS.prototype.advance=function(t){void 0===t&&(t=!1),this.pos=this.nextIndex(this.pos,t)},eS.prototype.eat=function(t,e){return void 0===e&&(e=!1),this.current(e)===t&&(this.advance(e),!0)},eS.prototype.eatChars=function(t,e){void 0===e&&(e=!1);for(var i=this.pos,n=0,s=t;n<s.length;n+=1){var o=s[n],r=this.at(i,e);if(-1===r||r!==o)return!1;i=this.nextIndex(i,e)}return this.pos=i,!0},tS.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,n=!1,s=!1,o=0;o<i.length;o++){var r=i.charAt(o);-1===e.indexOf(r)&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(r,o+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),"u"===r&&(n=!0),"v"===r&&(s=!0)}this.options.ecmaVersion>=15&&n&&s&&this.raise(t.start,"Invalid regular expression flag")},tS.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))},tS.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var n=i[e];-1===t.groupNames.indexOf(n)&&t.raise("Invalid named capture referenced")}},tS.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")},tS.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););},tS.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):!!(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))&&(this.regexp_eatQuantifier(t),!0)},tS.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1},tS.regexp_eatQuantifier=function(t,e){return void 0===e&&(e=!1),!!this.regexp_eatQuantifierPrefix(t,e)&&(t.eat(63),!0)},tS.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)},tS.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var n=0,s=-1;if(this.regexp_eatDecimalDigits(t)&&(n=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(s=t.lastIntValue),t.eat(125)))return-1!==s&&s<n&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1},tS.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)},tS.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1},tS.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1},tS.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):63===t.current()&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1},tS.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)},tS.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1},tS.regexp_eatSyntaxCharacter=function(t){var e=t.current();return!!iS(e)&&(t.lastIntValue=e,t.advance(),!0)},tS.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;-1!==(i=t.current())&&!iS(i);)t.advance();return t.pos!==e},tS.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return!(-1===e||36===e||e>=40&&e<=43||46===e||63===e||91===e||94===e||124===e||(t.advance(),0))},tS.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t))return-1!==t.groupNames.indexOf(t.lastStringValue)&&t.raise("Duplicate capture group name"),void t.groupNames.push(t.lastStringValue);t.raise("Invalid group")}},tS.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1},tS.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=nx(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=nx(t.lastIntValue);return!0}return!1},tS.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,n=t.current(i);return t.advance(i),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(n=t.lastIntValue),function(t){return Nw(t,!0)||36===t||95===t}(n)?(t.lastIntValue=n,!0):(t.pos=e,!1)},tS.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,n=t.current(i);return t.advance(i),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(n=t.lastIntValue),function(t){return Lw(t,!0)||36===t||95===t||8204===t||8205===t}(n)?(t.lastIntValue=n,!0):(t.pos=e,!1)},tS.regexp_eatAtomEscape=function(t){return!!(this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t))||(t.switchU&&(99===t.current()&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)},tS.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1},tS.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1},tS.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)},tS.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1},tS.regexp_eatZero=function(t){return 48===t.current()&&!rS(t.lookahead())&&(t.lastIntValue=0,t.advance(),!0)},tS.regexp_eatControlEscape=function(t){var e=t.current();return 116===e?(t.lastIntValue=9,t.advance(),!0):110===e?(t.lastIntValue=10,t.advance(),!0):118===e?(t.lastIntValue=11,t.advance(),!0):102===e?(t.lastIntValue=12,t.advance(),!0):114===e&&(t.lastIntValue=13,t.advance(),!0)},tS.regexp_eatControlLetter=function(t){var e=t.current();return!!nS(e)&&(t.lastIntValue=e%32,t.advance(),!0)},tS.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){void 0===e&&(e=!1);var i,n=t.pos,s=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var o=t.lastIntValue;if(s&&o>=55296&&o<=56319){var r=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var a=t.lastIntValue;if(a>=56320&&a<=57343)return t.lastIntValue=1024*(o-55296)+(a-56320)+65536,!0}t.pos=r,t.lastIntValue=o}return!0}if(s&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&(i=t.lastIntValue)>=0&&i<=1114111)return!0;s&&t.raise("Invalid unicode escape"),t.pos=n}return!1},tS.regexp_eatIdentityEscape=function(t){if(t.switchU)return!!this.regexp_eatSyntaxCharacter(t)||!!t.eat(47)&&(t.lastIntValue=47,!0);var e=t.current();return!(99===e||t.switchN&&107===e||(t.lastIntValue=e,t.advance(),0))},tS.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do{t.lastIntValue=10*t.lastIntValue+(e-48),t.advance()}while((e=t.current())>=48&&e<=57);return!0}return!1},tS.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(function(t){return 100===t||68===t||115===t||83===t||119===t||87===t}(e))return t.lastIntValue=-1,t.advance(),1;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=80===e)||112===e)){var n;if(t.lastIntValue=-1,t.advance(),t.eat(123)&&(n=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&2===n&&t.raise("Invalid property name"),n;t.raise("Invalid property name")}return 0},tS.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var n=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,n),1}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var s=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,s)}return 0},tS.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){Zw(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")},tS.regexp_validateUnicodePropertyNameOrValue=function(t,e){return t.unicodeProperties.binary.test(e)?1:t.switchV&&t.unicodeProperties.binaryOfStrings.test(e)?2:void t.raise("Invalid property name")},tS.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";sS(e=t.current());)t.lastStringValue+=nx(e),t.advance();return""!==t.lastStringValue},tS.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";oS(e=t.current());)t.lastStringValue+=nx(e),t.advance();return""!==t.lastStringValue},tS.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)},tS.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&2===i&&t.raise("Negated character class may contain strings"),!0}return!1},tS.regexp_classContents=function(t){return 93===t.current()?1:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),1)},tS.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;!t.switchU||-1!==e&&-1!==i||t.raise("Invalid character class"),-1!==e&&-1!==i&&e>i&&t.raise("Range out of order in character class")}}},tS.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(99===i||lS(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var n=t.current();return 93!==n&&(t.lastIntValue=n,t.advance(),!0)},tS.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)},tS.regexp_classSetExpression=function(t){var e,i=1;if(this.regexp_eatClassSetRange(t));else if(e=this.regexp_eatClassSetOperand(t)){2===e&&(i=2);for(var n=t.pos;t.eatChars([38,38]);)38!==t.current()&&(e=this.regexp_eatClassSetOperand(t))?2!==e&&(i=1):t.raise("Invalid character in character class");if(n!==t.pos)return i;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(n!==t.pos)return i}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(!(e=this.regexp_eatClassSetOperand(t)))return i;2===e&&(i=2)}},tS.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var n=t.lastIntValue;return-1!==i&&-1!==n&&i>n&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1},tS.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?1:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)},tS.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),n=this.regexp_classContents(t);if(t.eat(93))return i&&2===n&&t.raise("Negated character class may contain strings"),n;t.pos=e}if(t.eat(92)){var s=this.regexp_eatCharacterClassEscape(t);if(s)return s;t.pos=e}return null},tS.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null},tS.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)2===this.regexp_classString(t)&&(e=2);return e},tS.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return 1===e?1:2},tS.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return!(!this.regexp_eatCharacterEscape(t)&&!this.regexp_eatClassSetReservedPunctuator(t)&&(t.eat(98)?(t.lastIntValue=8,0):(t.pos=e,1)));var i=t.current();return!(i<0||i===t.lookahead()&&function(t){return 33===t||t>=35&&t<=38||t>=42&&t<=44||46===t||t>=58&&t<=64||94===t||96===t||126===t}(i)||function(t){return 40===t||41===t||45===t||47===t||t>=91&&t<=93||t>=123&&t<=125}(i)||(t.advance(),t.lastIntValue=i,0))},tS.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return!!function(t){return 33===t||35===t||37===t||38===t||44===t||45===t||t>=58&&t<=62||64===t||96===t||126===t}(e)&&(t.lastIntValue=e,t.advance(),!0)},tS.regexp_eatClassControlLetter=function(t){var e=t.current();return!(!rS(e)&&95!==e||(t.lastIntValue=e%32,t.advance(),0))},tS.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1},tS.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;rS(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e},tS.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;aS(i=t.current());)t.lastIntValue=16*t.lastIntValue+cS(i),t.advance();return t.pos!==e},tS.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=64*e+8*i+t.lastIntValue:t.lastIntValue=8*e+i}else t.lastIntValue=e;return!0}return!1},tS.regexp_eatOctalDigit=function(t){var e=t.current();return lS(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)},tS.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var n=0;n<e;++n){var s=t.current();if(!aS(s))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+cS(s),t.advance()}return!0};var uS=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new rx(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},hS=hx.prototype;function dS(t){return"function"!=typeof BigInt?null:BigInt(t.replace(/_/g,""))}hS.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new uS(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},hS.getToken=function(){return this.next(),new uS(this)},"undefined"!=typeof Symbol&&(hS[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===Hw.eof,value:e}}}}),hS.nextToken=function(){var t=this.curContext();return t&&t.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(Hw.eof):t.override?t.override(this):void this.readToken(this.fullCharCodeAtPos())},hS.readToken=function(t){return Nw(t,this.options.ecmaVersion>=6)||92===t?this.readWord():this.getTokenFromCode(t)},hS.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888},hS.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(-1===i&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var n=void 0,s=e;(n=Kw(this.input,s,this.pos))>-1;)++this.curLine,s=this.lineStart=n;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())},hS.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),n=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!Yw(n);)n=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())},hS.skipSpace=function(){t:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(!(t>8&&t<14||t>=5760&&zw.test(String.fromCharCode(t))))break t;++this.pos}}},hS.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)},hS.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===t&&46===e?(this.pos+=3,this.finishToken(Hw.ellipsis)):(++this.pos,this.finishToken(Hw.dot))},hS.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===t?this.finishOp(Hw.assign,2):this.finishOp(Hw.slash,1)},hS.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,n=42===t?Hw.star:Hw.modulo;return this.options.ecmaVersion>=7&&42===t&&42===e&&(++i,n=Hw.starstar,e=this.input.charCodeAt(this.pos+2)),61===e?this.finishOp(Hw.assign,i+1):this.finishOp(n,i)},hS.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?this.options.ecmaVersion>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(Hw.assign,3):this.finishOp(124===t?Hw.logicalOR:Hw.logicalAND,2):61===e?this.finishOp(Hw.assign,2):this.finishOp(124===t?Hw.bitwiseOR:Hw.bitwiseAND,1)},hS.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(Hw.assign,2):this.finishOp(Hw.bitwiseXOR,1)},hS.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?45!==e||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!$w.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(Hw.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===e?this.finishOp(Hw.assign,2):this.finishOp(Hw.plusMin,1)},hS.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=62===t&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+i)?this.finishOp(Hw.assign,i+1):this.finishOp(Hw.bitShift,i)):33!==e||60!==t||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===e&&(i=2),this.finishOp(Hw.relational,i)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},hS.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return 61===e?this.finishOp(Hw.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===t&&62===e&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(Hw.arrow)):this.finishOp(61===t?Hw.eq:Hw.prefix,1)},hS.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(46===e){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(Hw.questionDot,2)}if(63===e)return t>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(Hw.assign,3):this.finishOp(Hw.coalesce,2)}return this.finishOp(Hw.question,1)},hS.readToken_numberSign=function(){var t=35;if(this.options.ecmaVersion>=13&&(++this.pos,Nw(t=this.fullCharCodeAtPos(),!0)||92===t))return this.finishToken(Hw.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+nx(t)+"'")},hS.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(Hw.parenL);case 41:return++this.pos,this.finishToken(Hw.parenR);case 59:return++this.pos,this.finishToken(Hw.semi);case 44:return++this.pos,this.finishToken(Hw.comma);case 91:return++this.pos,this.finishToken(Hw.bracketL);case 93:return++this.pos,this.finishToken(Hw.bracketR);case 123:return++this.pos,this.finishToken(Hw.braceL);case 125:return++this.pos,this.finishToken(Hw.braceR);case 58:return++this.pos,this.finishToken(Hw.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(Hw.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(120===e||88===e)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===e||79===e)return this.readRadixNumber(8);if(98===e||66===e)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(Hw.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+nx(t)+"'")},hS.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)},hS.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var n=this.input.charAt(this.pos);if($w.test(n)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if("["===n)e=!0;else if("]"===n&&e)e=!1;else if("/"===n&&!e)break;t="\\"===n}++this.pos}var s=this.input.slice(i,this.pos);++this.pos;var o=this.pos,r=this.readWord1();this.containsEsc&&this.unexpected(o);var a=this.regexpState||(this.regexpState=new eS(this));a.reset(i,s,r),this.validateRegExpFlags(a),this.validateRegExpPattern(a);var c=null;try{c=new RegExp(s,r)}catch(t){}return this.finishToken(Hw.regexp,{pattern:s,flags:r,value:c})},hS.readInt=function(t,e,i){for(var n=this.options.ecmaVersion>=12&&void 0===e,s=i&&48===this.input.charCodeAt(this.pos),o=this.pos,r=0,a=0,c=0,l=null==e?1/0:e;c<l;++c,++this.pos){var u=this.input.charCodeAt(this.pos),h=void 0;if(n&&95===u)s&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===a&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===c&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),a=u;else{if((h=u>=97?u-97+10:u>=65?u-65+10:u>=48&&u<=57?u-48:1/0)>=t)break;a=u,r=r*t+h}}return n&&95===a&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===o||null!=e&&this.pos-o!==e?null:r},hS.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return null==i&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(i=dS(this.input.slice(e,this.pos)),++this.pos):Nw(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(Hw.num,i)},hS.readNumber=function(t){var e=this.pos;t||null!==this.readInt(10,void 0,!0)||this.raise(e,"Invalid number");var i=this.pos-e>=2&&48===this.input.charCodeAt(e);i&&this.strict&&this.raise(e,"Invalid number");var n=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&110===n){var s=dS(this.input.slice(e,this.pos));return++this.pos,Nw(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(Hw.num,s)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),46!==n||i||(++this.pos,this.readInt(10),n=this.input.charCodeAt(this.pos)),69!==n&&101!==n||i||(43!==(n=this.input.charCodeAt(++this.pos))&&45!==n||++this.pos,null===this.readInt(10)&&this.raise(e,"Invalid number")),Nw(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var o,r=(o=this.input.slice(e,this.pos),i?parseInt(o,8):parseFloat(o.replace(/_/g,"")));return this.finishToken(Hw.num,r)},hS.readCodePoint=function(){var t;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var e=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(e,"Code point out of bounds")}else t=this.readHexChar(4);return t},hS.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var n=this.input.charCodeAt(this.pos);if(n===t)break;92===n?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):8232===n||8233===n?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Yw(n)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(Hw.string,e)};var pS={};hS.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t!==pS)throw t;this.readInvalidTemplateToken()}this.inTemplateElement=!1},hS.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw pS;this.raise(t,e)},hS.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(96===i||36===i&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==Hw.template&&this.type!==Hw.invalidTemplate?(t+=this.input.slice(e,this.pos),this.finishToken(Hw.template,t)):36===i?(this.pos+=2,this.finishToken(Hw.dollarBraceL)):(++this.pos,this.finishToken(Hw.backQuote));if(92===i)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(Yw(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:t+="\n";break;default:t+=String.fromCharCode(i)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}},hS.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(Hw.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},hS.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return nx(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],s=parseInt(n,8);return s>255&&(n=n.slice(0,-1),s=parseInt(n,8)),this.pos+=n.length-1,e=this.input.charCodeAt(this.pos),"0"===n&&56!==e&&57!==e||!this.strict&&!t||this.invalidStringToken(this.pos-1-n.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(s)}return Yw(e)?"":String.fromCharCode(e)}},hS.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return null===i&&this.invalidStringToken(e,"Bad character escape sequence"),i},hS.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,n=this.options.ecmaVersion>=6;this.pos<this.input.length;){var s=this.fullCharCodeAtPos();if(Lw(s,n))this.pos+=s<=65535?1:2;else{if(92!==s)break;this.containsEsc=!0,t+=this.input.slice(i,this.pos);var o=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var r=this.readCodePoint();(e?Nw:Lw)(r,n)||this.invalidStringToken(o,"Invalid Unicode escape"),t+=nx(r),i=this.pos}e=!1}return t+this.input.slice(i,this.pos)},hS.readWord=function(){var t=this.readWord1(),e=Hw.name;return this.keywords.test(t)&&(e=Ww[t]),this.finishToken(e,t)},hx.acorn={Parser:hx,version:"8.11.1",defaultOptions:cx,Position:ox,SourceLocation:rx,getLineInfo:ax,Node:Dx,TokenType:Bw,tokTypes:Hw,keywordTypes:Ww,TokContext:Ix,tokContexts:Cx,isIdentifierChar:Lw,isIdentifierStart:Nw,Token:uS,isNewLine:Yw,lineBreak:$w,lineBreakG:Gw,nonASCIIwhitespace:zw};var fS,vS,mS,_S,gS,yS;class bS{constructor(t){fS.set(this,void 0);const e=function(t,e){return hx.parse(t,{ecmaVersion:2020})}(t);(function(t,e,i,n,s){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===n?s.call(t,i):s?s.value=i:e.set(t,i)})(this,fS,e.body,"f"),this.visitor=new Tw(function(t,e,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(t):n?n.value:e.get(t)}(this,fS,"f")),this.scope=this.visitor.scope,this.scope.set("print",(t=>console.log(...t))),this.visitor.on("console",((t,e)=>{if("Identifier"===t.type)return console;if("CallExpression"===t.type&&"MemberExpression"===t.callee.type){const i=e.visitNode(t.callee.property),n=t.arguments.map((t=>e.visitNode(t))),s=console[i];return s?s(...n):"proceed"}return"proceed"})),this.visitor.on("Math",((t,e)=>{if("Identifier"===t.type)return Math;if("CallExpression"===t.type&&"MemberExpression"===t.callee.type){const i=e.visitNode(t.callee.property),n=t.arguments.map((t=>e.visitNode(t))),s=Math[i];return s?s(...n):"proceed"}return"proceed"})),this.visitor.on("String",((t,e)=>{if("Identifier"===t.type)return String;if("CallExpression"===t.type&&"MemberExpression"===t.callee.type){const i=e.visitNode(t.callee.property),n=t.arguments.map((t=>e.visitNode(t))),s=String[i];return s?s(n):"proceed"}return"proceed"})),this.visitor.on("Date",(t=>{if("Identifier"===t.type)return Date}))}interpret(){return this.visitor.run()}}fS=new WeakMap,mS=new WeakMap,vS=new WeakSet,_S=function(t){return h(this,void 0,void 0,(function*(){return{success:t.ok,status_code:t.status,data:JSON.parse(yield t.text())}}))},gS=function(t){return"on_response_received_actions"in t},yS=function(t){return["FElibrary","FEhistory","FEsubscriptions","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(t)};const wS=class{constructor(t){vS.add(this),mS.set(this,void 0),v(this,mS,t,"f")}get session(){return f(this,mS,"f")}stats(t,e,i){return h(this,void 0,void 0,(function*(){const n=new URL(t);n.searchParams.set("ver","2"),n.searchParams.set("c",e.client_name.toLowerCase()),n.searchParams.set("cbrver",e.client_version),n.searchParams.set("cver",e.client_version);for(const t of Object.keys(i))n.searchParams.set(t,i[t]);return yield f(this,mS,"f").http.fetch(n)}))}execute(t,e){var i,n;return h(this,void 0,void 0,(function*(){let s;if(e&&!e.protobuf){if(s=Object.assign({},e),Reflect.has(s,"browseId")&&f(this,vS,"m",yS).call(this,s.browseId)&&!f(this,mS,"f").logged_in)throw new vb("You must be signed in to perform this operation.");Reflect.has(s,"override_endpoint")&&delete s.override_endpoint,Reflect.has(s,"parse")&&delete s.parse,Reflect.has(s,"request")&&delete s.request,Reflect.has(s,"clientActions")&&delete s.clientActions,Reflect.has(s,"settingItemIdForClient")&&delete s.settingItemIdForClient,Reflect.has(s,"action")&&(s.actions=[s.action],delete s.action),Reflect.has(s,"boolValue")&&(s.newValue={boolValue:s.boolValue},delete s.boolValue),Reflect.has(s,"token")&&(s.continuation=s.token,delete s.token),"YTMUSIC"===(null==s?void 0:s.client)&&(s.isAudioOnly=!0)}else e&&(s=e.serialized_data);const o=Reflect.has(e||{},"override_endpoint")?null==e?void 0:e.override_endpoint:t,r=yield f(this,mS,"f").http.fetch(o,{method:"POST",body:(null==e?void 0:e.protobuf)?s:JSON.stringify(s||{}),headers:{"Content-Type":(null==e?void 0:e.protobuf)?"application/x-protobuf":"application/json"}});if(null==e?void 0:e.parse){let t=cb.parseResponse(yield r.json());if(f(this,vS,"m",gS).call(this,t)&&"navigateAction"===(null===(n=null===(i=t.on_response_received_actions)||void 0===i?void 0:i.first())||void 0===n?void 0:n.type)){const e=t.on_response_received_actions.firstOfType(xm);e&&(t=yield e.endpoint.call(this,{parse:!0}))}return t}return f(this,vS,"m",_S).call(this,r)}))}};var xS,SS,TS,IS,CS;class kS{constructor(t,e,i,n){xS.set(this,void 0),SS.set(this,void 0),TS.set(this,void 0),IS.set(this,void 0),CS.set(this,void 0),v(this,xS,i,"f"),v(this,TS,e,"f"),v(this,IS,t,"f"),v(this,CS,n,"f"),v(this,SS,new Map,"f")}static create(t,e=fb.shim.fetch){return h(this,void 0,void 0,(function*(){const i=new URL("/iframe_api",x.YT_BASE),n=yield e(i);if(200!==n.status)throw new yb("Failed to request player id");const s=Sb(yield n.text(),"player\\/","\\/");if(!s)throw new yb("Failed to get player id");if(t){const e=yield kS.fromCache(t,s);if(e)return e}const o=new URL(`/s/player/${s}/player_ias.vflset/en_US/base.js`,x.YT_BASE),r=yield e(o,{headers:{"user-agent":Ib("desktop")}});if(!r.ok)throw new yb(`Failed to get player data: ${r.status}`);const a=yield r.text(),c=this.extractSigTimestamp(a),l=this.extractSigSourceCode(a),u=this.extractNSigSourceCode(a);return yield kS.fromSource(t,c,l,u,s)}))}decipher(t,e,i,n){if(!(t=t||e||i))throw new yb("No valid URL to decipher");const s=new URLSearchParams(t),o=new URL(s.get("url")||t);if(e||i){const t=fb.shim.eval(f(this,TS,"f"),{sig:s.get("s")});if("string"!=typeof t)throw new yb("Failed to decipher signature");const e=s.get("sp");e?o.searchParams.set(e,t):o.searchParams.set("signature",t)}const r=o.searchParams.get("n");if(r){let t;if(n&&n.has(r))t=n.get(r);else{if(t=fb.shim.eval(f(this,xS,"f"),{nsig:r}),"string"!=typeof t)throw new yb("Failed to decipher nsig");t.startsWith("enhanced_except_")?console.warn('Warning:\nCould not transform nsig, download may be throttled.\nChanging the InnerTube client to "ANDROID" might help!'):n&&n.set(r,t)}o.searchParams.set("n",t)}switch(o.searchParams.get("c")){case"WEB":o.searchParams.set("cver",T.WEB.VERSION);break;case"WEB_REMIX":o.searchParams.set("cver",T.YTMUSIC.VERSION);break;case"WEB_KIDS":o.searchParams.set("cver",T.WEB_KIDS.VERSION);break;case"ANDROID":o.searchParams.set("cver",T.ANDROID.VERSION);break;case"ANDROID_MUSIC":o.searchParams.set("cver",T.YTMUSIC_ANDROID.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":o.searchParams.set("cver",T.TV_EMBEDDED.VERSION)}return o.toString()}static fromCache(t,e){return h(this,void 0,void 0,(function*(){const i=yield t.get(e);if(!i)return null;const n=new DataView(i);if(n.getUint32(0,!0)!==kS.LIBRARY_VERSION)return null;const s=n.getUint32(4,!0),o=n.getUint32(8,!0),r=i.slice(12,12+o),a=i.slice(12+o),c=new TextDecoder,l=c.decode(r),u=c.decode(a);return new kS(s,l,u,e)}))}static fromSource(t,e,i,n,s){return h(this,void 0,void 0,(function*(){const o=new kS(e,i,n,s);return yield o.cache(t),o}))}cache(t){return h(this,void 0,void 0,(function*(){if(!t)return;const e=new TextEncoder,i=e.encode(f(this,TS,"f")),n=e.encode(f(this,xS,"f")),s=new ArrayBuffer(12+i.byteLength+n.byteLength),o=new DataView(s);o.setUint32(0,kS.LIBRARY_VERSION,!0),o.setUint32(4,f(this,IS,"f"),!0),o.setUint32(8,i.byteLength,!0),new Uint8Array(s).set(i,12),new Uint8Array(s).set(n,12+i.byteLength),yield t.set(f(this,CS,"f"),new Uint8Array(s))}))}static extractSigTimestamp(t){return parseInt(Sb(t,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(t){var e,i,n;const s=Sb(t,'function(a){a=a.split("")','return a.join("")}'),o=null===(n=null===(i=null===(e=null==s?void 0:s.split(/\.|\[/))||void 0===e?void 0:e[0])||void 0===i?void 0:i.replace(";",""))||void 0===n?void 0:n.trim(),r=Sb(t,`var ${o}={`,"};");return r&&s||console.warn(new yb("Failed to extract signature decipher algorithm")),`function descramble_sig(a) { a = a.split(""); let ${o}={${r}}${s} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(t){const e=`function descramble_nsig(a) { let b=a.split("")${Sb(t,'b=a.split("")','}return b.join("")}')}} return b.join(""); } descramble_nsig(nsig)`;return e||console.warn(new yb("Failed to extract n-token decipher algorithm")),e}get url(){return new URL(`/s/player/${f(this,CS,"f")}/player_ias.vflset/en_US/base.js`,x.YT_BASE).toString()}get sts(){return f(this,IS,"f")}get nsig_sc(){return f(this,xS,"f")}get sig_sc(){return f(this,TS,"f")}static get LIBRARY_VERSION(){return 2}}xS=new WeakMap,SS=new WeakMap,TS=new WeakMap,IS=new WeakMap,CS=new WeakMap;const ES=kS;var RS,AS,MS,PS,OS,DS,NS,LS,BS,VS;AS=new WeakMap,MS=new WeakMap,PS=new WeakMap,OS=new WeakMap,RS=new WeakSet,DS=function(){var t;return h(this,void 0,void 0,(function*(){const e=yield null===(t=f(this,MS,"f").cache)||void 0===t?void 0:t.get("youtubei_oauth_credentials");if(!e)return!1;const i=new TextDecoder,n=JSON.parse(i.decode(e));return v(this,PS,{access_token:n.access_token,refresh_token:n.refresh_token,expires:new Date(n.expires)},"f"),f(this,MS,"f").emit("auth",{credentials:f(this,PS,"f"),status:"SUCCESS"}),!0}))},NS=function(){return h(this,void 0,void 0,(function*(){v(this,AS,yield f(this,RS,"m",VS).call(this),"f");const t={client_id:f(this,AS,"f").client_id,scope:S.SCOPE,device_id:fb.shim.uuidv4(),device_model:S.MODEL_NAME},e=yield f(this,MS,"f").http.fetch_function(new URL("/o/oauth2/device/code",x.YT_BASE),{body:JSON.stringify(t),method:"POST",headers:{"Content-Type":"application/json"}}),i=yield e.json();f(this,MS,"f").emit("auth-pending",i),v(this,OS,i.interval,"f"),f(this,RS,"m",LS).call(this,i.device_code)}))},LS=function(t){const e=setInterval((()=>h(this,void 0,void 0,(function*(){const i=Object.assign(Object.assign({},f(this,AS,"f")),{code:t,grant_type:S.GRANT_TYPE});try{const t=yield f(this,MS,"f").http.fetch_function(new URL("/o/oauth2/token",x.YT_BASE),{body:JSON.stringify(i),method:"POST",headers:{"Content-Type":"application/json"}}),n=yield t.json();if(n.error){switch(n.error){case"access_denied":f(this,MS,"f").emit("auth-error",new gb("Access was denied.",{status:"ACCESS_DENIED"}));break;case"expired_token":f(this,MS,"f").emit("auth-error",new gb("The device code has expired, restarting auth flow.",{status:"DEVICE_CODE_EXPIRED"})),clearInterval(e),f(this,RS,"m",NS).call(this)}return}const s=new Date((new Date).getTime()+1e3*n.expires_in);v(this,PS,{access_token:n.access_token,refresh_token:n.refresh_token,expires:s},"f"),f(this,MS,"f").emit("auth",{credentials:f(this,PS,"f"),status:"SUCCESS"}),clearInterval(e)}catch(t){return clearInterval(e),f(this,MS,"f").emit("auth-error",new gb("Could not obtain user code.",{status:"FAILED",error:t}))}}))),1e3*f(this,OS,"f"))},BS=function(){return h(this,void 0,void 0,(function*(){if(!f(this,PS,"f"))return;v(this,AS,yield f(this,RS,"m",VS).call(this),"f");const t=Object.assign(Object.assign({},f(this,AS,"f")),{refresh_token:f(this,PS,"f").refresh_token,grant_type:"refresh_token"}),e=yield f(this,MS,"f").http.fetch_function(new URL("/o/oauth2/token",x.YT_BASE),{body:JSON.stringify(t),method:"POST",headers:{"Content-Type":"application/json"}}),i=yield e.json(),n=new Date((new Date).getTime()+1e3*i.expires_in);v(this,PS,{access_token:i.access_token,refresh_token:i.refresh_token||f(this,PS,"f").refresh_token,expires:n},"f"),f(this,MS,"f").emit("update-credentials",{credentials:f(this,PS,"f"),status:"SUCCESS"})}))},VS=function(){var t;return h(this,void 0,void 0,(function*(){const e=yield f(this,MS,"f").http.fetch_function(new URL("/tv",x.YT_BASE),{headers:S.HEADERS}),i=yield e.text(),n=null===(t=S.REGEX.AUTH_SCRIPT.exec(i))||void 0===t?void 0:t[1];if(!n)throw new gb("Could not obtain script url.",{status:"FAILED"});const s=yield f(this,MS,"f").http.fetch(n,{baseURL:x.YT_BASE}),o=(yield s.text()).replace(/\n/g,"").match(S.REGEX.CLIENT_IDENTITY),r=null==o?void 0:o.groups;if(!r)throw new gb("Could not obtain client identity.",{status:"FAILED"});return r}))};const US=class{constructor(t){RS.add(this),AS.set(this,void 0),MS.set(this,void 0),PS.set(this,void 0),OS.set(this,5),v(this,MS,t,"f")}init(t){return h(this,void 0,void 0,(function*(){v(this,PS,t,"f"),this.validateCredentials()?this.has_access_token_expired||f(this,MS,"f").emit("auth",{credentials:f(this,PS,"f"),status:"SUCCESS"}):(yield f(this,RS,"m",DS).call(this))||(yield f(this,RS,"m",NS).call(this))}))}cacheCredentials(){var t;return h(this,void 0,void 0,(function*(){const e=(new TextEncoder).encode(JSON.stringify(f(this,PS,"f")));yield null===(t=f(this,MS,"f").cache)||void 0===t?void 0:t.set("youtubei_oauth_credentials",e.buffer)}))}removeCache(){var t;return h(this,void 0,void 0,(function*(){yield null===(t=f(this,MS,"f").cache)||void 0===t?void 0:t.remove("youtubei_oauth_credentials")}))}refreshIfRequired(){return h(this,void 0,void 0,(function*(){this.has_access_token_expired&&(yield f(this,RS,"m",BS).call(this))}))}revokeCredentials(){return h(this,void 0,void 0,(function*(){if(f(this,PS,"f"))return yield this.removeCache(),f(this,MS,"f").http.fetch_function(new URL(`/o/oauth2/revoke?token=${encodeURIComponent(f(this,PS,"f").access_token)}`,x.YT_BASE),{method:"post"})}))}get credentials(){return f(this,PS,"f")}get has_access_token_expired(){const t=f(this,PS,"f")?new Date(f(this,PS,"f").expires).getTime():-1/0;return(new Date).getTime()>t}validateCredentials(){return f(this,PS,"f")&&Reflect.has(f(this,PS,"f"),"access_token")&&Reflect.has(f(this,PS,"f"),"refresh_token")&&Reflect.has(f(this,PS,"f"),"expires")||!1}};var jS,WS,FS,HS,$S,GS,YS,KS,zS;!function(t){t.WEB="WEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.IOS="iOS",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER"}(zS||(zS={}));class qS extends z_{constructor(t,e,i,n,s,o,r,a){super(),WS.set(this,void 0),FS.set(this,void 0),HS.set(this,void 0),$S.set(this,void 0),GS.set(this,void 0),v(this,HS,t,"f"),v(this,$S,n,"f"),v(this,FS,e,"f"),v(this,WS,i,"f"),v(this,GS,s,"f"),this.http=new jg(this,o,r),this.actions=new wS(this),this.oauth=new US(this),this.logged_in=!!o,this.cache=a}on(t,e){super.on(t,e)}once(t,e){super.once(t,e)}static create(t={}){return h(this,void 0,void 0,(function*(){const{context:e,api_key:i,api_version:n,account_index:s}=yield qS.getSessionData(t.lang,t.location,t.account_index,t.visitor_data,t.enable_safety_mode,t.generate_session_locally,t.device_category,t.client_type,t.timezone,t.fetch,t.on_behalf_of_user);return new qS(e,i,n,s,!1===t.retrieve_player?void 0:yield ES.create(t.cache,t.fetch),t.cookie,t.fetch,t.cache)}))}static getSessionData(t="",e="",i=0,n="",s=!1,o=!1,r="desktop",a=zS.WEB,c=Intl.DateTimeFormat().resolvedOptions().timeZone,l=fb.shim.fetch,u){return h(this,void 0,void 0,(function*(){let h;const d={lang:t,location:e,time_zone:c,device_category:r,client_name:a,enable_safety_mode:s,visitor_data:n,on_behalf_of_user:u};if(o)h=f(this,jS,"m",KS).call(this,d);else try{h=yield f(this,jS,"m",YS).call(this,d,l)}catch(t){h=f(this,jS,"m",KS).call(this,d)}return Object.assign(Object.assign({},h),{account_index:i})}))}signIn(t){return h(this,void 0,void 0,(function*(){return new Promise(((e,i)=>h(this,void 0,void 0,(function*(){const n=t=>i(t);this.once("auth",(t=>{this.off("auth-error",n),"SUCCESS"===t.status&&(this.logged_in=!0,e()),i(t)})),this.once("auth-error",n);try{yield this.oauth.init(t),this.oauth.validateCredentials()&&(yield this.oauth.refreshIfRequired(),this.logged_in=!0,e())}catch(t){i(t)}}))))}))}signOut(){return h(this,void 0,void 0,(function*(){if(!this.logged_in)throw new vb("You must be signed in to perform this operation.");const t=yield this.oauth.revokeCredentials();return this.logged_in=!1,t}))}get key(){return f(this,FS,"f")}get api_version(){return f(this,WS,"f")}get client_version(){return f(this,HS,"f").client.clientVersion}get client_name(){return f(this,HS,"f").client.clientName}get account_index(){return f(this,$S,"f")}get context(){return f(this,HS,"f")}get player(){return f(this,GS,"f")}get lang(){return f(this,HS,"f").client.hl}}jS=qS,WS=new WeakMap,FS=new WeakMap,HS=new WeakMap,$S=new WeakMap,GS=new WeakMap,YS=function(t,e=fb.shim.fetch){return h(this,void 0,void 0,(function*(){const i=new URL("/sw.js_data",x.YT_BASE);let n=Cb(11);t.visitor_data&&(n=zs(t.visitor_data).id);const s=yield e(i,{headers:{"accept-language":t.lang||"en-US","user-agent":Ib("desktop"),accept:"*/*",referer:"https://www.youtube.com/sw.js",cookie:`PREF=tz=${t.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${n};`}});if(!s.ok)throw new bb(`Failed to retrieve session data: ${s.status}`);const o=yield s.text(),r=JSON.parse(o.replace(/^\)\]\}'/,""))[0][2],a=`v${r[0][0][6]}`,[[c],l]=r;return{context:{client:{hl:c[0],gl:t.location||c[2],remoteHost:c[3],screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:c[13],clientName:t.client_name,clientVersion:c[16],osName:c[17],osVersion:c[18],platform:t.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:c[79]||t.time_zone,browserName:c[86],browserVersion:c[87],originalUrl:x.YT_BASE,deviceMake:c[11],deviceModel:c[12],utcOffsetMinutes:-(new Date).getTimezoneOffset()},user:{enableSafetyMode:t.enable_safety_mode,lockedSafetyMode:!1,onBehalfOfUser:t.on_behalf_of_user}},api_key:l,api_version:a}}))},KS=function(t){let e=Cb(11);return t.visitor_data&&(e=zs(t.visitor_data).id),{context:{client:{hl:t.lang||"en",gl:t.location||"US",screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:Ks(e,Math.floor(Date.now()/1e3)),clientName:t.client_name,clientVersion:T.WEB.VERSION,osName:"Windows",osVersion:"10.0",platform:t.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:t.time_zone,originalUrl:x.YT_BASE,deviceMake:"",deviceModel:"",utcOffsetMinutes:-(new Date).getTimezoneOffset()},user:{enableSafetyMode:t.enable_safety_mode,lockedSafetyMode:!1,onBehalfOfUser:t.on_behalf_of_user}},api_key:T.WEB.API_KEY,api_version:T.WEB.API_VERSION}};const XS=qS,QS="/search";function JS(t){return Object.assign({query:t.query,params:t.params,continuation:t.continuation,client:t.client})}const ZS="/player";function tT(t){const e="ANDROID"===t.client||"YTMUSIC_ANDROID"===t.client||"YTSTUDIO_ANDROID"===t.client;return Object.assign({playbackContext:{contentPlaybackContext:Object.assign({vis:0,splay:!1,referer:t.playlist_id?`https://www.youtube.com/watch?v=${t.video_id}&list=${t.playlist_id}`:`https://www.youtube.com/watch?v=${t.video_id}`,currentUrl:t.playlist_id?`/watch?v=${t.video_id}&list=${t.playlist_id}`:`/watch?v=${t.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"},{signatureTimestamp:t.sts})},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:t.video_id},{client:t.client,playlistId:t.playlist_id,params:e?"2AMBCgIQBg":t.params})}const eT="/next";function iT(t){return Object.assign({videoId:t.video_id,playlistId:t.playlist_id,params:t.params,playlistIndex:t.playlist_index,client:t.client,continuation:t.continuation})}const nT="/browse";function sT(t){return Object.assign({browseId:t.browse_id,params:t.params,continuation:t.continuation,client:t.client})}var oT;oT=new WeakMap;const rT=class{constructor(t){oT.set(this,void 0),v(this,oT,t,"f")}search(t){return h(this,void 0,void 0,(function*(){const e=yield f(this,oT,"f").actions.execute(QS,JS({client:"YTKIDS",query:t}));return new rb(f(this,oT,"f").actions,e)}))}getInfo(t){var e;return h(this,void 0,void 0,(function*(){const i=tT({sts:null===(e=f(this,oT,"f").player)||void 0===e?void 0:e.sts,client:"YTKIDS",video_id:t}),n=iT({video_id:t,client:"YTKIDS"}),s=f(this,oT,"f").actions.execute(ZS,i),o=f(this,oT,"f").actions.execute(eT,n),r=yield Promise.all([s,o]),a=Cb(16);return new ab(r,f(this,oT,"f").actions,a)}))}getChannel(t){return h(this,void 0,void 0,(function*(){const e=yield f(this,oT,"f").actions.execute(nT,sT({browse_id:t,client:"YTKIDS"}));return new nb(f(this,oT,"f").actions,e)}))}getHomeFeed(){return h(this,void 0,void 0,(function*(){const t=yield f(this,oT,"f").actions.execute(nT,sT({browse_id:"FEkids_home",client:"YTKIDS"}));return new ob(f(this,oT,"f").actions,t)}))}};var aT,cT,lT,uT,hT;cT=new WeakMap,lT=new WeakMap,aT=new WeakSet,uT=function(t){var e;return h(this,void 0,void 0,(function*(){const i=tT({video_id:t,sts:null===(e=f(this,cT,"f").player)||void 0===e?void 0:e.sts,client:"YTMUSIC"}),n=iT({video_id:t,client:"YTMUSIC"}),s=f(this,lT,"f").execute(ZS,i),o=f(this,lT,"f").execute(eT,n),r=yield Promise.all([s,o]),a=Cb(16);return new eb(r,f(this,lT,"f"),a)}))},hT=function(t){var e;return h(this,void 0,void 0,(function*(){if(!t)throw new vb("List item cannot be undefined");if(!t.endpoint)throw new Error("This item does not have an endpoint.");const i=t.endpoint.call(f(this,lT,"f"),{client:"YTMUSIC",playbackContext:{contentPlaybackContext:Object.assign({signatureTimestamp:null===(e=f(this,cT,"f").player)||void 0===e?void 0:e.sts})}}),n=t.endpoint.call(f(this,lT,"f"),{client:"YTMUSIC",enablePersistentPlaylistPanel:!0,override_endpoint:"/next"}),s=Cb(16),o=yield Promise.all([i,n]);return new eb(o,f(this,lT,"f"),s)}))};const dT=class{constructor(t){aT.add(this),cT.set(this,void 0),lT.set(this,void 0),v(this,cT,t,"f"),v(this,lT,t.actions,"f")}getInfo(t){if(t instanceof hh)return f(this,aT,"m",hT).call(this,t);if("string"==typeof t)return f(this,aT,"m",uT).call(this,t);throw new vb("Invalid target, expected either a video id or a valid MusicTwoRowItem",t)}search(t,e={}){return h(this,void 0,void 0,(function*(){Eb({query:t});const i=yield f(this,lT,"f").execute(QS,JS({query:t,client:"YTMUSIC",params:e.type&&"all"!==e.type?Qs(e):void 0}));return new Zy(i,f(this,lT,"f"),Reflect.has(e,"type")&&"all"!==e.type)}))}getHomeFeed(){return h(this,void 0,void 0,(function*(){const t=yield f(this,lT,"f").execute(nT,sT({browse_id:"FEmusic_home",client:"YTMUSIC"}));return new Iy(t,f(this,lT,"f"))}))}getExplore(){return h(this,void 0,void 0,(function*(){const t=yield f(this,lT,"f").execute(nT,sT({client:"YTMUSIC",browse_id:"FEmusic_explore"}));return new by(t)}))}getLibrary(){return h(this,void 0,void 0,(function*(){const t=yield f(this,lT,"f").execute(nT,sT({client:"YTMUSIC",browse_id:"FEmusic_library_landing"}));return new Dy(t,f(this,lT,"f"))}))}getArtist(t){return h(this,void 0,void 0,(function*(){if(Eb({artist_id:t}),!t.startsWith("UC")&&!t.startsWith("FEmusic_library_privately_owned_artist"))throw new vb("Invalid artist id",t);const e=yield f(this,lT,"f").execute(nT,sT({client:"YTMUSIC",browse_id:t}));return new gy(e,f(this,lT,"f"))}))}getAlbum(t){return h(this,void 0,void 0,(function*(){if(Eb({album_id:t}),!t.startsWith("MPR")&&!t.startsWith("FEmusic_library_privately_owned_release"))throw new vb("Invalid album id",t);const e=yield f(this,lT,"f").execute(nT,sT({client:"YTMUSIC",browse_id:t}));return new vy(e)}))}getPlaylist(t){return h(this,void 0,void 0,(function*(){Eb({playlist_id:t}),t.startsWith("VL")||(t=`VL${t}`);const e=yield f(this,lT,"f").execute(nT,sT({client:"YTMUSIC",browse_id:t}));return new Hy(e,f(this,lT,"f"))}))}getUpNext(t,e=!0){var i,n,s;return h(this,void 0,void 0,(function*(){Eb({video_id:t});const o=yield f(this,lT,"f").execute(eT,Object.assign(Object.assign({},iT({video_id:t,client:"YTMUSIC"})),{parse:!0})),r=null===(i=o.contents_memo)||void 0===i?void 0:i.getType(gf),a=null==r?void 0:r.first();if(!a)throw new vb("Could not find target tab.");const c=null===(n=a.content)||void 0===n?void 0:n.as(Wh);if(!c||!c.content)throw new vb("Music queue was empty, the given id is probably invalid.",c);const l=c.content.as(Uh);if(!l.playlist_id&&e){const e=l.contents.firstOfType(fi);if(!e)throw new vb("Automix item not found");const i=yield null===(s=e.playlist_video)||void 0===s?void 0:s.endpoint.call(f(this,lT,"f"),{videoId:t,client:"YTMUSIC",parse:!0});if(!i||!i.contents_memo)throw new vb("Could not fetch automix");return i.contents_memo.getType(Uh).first()}return l}))}getRelated(t){var e;return h(this,void 0,void 0,(function*(){Eb({video_id:t});const i=yield f(this,lT,"f").execute(eT,Object.assign(Object.assign({},iT({video_id:t,client:"YTMUSIC"})),{parse:!0})),n=null===(e=i.contents_memo)||void 0===e?void 0:e.getType(gf),s=null==n?void 0:n.matchCondition((t=>{var e,i;return"MUSIC_PAGE_TYPE_TRACK_RELATED"===(null===(i=null===(e=t.endpoint.payload.browseEndpointContextSupportedConfigs)||void 0===e?void 0:e.browseEndpointContextMusicConfig)||void 0===i?void 0:i.pageType)}));if(!s)throw new vb("Could not find target tab.");const o=yield s.endpoint.call(f(this,lT,"f"),{client:"YTMUSIC",parse:!0});if(!o.contents)throw new vb("Unexpected response",o);return o.contents.item().as(xt).contents.as(ph,vh)}))}getLyrics(t){var e;return h(this,void 0,void 0,(function*(){Eb({video_id:t});const i=yield f(this,lT,"f").execute(eT,Object.assign(Object.assign({},iT({video_id:t,client:"YTMUSIC"})),{parse:!0})),n=null===(e=i.contents_memo)||void 0===e?void 0:e.getType(gf),s=null==n?void 0:n.matchCondition((t=>{var e,i;return"MUSIC_PAGE_TYPE_TRACK_LYRICS"===(null===(i=null===(e=t.endpoint.payload.browseEndpointContextSupportedConfigs)||void 0===e?void 0:e.browseEndpointContextMusicConfig)||void 0===i?void 0:i.pageType)}));if(!s)throw new vb("Could not find target tab.");const o=yield s.endpoint.call(f(this,lT,"f"),{client:"YTMUSIC",parse:!0});if(!o.contents)throw new vb("Unexpected response",o);if("Message"===o.contents.item().type)throw new vb(o.contents.item().as(Qo).text.toString(),t);return o.contents.item().as(xt).contents.firstOfType(vh)}))}getRecap(){return h(this,void 0,void 0,(function*(){const t=yield f(this,lT,"f").execute(nT,sT({client:"YTMUSIC_ANDROID",browse_id:"FEmusic_listening_review"}));return new Yy(t,f(this,lT,"f"))}))}getSearchSuggestions(t){return h(this,void 0,void 0,(function*(){const e=yield f(this,lT,"f").execute("/music/get_search_suggestions",Object.assign(Object.assign({},(i={input:t},{input:i.input,client:"YTMUSIC"})),{parse:!0}));var i;if(!e.contents_memo)throw new vb("Unexpected response",e);return e.contents_memo.getType(Wp).first().contents}))}};var pT,fT,vT,mT,_T;fT=new WeakMap,pT=new WeakSet,vT=function(){return h(this,void 0,void 0,(function*(){const t=`innertube_android:${fb.shim.uuidv4()}:0:v=3,api=1,cf=3`,e={frontendUploadId:t,deviceDisplayName:"Pixel 6 Pro",fileId:`goog-edited-video://generated?videoFileUri=content://media/external/video/media/${fb.shim.uuidv4()}`,mp4MoovAtomRelocationStatus:"UNSUPPORTED",transcodeResult:"DISABLED",connectionType:"WIFI"},i=yield f(this,fT,"f").http.fetch("/upload/youtubei",{baseURL:x.YT_UPLOAD,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"start","x-goog-upload-protocol":"resumable"},body:JSON.stringify(e)});if(!i.ok)throw new vb("Could not get initial upload data");return{frontend_upload_id:t,upload_id:i.headers.get("x-guploader-uploadid"),upload_url:i.headers.get("x-goog-upload-url"),scotty_resource_id:i.headers.get("x-goog-upload-header-scotty-resource-id"),chunk_granularity:i.headers.get("x-goog-upload-chunk-granularity")}}))},mT=function(t,e){return h(this,void 0,void 0,(function*(){const i=yield f(this,fT,"f").http.fetch_function(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"upload, finalize","x-goog-upload-file-name":`file-${Date.now()}`,"x-goog-upload-offset":"0"},body:e});if(!i.ok)throw new vb("Could not upload video");return yield i.json()}))},_T=function(t,e,i){return h(this,void 0,void 0,(function*(){var n;return yield f(this,fT,"f").actions.execute("/upload/createvideo",(n={resource_id:{scotty_resource_id:{id:e.scottyResourceId}},frontend_upload_id:t.frontend_upload_id,initial_metadata:{title:{new_title:i.title||(new Date).toDateString()},description:{new_description:i.description||"",should_segment:!0},privacy:{new_privacy:i.privacy||"PRIVATE"},draft_state:{is_draft:i.is_draft}},client:"ANDROID"},Object.assign({resourceId:{scottyResourceId:{id:n.resource_id.scotty_resource_id.id}},frontendUploadId:n.frontend_upload_id,initialMetadata:{title:{newTitle:n.initial_metadata.title.new_title},description:{newDescription:n.initial_metadata.description.new_description,shouldSegment:n.initial_metadata.description.should_segment},privacy:{newPrivacy:n.initial_metadata.privacy.new_privacy},draftState:{isDraft:!!n.initial_metadata.draft_state.is_draft}}},{client:n.client})))}))};const gT=class{constructor(t){pT.add(this),fT.set(this,void 0),v(this,fT,t,"f")}setThumbnail(t,e){return h(this,void 0,void 0,(function*(){if(!f(this,fT,"f").logged_in)throw new vb("You must be signed in to perform this operation.");if(!t||!e)throw new _b("One or more parameters are missing.");const i=function(t,e){return Gs({context:{client:{unkparam:14,clientName:T.ANDROID.NAME,clientVersion:T.YTSTUDIO_ANDROID.VERSION}},target:t,videoThumbnail:{type:3,thumbnail:{imageData:e}}})}(t,e);return yield f(this,fT,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:i})}))}updateVideoMetadata(t,e){return h(this,void 0,void 0,(function*(){if(!f(this,fT,"f").logged_in)throw new vb("You must be signed in to perform this operation.");const i=function(t,e){const i={context:{client:{unkparam:14,clientName:T.ANDROID.NAME,clientVersion:T.YTSTUDIO_ANDROID.VERSION}},target:t};if(Reflect.has(e,"title")&&(i.title={text:e.title||""}),Reflect.has(e,"description")&&(i.description={text:e.description||""}),Reflect.has(e,"license")&&(i.license={type:e.license||""}),Reflect.has(e,"tags")&&(i.tags={list:e.tags||[]}),Reflect.has(e,"category")&&(i.category={id:e.category||0}),Reflect.has(e,"privacy"))switch(e.privacy){case"PUBLIC":i.privacy={type:1};break;case"UNLISTED":i.privacy={type:2};break;case"PRIVATE":i.privacy={type:3};break;default:throw new Error("Invalid visibility option")}return Reflect.has(e,"made_for_kids")&&(i.madeForKids={unkparam:1,choice:e.made_for_kids?1:2}),Reflect.has(e,"age_restricted")&&(i.ageRestricted={unkparam:1,choice:e.age_restricted?1:2}),Gs(i)}(t,e);return yield f(this,fT,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:i})}))}upload(t,e={}){return h(this,void 0,void 0,(function*(){if(!f(this,fT,"f").logged_in)throw new vb("You must be signed in to perform this operation.");const i=yield f(this,pT,"m",vT).call(this),n=yield f(this,pT,"m",mT).call(this,i.upload_url,t);if("STATUS_SUCCESS"!==n.status)throw new vb("Could not process video.");return yield f(this,pT,"m",_T).call(this,i,n,e)}))}};var yT;yT=new WeakMap;const bT=class{constructor(t){yT.set(this,void 0),v(this,yT,t,"f"),this.channel={editName:t=>{if(!f(this,yT,"f").session.logged_in)throw new vb("You must be signed in to perform this operation.");return f(this,yT,"f").execute("/channel/edit_name",{givenName:{given_name:t}.given_name,client:"ANDROID"})},editDescription:t=>{if(!f(this,yT,"f").session.logged_in)throw new vb("You must be signed in to perform this operation.");return f(this,yT,"f").execute("/channel/edit_description",{givenDescription:{given_description:t}.given_description,client:"ANDROID"})},getBasicAnalytics:()=>this.getAnalytics()}}getInfo(){return h(this,void 0,void 0,(function*(){if(!f(this,yT,"f").session.logged_in)throw new vb("You must be signed in to perform this operation.");const t=yield f(this,yT,"f").execute("/account/accounts_list",{client:"ANDROID"});return new s_(t)}))}getTimeWatched(){return h(this,void 0,void 0,(function*(){const t=yield f(this,yT,"f").execute(nT,sT({browse_id:"SPtime_watched",client:"ANDROID"}));return new Cg(t)}))}getSettings(){return h(this,void 0,void 0,(function*(){const t=yield f(this,yT,"f").execute(nT,sT({browse_id:"SPaccount_overview"}));return new Tg(f(this,yT,"f"),t)}))}getAnalytics(){var t;return h(this,void 0,void 0,(function*(){const e=yield this.getInfo(),i=yield f(this,yT,"f").execute(nT,sT({browse_id:"FEanalytics_screen",params:qs(null===(t=e.footers)||void 0===t?void 0:t.endpoint.payload.browseId),client:"ANDROID"}));return new r_(i)}))}},wT="/browse/edit_playlist";function xT(t){return{playlistId:t.playlist_id,actions:t.actions.map((t=>Object.assign({action:t.action},{addedVideoId:t.added_video_id,setVideoId:t.set_video_id,movedSetVideoIdPredecessor:t.moved_set_video_id_predecessor,playlistDescription:t.playlist_description,playlistName:t.playlist_name})))}}var ST;ST=new WeakMap;const TT=class{constructor(t){ST.set(this,void 0),v(this,ST,t,"f")}create(t,e){return h(this,void 0,void 0,(function*(){if(Eb({title:t,video_ids:e}),!f(this,ST,"f").session.logged_in)throw new vb("You must be signed in to perform this operation.");const i=yield f(this,ST,"f").execute("/playlist/create",(n={ids:e,title:t},{title:n.title,ids:n.ids}));var n;return{success:i.success,status_code:i.status_code,playlist_id:i.data.playlistId,data:i.data}}))}delete(t){return h(this,void 0,void 0,(function*(){if(Eb({playlist_id:t}),!f(this,ST,"f").session.logged_in)throw new vb("You must be signed in to perform this operation.");const e=yield f(this,ST,"f").execute("/playlist/delete",(i={playlist_id:t},{playlistId:i.playlist_id}));var i;return{playlist_id:t,success:e.success,status_code:e.status_code,data:e.data}}))}addVideos(t,e){return h(this,void 0,void 0,(function*(){if(Eb({playlist_id:t,video_ids:e}),!f(this,ST,"f").session.logged_in)throw new vb("You must be signed in to perform this operation.");const i=yield f(this,ST,"f").execute(wT,xT({actions:e.map((t=>({action:"ACTION_ADD_VIDEO",added_video_id:t}))),playlist_id:t}));return{playlist_id:t,action_result:i.data.actions}}))}removeVideos(t,e){return h(this,void 0,void 0,(function*(){if(Eb({playlist_id:t,video_ids:e}),!f(this,ST,"f").session.logged_in)throw new vb("You must be signed in to perform this operation.");const i=yield f(this,ST,"f").execute(nT,Object.assign(Object.assign({},sT({browse_id:`VL${t}`})),{parse:!0})),n=new F_(f(this,ST,"f"),i,!0);if(!n.info.is_editable)throw new vb("This playlist cannot be edited.",t);const s={playlist_id:t,actions:[]},o=t=>h(this,void 0,void 0,(function*(){if(t.videos.filter((t=>e.includes(t.key("id").string()))).forEach((t=>s.actions.push({action:"ACTION_REMOVE_VIDEO",set_video_id:t.key("set_video_id").string()}))),s.actions.length<e.length){const e=yield t.getContinuation();return o(e)}}));if(yield o(n),!s.actions.length)throw new vb("Given video ids were not found in this playlist.",e);const r=yield f(this,ST,"f").execute(wT,xT(s));return{playlist_id:t,action_result:r.data.actions}}))}moveVideo(t,e,i){return h(this,void 0,void 0,(function*(){if(Eb({playlist_id:t,moved_video_id:e,predecessor_video_id:i}),!f(this,ST,"f").session.logged_in)throw new vb("You must be signed in to perform this operation.");const n=yield f(this,ST,"f").execute(nT,Object.assign(Object.assign({},sT({browse_id:`VL${t}`})),{parse:!0})),s=new F_(f(this,ST,"f"),n,!0);if(!s.info.is_editable)throw new vb("This playlist cannot be edited.",t);const o={playlist_id:t,actions:[]};let r,a;const c=t=>h(this,void 0,void 0,(function*(){const n=t.videos.find((t=>e===t.key("id").string())),s=t.videos.find((t=>i===t.key("id").string()));if(r=r||(null==n?void 0:n.key("set_video_id").string()),a=a||(null==s?void 0:s.key("set_video_id").string()),!r||!a){const e=yield t.getContinuation();return c(e)}}));yield c(s),o.actions.push({action:"ACTION_MOVE_VIDEO_AFTER",set_video_id:r,moved_set_video_id_predecessor:a});const l=yield f(this,ST,"f").execute(wT,xT(o));return{playlist_id:t,action_result:l.data.actions}}))}setName(t,e){return h(this,void 0,void 0,(function*(){if(Eb({playlist_id:t,name:e}),!f(this,ST,"f").session.logged_in)throw new vb("You must be signed in to perform this operation.");const i={playlist_id:t,actions:[]};i.actions.push({action:"ACTION_SET_PLAYLIST_NAME",playlist_name:e});const n=yield f(this,ST,"f").execute(wT,xT(i));return{playlist_id:t,action_result:n.data.actions}}))}setDescription(t,e){return h(this,void 0,void 0,(function*(){if(Eb({playlist_id:t,description:e}),!f(this,ST,"f").session.logged_in)throw new vb("You must be signed in to perform this operation.");const i={playlist_id:t,actions:[]};i.actions.push({action:"ACTION_SET_PLAYLIST_DESCRIPTION",playlist_description:e});const n=yield f(this,ST,"f").execute(wT,xT(i));return{playlist_id:t,action_result:n.data.actions}}))}};var IT;IT=new WeakMap;const CT=class{constructor(t){IT.set(this,void 0),v(this,IT,t,"f")}like(t){return h(this,void 0,void 0,(function*(){if(Eb({video_id:t}),!f(this,IT,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");var e;return yield f(this,IT,"f").execute("/like/like",(e={client:"ANDROID",target:{video_id:t}},Object.assign({target:{videoId:e.target.video_id}},{client:e.client})))}))}dislike(t){return h(this,void 0,void 0,(function*(){if(Eb({video_id:t}),!f(this,IT,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");var e;return yield f(this,IT,"f").execute("/like/dislike",(e={client:"ANDROID",target:{video_id:t}},Object.assign({target:{videoId:e.target.video_id}},{client:e.client})))}))}removeRating(t){return h(this,void 0,void 0,(function*(){if(Eb({video_id:t}),!f(this,IT,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");var e;return yield f(this,IT,"f").execute("/like/removelike",(e={client:"ANDROID",target:{video_id:t}},Object.assign({target:{videoId:e.target.video_id}},{client:e.client})))}))}subscribe(t){return h(this,void 0,void 0,(function*(){if(Eb({channel_id:t}),!f(this,IT,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");var e;return yield f(this,IT,"f").execute("/subscription/subscribe",(e={client:"ANDROID",channel_ids:[t],params:"EgIIAhgA"},Object.assign({channelIds:e.channel_ids},{client:e.client,params:e.params})))}))}unsubscribe(t){return h(this,void 0,void 0,(function*(){if(Eb({channel_id:t}),!f(this,IT,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");var e;return yield f(this,IT,"f").execute("/subscription/unsubscribe",(e={client:"ANDROID",channel_ids:[t],params:"CgIIAhgA"},Object.assign({channelIds:e.channel_ids},{client:e.client,params:e.params})))}))}comment(t,e){return h(this,void 0,void 0,(function*(){if(Eb({video_id:t,text:e}),!f(this,IT,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");var i;return yield f(this,IT,"f").execute("/comment/create_comment",(i={comment_text:e,create_comment_params:to(t),client:"ANDROID"},Object.assign({commentText:i.comment_text,createCommentParams:i.create_comment_params},{client:i.client})))}))}translate(t,e,i={}){return h(this,void 0,void 0,(function*(){Eb({text:t,target_language:e});const n=eo(22,Object.assign({text:t,target_language:e},i)),s=yield f(this,IT,"f").execute("/comment/perform_comment_action",(o={client:"ANDROID",actions:[n]},Object.assign({actions:o.actions},{client:o.client})));var o;const r=s.data.frameworkUpdates.entityBatchUpdate.mutations[0].payload.commentEntityPayload;return{success:s.success,status_code:s.status_code,translated_content:r.translatedContent.content,data:s.data}}))}setNotificationPreferences(t,e){return h(this,void 0,void 0,(function*(){if(Eb({channel_id:t,type:e}),!f(this,IT,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");const i={PERSONALIZED:1,ALL:2,NONE:3};if(!Object.keys(i).includes(e.toUpperCase()))throw new Error(`Invalid notification preference type: ${e}`);var n;return yield f(this,IT,"f").execute("/notification/modify_channel_preference",(n={client:"WEB",params:io(t,i[e.toUpperCase()])},Object.assign({params:n.params},{client:n.client})))}))}};var kT;class ET{constructor(t){kT.set(this,void 0),v(this,kT,t,"f")}static create(t={}){return h(this,void 0,void 0,(function*(){return new ET(yield XS.create(t))}))}getInfo(t,e){var i,n,s,o,r;return h(this,void 0,void 0,(function*(){let a;if(Eb({target:t}),t instanceof U)a=iT({video_id:null===(i=t.payload)||void 0===i?void 0:i.videoId,playlist_id:null===(n=t.payload)||void 0===n?void 0:n.playlistId,params:null===(s=t.payload)||void 0===s?void 0:s.params,playlist_index:null===(o=t.payload)||void 0===o?void 0:o.index});else{if("string"!=typeof t)throw new vb("Invalid target, expected either a video id or a valid NavigationEndpoint",t);a=iT({video_id:t})}if(!a.videoId)throw new vb("Video id cannot be empty",a);const c=tT({video_id:a.videoId,playlist_id:null==a?void 0:a.playlistId,client:e,sts:null===(r=f(this,kT,"f").player)||void 0===r?void 0:r.sts}),l=this.actions.execute(ZS,c),u=this.actions.execute(eT,a),h=yield Promise.all([l,u]),d=Cb(16);return new py(h,this.actions,d)}))}getBasicInfo(t,e){var i;return h(this,void 0,void 0,(function*(){Eb({video_id:t});const n=yield this.actions.execute(ZS,tT({video_id:t,client:e,sts:null===(i=f(this,kT,"f").player)||void 0===i?void 0:i.sts})),s=Cb(16);return new py([n],this.actions,s)}))}search(t,e={}){return h(this,void 0,void 0,(function*(){Eb({query:t});const i=yield this.actions.execute(QS,JS({query:t,params:e?Xs(e):void 0}));return new bg(this.actions,i)}))}getSearchSuggestions(t){return h(this,void 0,void 0,(function*(){Eb({query:t});const e=new URL(`${x.YT_SUGGESTIONS}search`);e.searchParams.set("q",t),e.searchParams.set("hl",f(this,kT,"f").context.client.hl),e.searchParams.set("gl",f(this,kT,"f").context.client.gl),e.searchParams.set("ds","yt"),e.searchParams.set("client","youtube"),e.searchParams.set("xssi","t"),e.searchParams.set("oe","UTF");const i=yield f(this,kT,"f").http.fetch(e),n=yield i.text();return JSON.parse(n.replace(")]}'",""))[1].map((t=>t[0]))}))}getComments(t,e){return h(this,void 0,void 0,(function*(){Eb({video_id:t});const i=yield this.actions.execute(eT,iT({continuation:Zs(t,{sort_by:e||"TOP_COMMENTS"})}));return new E_(this.actions,i.data)}))}getHomeFeed(){return h(this,void 0,void 0,(function*(){const t=yield this.actions.execute(nT,sT({browse_id:"FEwhat_to_watch"}));return new O_(this.actions,t)}))}getGuide(){return h(this,void 0,void 0,(function*(){const t=yield this.actions.execute("/guide");return new A_(t.data)}))}getLibrary(){return h(this,void 0,void 0,(function*(){const t=yield this.actions.execute(nT,sT({browse_id:"FElibrary"}));return new G_(this.actions,t)}))}getHistory(){return h(this,void 0,void 0,(function*(){const t=yield this.actions.execute(nT,sT({browse_id:"FEhistory"}));return new P_(this.actions,t)}))}getTrending(){return h(this,void 0,void 0,(function*(){const t=yield this.actions.execute(nT,Object.assign(Object.assign({},sT({browse_id:"FEtrending"})),{parse:!0}));return new g_(this.actions,t)}))}getSubscriptionsFeed(){return h(this,void 0,void 0,(function*(){const t=yield this.actions.execute(nT,Object.assign(Object.assign({},sT({browse_id:"FEsubscriptions"})),{parse:!0}));return new f_(this.actions,t)}))}getChannel(t){return h(this,void 0,void 0,(function*(){Eb({id:t});const e=yield this.actions.execute(nT,sT({browse_id:t}));return new w_(this.actions,e)}))}getNotifications(){return h(this,void 0,void 0,(function*(){const t=yield this.actions.execute("/notification/get_notification_menu",(e={notifications_menu_request_type:"NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX"},Object.assign({notificationsMenuRequestType:e.notifications_menu_request_type})));var e;return new gg(this.actions,t)}))}getUnseenNotificationsCount(){var t,e,i,n;return h(this,void 0,void 0,(function*(){const s=yield this.actions.execute("/notification/get_unseen_count");return(null===(t=s.data)||void 0===t?void 0:t.unseenCount)||(null===(n=null===(i=null===(e=s.data)||void 0===e?void 0:e.actions)||void 0===i?void 0:i[0].updateNotificationsUnseenCountAction)||void 0===n?void 0:n.unseenCount)||0}))}getPlaylist(t){return h(this,void 0,void 0,(function*(){Eb({id:t}),t.startsWith("VL")||(t=`VL${t}`);const e=yield this.actions.execute(nT,sT({browse_id:t}));return new F_(this.actions,e)}))}getHashtag(t){return h(this,void 0,void 0,(function*(){Eb({hashtag:t});const e=yield this.actions.execute(nT,sT({browse_id:"FEhashtag",params:no(t)}));return new D_(this.actions,e)}))}getStreamingData(t,e={}){return h(this,void 0,void 0,(function*(){return(yield this.getBasicInfo(t)).chooseFormat(e)}))}download(t,e){return h(this,void 0,void 0,(function*(){return(yield this.getBasicInfo(t,null==e?void 0:e.client)).download(e)}))}resolveURL(t){return h(this,void 0,void 0,(function*(){var e;return(yield this.actions.execute("/navigation/resolve_url",Object.assign(Object.assign({},(e={url:t},Object.assign({url:e.url}))),{parse:!0}))).endpoint}))}call(t,e){return t.call(this.actions,e)}get music(){return new dT(f(this,kT,"f"))}get studio(){return new gT(f(this,kT,"f"))}get kids(){return new rT(f(this,kT,"f"))}get account(){return new bT(f(this,kT,"f").actions)}get playlist(){return new TT(f(this,kT,"f").actions)}get interact(){return new CT(f(this,kT,"f").actions)}get actions(){return f(this,kT,"f").actions}get session(){return f(this,kT,"f")}}kT=new WeakMap;const RT=ET;var AT,MT,PT,OT;MT=new WeakMap,PT=new WeakMap,AT=new WeakSet,OT=function(){const t=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return t?new Promise(((e,i)=>{const n=t.open("youtubei.js",1);n.onsuccess=function(){e(this.result)},n.onerror=function(t){i("indexedDB request error"),console.error(t)},n.onupgradeneeded=function(){this.result.createObjectStore("kv-store",{keyPath:"k"}).transaction.oncomplete=function(){e(this.db)}}})):console.log("IndexedDB is not supported. No cache will be used.")},fb.load({runtime:"browser",server:!1,info:{version:Mb.i8,bugs_url:Mb.eN.H,repo_url:Mb.Xh.split("#")[0]},Cache:class{constructor(t=!1,e){AT.add(this),MT.set(this,void 0),PT.set(this,void 0),v(this,MT,e||"","f"),v(this,PT,t,"f")}get cache_dir(){return f(this,PT,"f")?f(this,MT,"f"):""}get(t){return h(this,void 0,void 0,(function*(){const e=yield f(this,AT,"m",OT).call(this);if(e)return new Promise(((i,n)=>{const s=e.transaction("kv-store","readonly").objectStore("kv-store").get(t);s.onerror=n,s.onsuccess=function(){var t;const e=null===(t=this.result)||void 0===t?void 0:t.v;i(e?e.buffer:void 0)}}))}))}set(t,e){return h(this,void 0,void 0,(function*(){const i=yield f(this,AT,"m",OT).call(this);if(i)return new Promise(((n,s)=>{const o=i.transaction("kv-store","readwrite").objectStore("kv-store").put({k:t,v:e});o.onerror=s,o.onsuccess=()=>n()}))}))}remove(t){return h(this,void 0,void 0,(function*(){const e=yield f(this,AT,"m",OT).call(this);if(e)return new Promise(((i,n)=>{const s=e.transaction("kv-store","readwrite").objectStore("kv-store").delete(t);s.onerror=n,s.onsuccess=()=>i()}))}))}},sha1Hash:function(t){return h(this,void 0,void 0,(function*(){const e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];return function(t){const i=new Uint8Array(t),n=[];for(let t=0;t<i.length;++t)n.push(e[i[t]]);return n.join("")}(yield crypto.subtle.digest("SHA-1",(new TextEncoder).encode(t)))}))},uuidv4(){var t;return(null===(t=globalThis.crypto)||void 0===t?void 0:t.randomUUID())?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(t=>{const e=parseInt(t);return(e^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))},eval:function(t,e){const i=new bS(t);for(const[t,n]of Object.entries(e))i.scope.set(t,n);return i.interpret()},fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent}),i(486);const DT=class{#t=null;#e=null;constructor(t){this.#t=t}async init(){this.#e=await RT.create({cache:new Dg(!1),generate_session_locally:!0,fetch:async(t,e)=>{const i=new URL(t);return console.log(i),fetch({},e)}})}};!async function(){const t=new DT("your_video_id");await t.init()}()})()})();
//# sourceMappingURL=bundle.js.map